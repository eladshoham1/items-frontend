/*! For license information please see main.e37546fa.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),a=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var P=Array.isArray,O=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},D=[],M=-1;function F(e){return{current:e}}function B(e){0>M||(e.current=D[M],D[M]=null,M--)}function U(e,t){M++,D[M]=e.current,e.current=t}var $=F(null),W=F(null),H=F(null),q=F(null);function V(e,t){switch(U(H,t),U(W,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?au(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=au(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),U($,e)}function K(){B($),B(W),B(H)}function Q(e){null!==e.memoizedState&&U(q,e);var t=$.current,n=iu(t,e.type);t!==n&&(U(W,e),U($,n))}function G(e){W.current===e&&(B($),B(W)),q.current===e&&(B(q),Qu._currentValue=z)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ve(r):0!==(s&=o)?a=ve(s):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~i)?a=ve(o):0!==s?a=ve(s):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=be;return 0===(62914560&(be<<=1))&&(be=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Re=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Re,Pe="__reactProps$"+Re,Oe="__reactContainer$"+Re,Le="__reactEvents$"+Re,ze="__reactListeners$"+Re,De="__reactHandles$"+Re,Me="__reactResources$"+Re,Fe="__reactMarker$"+Re;function Be(e){delete e[Ae],delete e[Pe],delete e[Le],delete e[ze],delete e[De]}function Ue(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yu(e);null!==e;){if(n=e[Ae])return n;e=yu(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ae]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Fe]=!0}var Ve=new Set,Ke={};function Qe(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Ye,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,Y.call(et,a)||!Y.call(Ze,a)&&(Xe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function bt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(P(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Pt=null;function Ot(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Pe]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Lt=!1;function zt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==At||null!==Pt)&&(Uc(),At&&(t=At,e=Pt,Pt=At=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Ph){Ft=!1}var Ut=null,$t=null,Wt=null;function Ht(){if(Wt)return Wt;var e,t,n=$t,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Wt=a.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Vt(){return!0}function Kt(){return!1}function Qt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Vt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var Gt,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Gt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Gt=0,Jt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Xt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Qt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(h({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Mt&&"CompositionEvent"in window,kn=null;Mt&&"documentMode"in document&&(kn=document.documentMode);var Nn=Mt&&"TextEvent"in window&&!kn,Sn=Mt&&(!jn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),En=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Pn(e,t,n,r){At?Pt?Pt.push(r):Pt=[r]:At=r,0<(t=Hd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Ln=null;function zn(e){zd(e,0)}function Dn(e){if(ht(We(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Bn;if(Mt){var Un="oninput"in document;if(!Un){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Un="function"===typeof $n.oninput}Bn=Un}else Bn=!1;Fn=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){On&&(On.detachEvent("onpropertychange",Hn),Ln=On=null)}function Hn(e){if("value"===e.propertyName&&Dn(Ln)){var t=[];Pn(t,Ln,e,Rt(e)),zt(zn,t)}}function qn(e,t,n){"focusin"===e?(Wn(),Ln=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Wn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Ln)}function Kn(e,t){if("click"===e)return Dn(t)}function Qn(e,t){if("input"===e||"change"===e)return Dn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Y.call(t,a)||!Gn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Hd(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function hr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}Mt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),br=hr("transitionstart"),vr=hr("transitioncancel"),yr=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){xr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],Cr=0,Er=0;function Ir(){for(var e=Cr,t=Er=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Ar(n,a,i)}}function _r(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return _r(e,t,n,r),Pr(e)}function Rr(e,t){return _r(e,null,null,t),Pr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Pr(e){if(50<Ac)throw Ac=0,Pc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Dr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=zr(31,n,t,a)).elementType=E,e.lanes=i,e;case g:return Ur(n.children,a,i,t);case b:o=8,a|=24;break;case v:return(e=zr(12,n,t,2|a)).elementType=v,e.lanes=i,e;case k:return(e=zr(13,n,t,a)).elementType=k,e.lanes=i,e;case N:return(e=zr(19,n,t,a)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case w:o=10;break e;case x:o=9;break e;case j:o=11;break e;case S:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Vr=null,Kr=0,Qr=[],Gr=0,Yr=null,Jr=1,Xr="";function Zr(e,t){Hr[qr++]=Kr,Hr[qr++]=Vr,Vr=e,Kr=t}function ea(e,t,n){Qr[Gr++]=Jr,Qr[Gr++]=Xr,Qr[Gr++]=Yr,Yr=e;var r=Jr;e=Xr;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var i=32-pe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Jr=1<<32-pe(t)+a|n<<a|r,Xr=i+e}else Jr=1<<i|n<<a|r,Xr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Vr;)Vr=Hr[--qr],Hr[qr]=null,Kr=Hr[--qr],Hr[qr]=null;for(;e===Yr;)Yr=Qr[--Gr],Qr[Gr]=null,Xr=Qr[--Gr],Qr[Gr]=null,Jr=Qr[--Gr],Qr[Gr]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw ma(Nr(Error(s(418,"")),e)),la}function da(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Pe]=r,n){case"dialog":Dd("cancel",t),Dd("close",t);break;case"iframe":case"object":case"embed":Dd("load",t);break;case"video":case"audio":for(n=0;n<Od.length;n++)Dd(Od[n],t);break;case"source":Dd("error",t);break;case"img":case"image":case"link":Dd("error",t),Dd("load",t);break;case"details":Dd("toggle",t);break;case"input":Dd("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Dd("invalid",t);break;case"textarea":Dd("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yd(t.textContent,n)?(null!=r.popover&&(Dd("beforetoggle",t),Dd("toggle",t)),null!=r.onScroll&&Dd("scroll",t),null!=r.onScrollEnd&&Dd("scrollend",t),null!=r.onClick&&(t.onclick=Jd),t=!0):t=!1,t||ca(e)}function ua(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return ua(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||su(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),ua(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=bu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,pu(e.type)?(e=vu,vu=null,aa=e):aa=n):aa=ra?bu(e.stateNode.nextSibling):null;return!0}function pa(){aa=ra=null,ia=!1}function fa(){var e=sa;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=F(null),ba=null,va=null;function ya(e,t,n){U(ga,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ga.current,B(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Gn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===q.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qu):e=[Qu])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function Na(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Ia(ba,e)}function Ea(e,t){return null===ba&&Sa(e),Ia(e,t)}function Ia(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var _a="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ta=r.unstable_scheduleCallback,Ra=r.unstable_NormalPriority,Aa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pa(){return{controller:new _a,data:new Map,refCount:0}}function Oa(e){e.refCount--,0===e.refCount&&Ta(Ra,(function(){e.controller.abort()}))}var La=null,za=0,Da=0,Ma=null;function Fa(){if(0===--za&&null!==La){null!==Ma&&(Ma.status="fulfilled");var e=La;La=null,Da=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ba=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===La){var n=La=[];za=0,Da=_d(),Ma={status:"pending",value:void 0,then:function(e){n.push(e)}}}za++,t.then(Fa,Fa)}(0,t),null!==Ba&&Ba(e,t)};var Ua=F(null);function $a(){var e=Ua.current;return null!==e?e:rc.pooledCache}function Wa(e,t){U(Ua,null===t?Ua.current:t.pool)}function Ha(){var e=$a();return null===e?null:{parent:Aa._currentValue,pool:e}}var qa=Error(s(460)),Va=Error(s(474)),Ka=Error(s(542)),Qa={then:function(){}};function Ga(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ya(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ya,Ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ya,Ya);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Xa=t,qa}}var Xa=null;function Za(){if(null===Xa)throw Error(s(459));var e=Xa;return Xa=null,e}function ei(e){if(e===qa||e===Ka)throw Error(s(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Pr(e),Ar(e,null,n),t}return _r(e,r,t,n),Pr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Ma)throw Ma}}function di(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(ic&p)===p:(r&p)===p){0!==p&&p===Da&&(li=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var b=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(b,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(b,u,p):m)||void 0===p)break e;u=h({},u,p);break e;case 2:ti=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===i&&(a.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=u}}function ui(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ui(n[e],t)}var pi=F(null),fi=F(0);function mi(e,t){U(fi,e=uc),U(pi,t),uc=e|t.baseLanes}function gi(){U(fi,uc),U(pi,pi.current)}function bi(){uc=fi.current,B(pi),B(fi)}var vi=0,yi=null,xi=null,wi=null,ji=!1,ki=!1,Ni=!1,Si=0,Ci=0,Ei=null,Ii=0;function _i(){throw Error(s(321))}function Ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Ri(e,t,n,r,a,i){return vi=i,yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?qs:Vs,Ni=!1,i=n(r,a),Ni=!1,ki&&(i=Pi(t,n,r,a)),Ai(e),i}function Ai(e){O.H=Hs;var t=null!==xi&&null!==xi.next;if(vi=0,wi=xi=yi=null,ji=!1,Ci=0,Ei=null,t)throw Error(s(300));null===e||Eo||null!==(e=e.dependencies)&&Na(e)&&(Eo=!0)}function Pi(e,t,n,r){yi=e;var a=0;do{if(ki&&(Ei=null),Ci=0,ki=!1,25<=a)throw Error(s(301));if(a+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=Ks,i=t(n,r)}while(ki);return i}function Oi(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(yi.flags|=1024),t}function Li(){var e=0!==Si;return Si=0,e}function zi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Di(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}vi=0,wi=xi=yi=null,ki=!1,Ci=Si=0,Ei=null}function Mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?yi.memoizedState=wi=e:wi=wi.next=e,wi}function Fi(){if(null===xi){var e=yi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?yi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===yi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?yi.memoizedState=wi=e:wi=wi.next=e}return wi}function Bi(e){var t=Ci;return Ci+=1,null===Ei&&(Ei=[]),e=Ja(Ei,e,t),t=yi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?qs:Vs),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bi(e);if(e.$$typeof===w)return Ca(e)}throw Error(s(438,String(e)))}function $i(e){var t=null,n=yi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=yi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Wi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return qi(Fi(),xi,e)}function qi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ic&h)===h:(vi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Da&&(u=!0);else{if((vi&p)===p){d=d.next,p===Da&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,yi.lanes|=p,pc|=p}h=d.action,Ni&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,yi.lanes|=h,pc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!Gn(i,e.memoizedState)&&(Eo=!0,u&&null!==(n=Ma)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Vi(e){var t=Fi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Gn(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=yi,a=Fi(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Gn((xi||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,gs(2048,8,Yi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Gi.bind(null,r,a,n,t),null),null===rc)throw Error(s(349));i||0!==(124&vi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Xi(e)}function Yi(e,t,n){return n((function(){Ji(t)&&Xi(e)}))}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Xi(e){var t=Rr(e,2);null!==t&&zc(t,e,2)}function Zi(e){var t=Mi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,qi(e,xi,"function"===typeof r?r:Wi)}function ts(e,t,n,r,a){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ns(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ns(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=O.T,s={};O.T=s;try{var o=n(a,r),l=O.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){is(e,t,c)}finally{O.T=i}}else try{rs(e,t,i=n(a,r))}catch(d){is(e,t,d)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){as(e,t,n)}),(function(n){return is(e,t,n)})):as(e,t,n)}function as(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=yi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=bu(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=bu(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Mi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Ms.bind(null,yi,r),r.dispatch=n,r=Zi(!1),i=Bs.bind(null,yi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Mi()).queue=a,n=ts.bind(null,yi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ds(Fi(),xi,e)}function ds(e,t,n){if(t=qi(e,t,os)[0],e=Hi(Wi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bi(t)}catch(s){if(s===qa)throw Ka;throw s}else r=t;var a=(t=Fi()).queue,i=a.dispatch;return n!==t.memoizedState&&(yi.flags|=2048,ps(9,{destroy:void 0,resource:void 0},us.bind(null,a,n),null)),[r,i,e]}function us(e,t){e.action=t}function hs(e){var t=Fi(),n=xi;if(null!==n)return ds(t,n,e);Fi(),t=t.memoizedState;var r=(n=Fi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=yi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return Fi().memoizedState}function ms(e,t,n,r){var a=Mi();r=void 0===r?null:r,yi.flags|=e,a.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=Fi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==xi&&null!==r&&Ti(r,xi.memoizedState.deps)?a.memoizedState=ps(t,i,n,r):(yi.flags|=e,a.memoizedState=ps(1|t,i,n,r))}function bs(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function ys(e,t){return gs(4,2,e,t)}function xs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function js(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function ks(){}function Ns(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ti(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),yi.lanes|=e,pc|=e,n)}function Es(e,t,n,r){return Gn(n,t)?n:null!==pi.current?(e=Cs(e,n,r),Gn(e,t)||(Eo=!0),e):0===(42&vi)?(Eo=!0,e.memoizedState=n):(e=Lc(),yi.lanes|=e,pc|=e,t)}function Is(e,t,n,r,a){var i=L.p;L.p=0!==i&&8>i?i:8;var s=O.T,o={};O.T=o,Bs(e,!1,t,n);try{var l=a(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Oc());else Fs(e,t,r,Oc())}catch(d){Fs(e,t,{then:function(){},status:"rejected",reason:d},Oc())}finally{L.p=i,O.T=s}}function _s(){}function Ts(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Rs(e).queue;Is(e,a,t,z,null===n?_s:function(){return As(e),n(r)})}function Rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function As(e){Fs(e,Rs(e).next.queue,{},Oc())}function Ps(){return Ca(Qu)}function Os(){return Fi().memoizedState}function Ls(){return Fi().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ii(t,e=ai(n),n);return null!==r&&(zc(r,t,n),si(r,t,n)),t={cache:Pa()},void(e.payload=t)}t=t.return}}function Ds(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?$s(t,n):null!==(n=Tr(e,t,n,r))&&(zc(n,e,r),Ws(n,t,r))}function Ms(e,t,n){Fs(e,t,n,Oc())}function Fs(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))$s(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Gn(o,s))return _r(e,t,a,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=Tr(e,t,a,r)))return zc(n,e,r),Ws(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:_d(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&zc(t,e,2)}function Us(e){var t=e.alternate;return e===yi||null!==t&&t===yi}function $s(e,t){ki=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Ca,use:Ui,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i},qs={readContext:Ca,use:Ui,useCallback:function(e,t){return Mi().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Mi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mi();if(void 0!==n){var a=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ds.bind(null,yi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Ms.bind(null,yi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Mi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Is.bind(null,yi,e.queue,!0,!1),Mi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=yi,a=Mi();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bs(Yi.bind(null,r,i,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Gi.bind(null,r,i,n,t),null),n},useId:function(){var e=Mi(),t=rc.identifierPrefix;if(ia){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-pe(Jr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ii++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Mi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,yi,!0,n),n.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return Mi().memoizedState=zs.bind(null,yi)}},Vs={readContext:Ca,use:Ui,useCallback:Ns,useContext:Ca,useEffect:vs,useImperativeHandle:js,useInsertionEffect:ys,useLayoutEffect:xs,useMemo:Ss,useReducer:Hi,useRef:fs,useState:function(){return Hi(Wi)},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Fi(),xi.memoizedState,e,t)},useTransition:function(){var e=Hi(Wi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Ki,useId:Os,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Fi(),0,e,t)},useMemoCache:$i,useCacheRefresh:Ls},Ks={readContext:Ca,use:Ui,useCallback:Ns,useContext:Ca,useEffect:vs,useImperativeHandle:js,useInsertionEffect:ys,useLayoutEffect:xs,useMemo:Ss,useReducer:Vi,useRef:fs,useState:function(){return Vi(Wi)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Fi();return null===xi?Cs(n,e,t):Es(n,xi.memoizedState,e,t)},useTransition:function(){var e=Vi(Wi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Ki,useId:Os,useHostTransitionStatus:Ps,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Fi();return null!==xi?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$i,useCacheRefresh:Ls},Qs=null,Gs=0;function Ys(e){var t=Gs;return Gs+=1,null===Qs&&(Qs=[]),Ja(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&Zs(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Wr(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||T(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===w)return h(e,Ea(e,t),n);Xs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?d(e,t,n,r):null;case C:return p(e,t,n=(a=n._init)(n._payload),r)}if(P(n)||T(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ys(n),r);if(n.$$typeof===w)return p(e,t,Ea(e,n),r);Xs(e,n)}return null}function b(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return b(e,t,n,r=(0,r._init)(r._payload),a)}if(P(r)||T(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return b(e,t,n,Ys(r),a);if(r.$$typeof===w)return b(e,t,n,Ea(t,r),a);Xs(t,r)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&Zs(y)===c.type){n(l,c.sibling),Js(u=a(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Ur(d.props.children,l.mode,u,d.key)).return=l,l=u):(Js(u=Br(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case m:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Wr(d,l.mode,u)).return=l,l=u}return o(l);case C:return v(l,c,d=(y=d._init)(d._payload),u)}if(P(d))return function(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=p(a,u,o[f],l);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(a,u),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g,u=m}if(f===o.length)return n(a,u),ia&&Zr(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return ia&&Zr(a,f),c}for(u=r(u);f<o.length;f++)null!==(m=b(u,a,f,o[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=i(m,s,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(a,e)})),ia&&Zr(a,f),c}(l,c,d,u);if(T(d)){if("function"!==typeof(y=T(d)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,f=o,m=o=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var y=p(a,f,v.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),o=i(y,o,m),null===u?d=y:u.sibling=y,u=y,f=g}if(v.done)return n(a,f),ia&&Zr(a,m),d;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,m),null===u?d=v:u.sibling=v,u=v);return ia&&Zr(a,m),d}for(f=r(f);!v.done;m++,v=l.next())null!==(v=b(f,a,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=i(v,o,m),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(a,e)})),ia&&Zr(a,m),d}(l,c,d=y.call(d),u)}if("function"===typeof d.then)return v(l,c,Ys(d),u);if(d.$$typeof===w)return v(l,c,Ea(l,d),u);Xs(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=a(c,d)).return=l,l=u):(n(l,c),(u=$r(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Gs=0;var a=v(e,t,n,r);return Qs=null,a}catch(s){if(s===qa||s===Ka)throw s;var i=zr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=F(null),ao=null;function io(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===ao&&(null===t||null!==pi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){B(ro),ao===e&&(ao=null),B(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(zc(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(zc(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(zc(t,e,n),si(t,e,n))}};function fo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(a,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var bo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){bo(e)}function yo(e){console.error(e)}function xo(e){bo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ko(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=ai(e)).tag=3,e}function So(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){jo(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(s(461)),Eo=!1;function Io(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function _o(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Sa(t),r=Ri(e,t,n,s,i,a),o=Li(),null===e||Eo?(ia&&o&&ta(t),t.flags|=1,Io(e,t,r,a),t.child):(zi(e,t,a),Go(e,t,a))}function To(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Dr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ro(e,t,i,r,a))}if(i=e.child,!Yo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Go(e,t,a)}return t.flags|=1,(e=Mr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,!Yo(e,a))return t.lanes=e.lanes,Go(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Lo(e,t,n,r,a)}function Ao(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Po(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Po(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wa(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?(Wa(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&Wa(0,null),gi(),oo());return Io(e,t,a,n),t.child}function Po(e,t,n,r){var a=$a();return a=null===a?null:{parent:Aa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Wa(0,null),gi(),so(t),null!==e&&ka(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,a){return Sa(t),n=Ri(e,t,n,r,void 0,a),r=Li(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,Io(e,t,n,a),t.child):(zi(e,t,a),Go(e,t,a))}function zo(e,t,n,r,a,i){return Sa(t),t.updateQueue=null,n=Pi(t,r,n,a),Ai(e),r=Li(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,Io(e,t,n,i),t.child):(zi(e,t,i),Go(e,t,i))}function Do(e,t,n,r,a){if(Sa(t),null===t.stateNode){var i=Or,s=n.contextType;"object"===typeof s&&null!==s&&(i=Ca(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Ca(s):Or,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&po.enqueueReplaceState(i,i.state,null),di(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,d=n.contextType;s=Or,"object"===typeof d&&null!==d&&(s=Ca(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&mo(t,i,r,s),ti=!1;var h=t.memoizedState;i.state=h,di(t,r,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof u&&(ho(t,n,u,r),c=t.memoizedState),(l=ti||fo(t,n,l,r,h,c,s))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),d=go(n,s=t.memoizedProps),i.props=d,u=t.pendingProps,h=i.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ca(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,di(t,r,i,a),ci();var p=t.memoizedState;s!==u||h!==p||ti||null!==e&&null!==e.dependencies&&Na(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),p=t.memoizedState),(d=ti||fo(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&Na(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Oo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):Io(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Go(e,t,a),e}function Mo(e,t,n,r){return pa(),t.flags|=256,Io(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Ha()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function $o(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=Ur(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Bo(n),i.childLanes=Uo(e,r,n),t.memoizedState=Fo,a):(io(t),Wo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=qo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=Ur(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Bo(n),a.childLanes=Uo(e,r,n),t.memoizedState=Fo,t=i);else if(io(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(s(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=qo(e,t,n)}else if(Eo||ka(e,t,n,!1),r=0!==(n&e.childLanes),Eo||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ie(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Rr(e,a),zc(r,e,a),Co;"$?"===c.data||Kc(),t=qo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=bu(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Qr[Gr++]=Jr,Qr[Gr++]=Xr,Qr[Gr++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),(t=Wo(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,d=(l=e.child).sibling,(a=Mr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=Mr(d,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(d=Aa._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,r,n),t.memoizedState=Fo,a):(io(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,n){return to(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Ko(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ko(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ko(t,!0,n,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Na(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),ya(0,Aa,e.memoizedState.cache),pa();break;case 27:case 5:Q(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:ya(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(io(t),null!==(e=Go(e,t,n))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ka(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n);case 24:ya(0,Aa,e.memoizedState.cache)}return Go(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ia&&0!==(1048576&t.flags)&&ea(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=_o(null,t,r,e,n);break e}if(a===S){t.tag=14,t=To(null,t,r,e,n);break e}}throw t=A(r)||r,Error(s(306,t,""))}Dr(r)?(e=go(r,e),t.tag=1,t=Do(null,t,r,e,n)):(t.tag=0,t=Lo(null,t,r,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Do(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),di(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ya(0,Aa,r),r!==i.cache&&ja(t,[Aa],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Mo(e,t,r,n);break e}if(r!==a){ma(a=Nr(Error(s(424)),t)),t=Mo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=bu(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Go(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Iu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=ru(H.current).createElement(n))[Ae]=t,r[Pe]=e,eu(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Iu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(r=t.stateNode=xu(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,pu(t.type)?(vu=a,aa=bu(r.firstChild)):aa=a),Io(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=bu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=bu(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Q(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,su(a,i)?r=null:null!==o&&su(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ri(e,t,Oi,null,null,n),Qu._currentValue=a),Oo(e,t),Io(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bu(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return $o(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Io(e,t,r,n),t.child;case 11:return _o(e,t,t.type,t.pendingProps,n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(0,t.type,r.value),Io(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Ca(a)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ao(e,t,n);case 24:return Sa(t),r=Ca(Aa),null===e?(null===(a=$a())&&(a=rc,i=Pa(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),ya(0,Aa,a)):(0!==(e.lanes&n)&&(ri(e,t),di(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ya(0,Aa,r)):(r=i.cache,ya(0,Aa,r),r!==a.cache&&ja(t,[Aa],n,!0))),Io(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Xa=Qa,Va;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,bc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Aa),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:G(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=$.current,ha(t)?da(t):(e=xu(a,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=$.current,ha(t))da(t);else{switch(a=ru(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ae]=t,e[Pe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(eu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yd(e.nodeValue,n)))||ca(t)}else(e=ru(e).createTextNode(r))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ae]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Bd(t.stateNode.containerInfo),nl(t),null;case 10:return xa(t.type),nl(t),null;case 19:if(B(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),bi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Aa),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Aa),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return K(),null;case 10:return xa(t.type),null;case 22:case 23:return lo(t),bi(),null!==e&&B(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Aa),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:xa(Aa),K();break;case 26:case 27:case 5:G(t);break;case 4:K();break;case 13:lo(t);break;case 19:B(co);break;case 10:xa(t.type);break;case 22:case 23:lo(t),bi(),null!==e&&B(Ua);break;case 24:xa(Aa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){dd(a,l,d)}}}r=r.next}while(r!==i)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){dd(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dd(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){dd(e,t,a)}}function ul(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){dd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){dd(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){dd(e,e.return,a)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,d=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Xd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":a=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Xd(e,t,p,f,r,h)}}return void gt(e,o,l,c,d,u,i,a);case"select":for(i in f=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Xd(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Xd(e,t,a,i,r,c)}return t=l,n=o,r=f,void(null!=p?yt(e,!!n,p,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xd(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Xd(e,t,o,a,r,i)}return void xt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Xd(e,t,g,null,r,p);for(d in r)if(p=r[d],f=n[d],r.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Xd(e,t,d,p,r,f)}return;default:if(Ct(t)){for(var b in n)p=n[b],n.hasOwnProperty(b)&&void 0!==p&&!r.hasOwnProperty(b)&&Zd(e,t,b,void 0,r,p);for(u in r)p=r[u],f=n[u],!r.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||Zd(e,t,u,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Xd(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Xd(e,t,h,p,r,f)}(r,e.type,n,t),r[Pe]=t}catch(a){dd(e,e.return,a)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jd));else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);eu(t,r,n),t[Ae]=e,t[Pe]=n}catch(i){dd(e,e.return,i)}}var yl=!1,xl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&r&&sl(5,n);break;case 1:if(Dl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){dd(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&r&&ll(n),512&r&&dl(n,n.return);break;case 3:if(Dl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(s){dd(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Dl(e,n),null===t&&4&r&&hl(n),512&r&&dl(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||xl,a=yl;var i=xl;yl=r,(xl=t)&&!i?Fl(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),yl=a,xl=i}break;case 30:break;default:Dl(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,El=!1;function Il(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(i){}switch(n.tag){case 26:xl||ul(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||ul(n,t);var r=Cl,a=El;pu(n.type)&&(Cl=n.stateNode,El=!1),Il(e,t,n),wu(n.stateNode),Cl=r,El=a;break;case 5:xl||ul(n,t);case 6:if(r=Cl,a=El,Cl=null,Il(e,t,n),El=a,null!==(Cl=r))if(El)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(s){dd(n,t,s)}else try{Cl.removeChild(n.stateNode)}catch(s){dd(n,t,s)}break;case 18:null!==Cl&&(El?(fu(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):fu(Cl,n.stateNode));break;case 4:r=Cl,a=El,Cl=n.stateNode.containerInfo,El=!0,Il(e,t,n),Cl=r,El=a;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Il(e,t,n);break;case 1:xl||(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Il(e,t,n),xl=r;break;default:Il(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){dd(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=md.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pu(l.type)){Cl=l.stateNode,El=!1;break e}break;case 5:Cl=l.stateNode,El=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Cl)throw Error(s(160));_l(i,o,a),Cl=null,El=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Pl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Ll(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Al(t,e),Ll(e),512&r&&(xl||null===n||ul(n,n.return)),64&r&&yl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Pl;if(Al(t,e),Ll(e),512&r&&(xl||null===n||ul(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Fe]||i[Ae]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),eu(i,r,n),i[Ae]=e,qe(i),r=i;break e;case"link":var o=Fu("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eu(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Fu("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eu(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ae]=e,qe(i),r=i}e.stateNode=r}else Bu(a,e.type,e.stateNode);else e.stateNode=Ou(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Bu(a,e.type,e.stateNode):Ou(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),Ll(e),512&r&&(xl||null===n||ul(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),Ll(e),512&r&&(xl||null===n||ul(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(f){dd(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Al(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){dd(e,e.return,f)}}break;case 3:if(Mu=null,a=Pl,Pl=Nu(t.containerInfo),Al(t,e),Pl=a,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(f){dd(e,e.return,f)}wl&&(wl=!1,zl(e));break;case 4:r=Pl,Pl=Nu(e.stateNode.containerInfo),Al(t,e),Ll(e),Pl=r;break;case 12:default:Al(t,e),Ll(e);break;case 13:Al(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=yl,u=xl;if(yl=d||a,xl=u||c,Al(t,e),xl=u,yl=d,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||yl||xl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){dd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){dd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:Al(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;bl(e,ml(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),bl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ml(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Fl(a,i,n),sl(4,i);break;case 1:if(Fl(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){dd(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ui(l[a],o)}catch(c){dd(r,r.return,c)}}n&&64&s&&ll(i),dl(i,i.return);break;case 27:vl(i);case 26:case 5:Fl(a,i,n),n&&null===r&&4&s&&hl(i),dl(i,i.return);break;case 12:Fl(a,i,n);break;case 13:Fl(a,i,n),n&&4&s&&Tl(a,i);break;case 22:null===i.memoizedState&&Fl(a,i,n),dl(i,i.return);break;case 30:break;default:Fl(a,i,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oa(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e)));break;case 12:if(2048&a){$l(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?$l(e,t,n,r):ql(e,t):2&i._visibility?$l(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Bl(s,t);break;case 24:$l(e,t,n,r),2048&a&&Ul(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?Hl(i,s,o,l,a):ql(i,s):(d._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&Bl(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&Ul(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ql(n,r),2048&a&&Bl(r.alternate,r);break;case 24:ql(n,r),2048&a&&Ul(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Vl=8192;function Kl(e){if(e.subtreeFlags&Vl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Kl(e),e.flags&Vl&&null!==e.memoizedState&&function(e,t,n){if(null===$u)throw Error(s(475));var r=$u;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=_u(n.href),i=e.querySelector(Tu(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void qe(i);i=e.ownerDocument||e,n=Ru(n),(a=ju.get(a))&&zu(n,a),qe(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Pl;Pl=Nu(e.stateNode.containerInfo),Kl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Vl,Vl=16777216,Kl(e),Vl=t):Kl(e))}}function Gl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Gl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Gl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var a=(r=kl).sibling,i=r.return;if(Sl(r),r===n){kl=null;break e}if(null!==a){a.return=i,kl=a;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Ca(Aa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,pc=0,fc=0,mc=0,gc=0,bc=0,vc=null,yc=null,xc=!1,wc=0,jc=1/0,kc=null,Nc=null,Sc=0,Cc=null,Ec=null,Ic=0,_c=0,Tc=null,Rc=null,Ac=0,Pc=null;function Oc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==O.T){return 0!==Da?Da:_d()}return Te()}function Lc(){0===gc&&(gc=0===(536870912&ic)||ia?je():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function zc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Wc(e,0),Bc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Bc(e,ic,gc,!1)),jd(e))}function Dc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=qc(),a=Vc();rc!==e||ic!==t?(kc=null,jc=te()+500,Wc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ga(i)){sc=0,oc=null,Xc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),jd(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ga(i)?(sc=0,oc=null,Xc(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Uu(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var d=l.return;null!==d?(ac=d,ed(d)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:$c(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(u){Hc(e,u)}return va=ba=null,O.H=r,O.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Ir(),hc)}(e,t):Qc(e,t,!0),i=r;;){if(0===a){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||Fc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,a=4;break e}i=yc,yc=a,null!==i&&(null===yc?yc=i:yc.push.apply(yc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Wc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Bc(r,t,gc,!lc),0!==ye(r,0,!0))break e;r.timeoutHandle=lu(Mc.bind(null,r,n,yc,kc,xc,t,gc,fc,bc,lc,i,2,-0,0),a)}else Mc(r,n,yc,kc,xc,t,gc,fc,bc,lc,i,0,-0,0)}break}a=Qc(e,t,!1),i=!1}jd(e)}function Mc(e,t,n,r,a,i,o,l,c,d,u,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&($u={stylesheets:null,count:0,unsuspend:Wu},Ql(t),null!==(h=function(){if(null===$u)throw Error(s(475));var e=$u;return e.stylesheets&&0===e.count&&Vu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Vu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,i,n,r,a,o,l,c,u,1,p,f)),void Bc(e,i,o,!d);nd(e,t,i,n,r,a,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Gn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-pe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Ce(e,n,t)}function Uc(){return 0!==(6&nc)||(kd(0,!1),!1)}function $c(){if(null!==ac){if(0===sc)var e=ac.return;else va=ba=null,Di(e=ac),Qs=null,Gs=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c(),rc=e,ac=n=Mr(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=xe(e,t),dc=!1,bc=gc=mc=fc=pc=hc=0,yc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),i=1<<a;t|=e[a],r&=~i}return uc=t,Ir(),n}function Hc(e,t){yi=null,O.H=Hs,t===qa||t===Ka?(t=Za(),sc=3):t===Va?(t=Za(),sc=4):sc=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,Nr(t,e.current)))}function qc(){var e=O.H;return O.H=Hs,null===e?Hs:e}function Vc(){var e=O.A;return O.A=ec,e}function Kc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Bc(rc,ic,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var a=qc(),i=Vc();rc===e&&ic===t||(kc=null,Wc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:$c(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Gc(),s=hc;break}catch(d){Hc(e,d)}return t&&e.shellSuspendCounter++,va=ba=null,nc=r,O.H=a,O.A=i,null===ac&&(rc=null,ic=0,Ir()),s}function Gc(){for(;null!==ac;)Jc(ac)}function Yc(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Jo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=zo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Di(t);default:il(n,t),t=Jo(n,t=ac=Fr(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Zc(e,t,n,r){va=ba=null,Di(t),Qs=null,Gs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ka(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ud(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ud(e,r,a)),!1}throw Error(s(435,n.tag))}return ud(e,r,a),Kc(),!1}if(ia)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Nr(e=Error(s(422),{cause:r}),n))):(r!==la&&ma(Nr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Nr(r,n),oi(e,a=ko(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=Nr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,oi(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,So(a=No(a),e,n,r),oi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,wo(e,Nr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,Nr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=rl(t.alternate,t,uc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function td(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nd(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==Sc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Ce(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Er,o,l,c),e===rc&&(ac=rc=null,ic=0),Ec=t,Cc=e,Ic=n,_c=i,Tc=a,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,(function(){return ld(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,a=L.p,L.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){dd(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,L.p=a,O.T=r}}Sc=1,rd(),ad(),id()}}function rd(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var a=nc;nc|=4;try{Ol(t,e);var i=nu,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var b=Xn(o,m),v=Xn(o,g);if(b&&v&&(1!==p.rangeCount||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=u.createRange();y.setStart(b.node,b.offset),p.removeAllRanges(),m>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var x=u[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!tu,nu=tu=null}finally{nc=a,L.p=r,O.T=n}}e.current=t,Sc=2}}function ad(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var a=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=a,L.p=r,O.T=n}}Sc=3}}function id(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Ic,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,sd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Nc=null),_e(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,a=L.p,L.p=2,O.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{O.T=t,L.p=a}}0!==(3&Ic)&&od(),jd(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Pc?Ac++:(Ac=0,Pc=e):Ac=0,kd(0,!1)}}function sd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oa(t)))}function od(e){return rd(),ad(),id(),ld()}function ld(){if(5!==Sc)return!1;var e=Cc,t=_c;_c=0;var n=_e(Ic),r=O.T,a=L.p;try{L.p=32>n?32:n,O.T=null,n=Tc,Tc=null;var i=Cc,o=Ic;if(Sc=0,Ec=Cc=null,Ic=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Jl(i.current),Wl(i,i.current,o,n),nc=l,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,i)}catch(c){}return!0}finally{L.p=a,O.T=r,sd(e,t)}}function cd(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(So(n,r,t,e),Se(r,2),jd(r));break}}t=t.return}}function ud(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(dc=!0,a.add(n),e=hd.bind(null,e,t,n),t.then(e,e))}function hd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&Wc(e,0):mc|=n,bc===ic&&(bc=0)),jd(e)}function pd(e,t){0===t&&(t=ke()),null!==(e=Rr(e,t))&&(Se(e,t),jd(e))}function fd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function md(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pd(e,n)}var gd=null,bd=null,vd=!1,yd=!1,xd=!1,wd=0;function jd(e){e!==bd&&null===e.next&&(null===bd?gd=bd=e:bd=bd.next=e),yd=!0,vd||(vd=!0,uu((function(){0!==(6&nc)?J(re,Nd):Sd()})))}function kd(e,t){if(!xd&&yd){xd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Id(r,i))}else i=ic,0===(3&(i=ye(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Id(r,i));r=r.next}}while(n);xd=!1}}function Nd(){Sd()}function Sd(){yd=vd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,r=gd;null!==r;){var a=r.next,i=Cd(r,t);0===i?(r.next=null,null===n?gd=a:n.next=a,null===a&&(bd=n)):(n=r,(0!==e||0!==(3&i))&&(yd=!0)),r=a}kd(e,!1)}function Cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-pe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=ye(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),_e(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Ed.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Ed(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=ye(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,r,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ed.bind(null,e):null)}function Id(e,t){if(od())return null;Dc(e,t,!0)}function _d(){return 0===wd&&(wd=je()),wd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Rd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ad=0;Ad<wr.length;Ad++){var Pd=wr[Ad];jr(Pd.toLowerCase(),"on"+(Pd[0].toUpperCase()+Pd.slice(1)))}jr(pr,"onAnimationEnd"),jr(fr,"onAnimationIteration"),jr(mr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(br,"onTransitionStart"),jr(vr,"onTransitionCancel"),jr(yr,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Od));function zd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){bo(d)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){bo(d)}a.currentTarget=null,i=l}}}}function Dd(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function Md(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Fd]){e[Fd]=!0,Ve.forEach((function(t){"selectionchange"!==t&&(Ld.has(t)||Md(t,!1,e),Md(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fd]||(t[Fd]=!0,Md("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $d(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ue(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}zt((function(){var r=i,a=Rt(n),s=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":d="focus",c=sn;break;case"focusout":d="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case pr:case fr:case mr:c=on;break;case yr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Dt(m,p))&&u.push(Wd(m,g,f)),h)break;m=m.return}0<u.length&&(o=new c(o,d,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Ue(d)&&!d[Oe])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ue(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:We(c),f=null==d?o:We(d),(o=new u(g,m+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,Ue(a)===r&&((u=new u(p,m+"enter",d,n,a)).target=f,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(p=d,m=0,f=u=c;f;f=qd(f))m++;for(f=0,g=p;g;g=qd(g))f++;for(;0<m-f;)u=qd(u),m--;for(;0<f-m;)p=qd(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break e;u=qd(u),p=qd(p)}u=null}else u=null;null!==c&&Vd(s,o,c,u,!1),null!==d&&null!==h&&Vd(s,h,d,u,!0)}if("select"===(c=(o=r?We(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=Mn;else if(An(o))if(Fn)b=Qn;else{b=Vn;var v=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(b=Mn):b=Kn;switch(b&&(b=b(e,r))?Pn(s,b,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?We(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var y;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?In(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Sn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Tn&&(y=Ht()):($t="value"in(Ut=a)?Ut.value:Ut.textContent,Tn=!0)),0<(v=Hd(r,x)).length&&(x=new cn(x,e,null,n,a),s.push({event:x,listeners:v}),y?x.data=y:null!==(y=_n(n))&&(x.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!jn&&In(e,t)?(e=Ht(),Wt=$t=Ut=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hd(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:v,listeners:x}),v.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Td((a[Pe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Pe]||null)?Td(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wd){var e=s?Rd(a,s):new FormData(a);Ts(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Rd(a,s):new FormData(a),Ts(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}zd(s,t)}))}function Wd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Dt(e,n))&&r.unshift(Wd(e,a,i)),null!=(a=Dt(e,t))&&r.push(Wd(e,a,i))),3===e.tag)return r;e=e.return}return[]}function qd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vd(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Dt(n,i))&&s.unshift(Wd(n,c,l)):a||null!=(c=Dt(n,i))&&s.push(Wd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kd=/\r\n?/g,Qd=/\u0000|\uFFFD/g;function Gd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Qd,"")}function Yd(e,t){return t=Gd(t),Gd(e)===t}function Jd(){}function Xd(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Xd(e,t,"name",a.name,a,null),Xd(e,t,"formEncType",a.formEncType,a,null),Xd(e,t,"formMethod",a.formMethod,a,null),Xd(e,t,"formTarget",a.formTarget,a,null)):(Xd(e,t,"encType",a.encType,a,null),Xd(e,t,"method",a.method,a,null),Xd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"onScroll":null!=r&&Dd("scroll",e);break;case"onScrollEnd":null!=r&&Dd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Dd("beforetoggle",e),Dd("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zd(e,t,n,r,a,i){switch(n){case"style":St(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Dd("scroll",e);break;case"onScrollEnd":null!=r&&Dd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dd("error",e),Dd("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xd(e,t,r,o,n,null)}}return i&&Xd(e,t,"srcSet",n.srcSet,n,null),void(a&&Xd(e,t,"src",n.src,n,null));case"input":Dd("invalid",e);var l=r=o=i=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Xd(e,t,a,u,n,null)}}return bt(e,r,l,c,d,o,i,!1),void ut(e);case"select":for(i in Dd("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Xd(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=n&&yt(e,!!a,n,!0));case"textarea":for(o in Dd("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Xd(e,t,o,l,n,null)}return wt(e,a,i,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Xd(e,t,c,a,n,null);return;case"dialog":Dd("beforetoggle",e),Dd("toggle",e),Dd("cancel",e),Dd("close",e);break;case"iframe":case"object":Dd("load",e);break;case"video":case"audio":for(a=0;a<Od.length;a++)Dd(Od[a],e);break;case"image":Dd("error",e),Dd("load",e);break;case"details":Dd("toggle",e);break;case"embed":case"source":case"link":Dd("error",e),Dd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xd(e,t,d,a,n,null)}return;default:if(Ct(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&Zd(e,t,u,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Xd(e,t,l,a,n,null))}var tu=null,nu=null;function ru(e){return 9===e.nodeType?e:e.ownerDocument}function au(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function su(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:lu;function hu(e){setTimeout((function(){throw e}))}function pu(e){return"head"===e}function fu(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wu(s.documentElement),2&n&&wu(s.body),4&n)for(wu(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Eh(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Eh(t)}function mu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mu(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function yu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xu(e,t,n){switch(t=ru(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ju=new Map,ku=new Set;function Nu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=L.d;L.d={f:function(){var e=Su.f(),t=Uc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?As(t):Su.r(e)},D:function(e){Su.D(e),Eu("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Eu("preconnect",e,t)},L:function(e,t,n){Su.L(e,t,n);var r=Cu;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=_u(e);break;case"script":i=Au(e)}ju.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ju.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Tu(i))||"script"===t&&r.querySelector(Pu(i))||(eu(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var n=Cu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Au(e)}if(!ju.has(i)&&(e=h({rel:"modulepreload",href:e},t),ju.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pu(i)))return}eu(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Su.X(e,t);var n=Cu;if(n&&e){var r=He(n).hoistableScripts,a=Au(e),i=r.get(a);i||((i=n.querySelector(Pu(a)))||(e=h({src:e,async:!0},t),(t=ju.get(a))&&Du(e,t),qe(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Su.S(e,t,n);var r=Cu;if(r&&e){var a=He(r).hoistableStyles,i=_u(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Tu(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ju.get(i))&&zu(e,n);var l=s=r.createElement("link");qe(l),eu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Lu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Su.M(e,t);var n=Cu;if(n&&e){var r=He(n).hoistableScripts,a=Au(e),i=r.get(a);i||((i=n.querySelector(Pu(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=ju.get(a))&&Du(e,t),qe(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Cu="undefined"===typeof document?null:document;function Eu(e,t,n){var r=Cu;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),ku.has(a)||(ku.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(eu(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Iu(e,t,n,r){var a,i,o,l,c=(c=H.current)?Nu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_u(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_u(n.href);var d=He(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Tu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ju.set(e,n),d||(a=c,i=e,o=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),eu(i,"link",o),qe(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Au(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function _u(e){return'href="'+mt(e)+'"'}function Tu(e){return'link[rel="stylesheet"]['+e+"]"}function Ru(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Au(e){return'[src="'+mt(e)+'"]'}function Pu(e){return"script[async]"+e}function Ou(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),eu(r,"style",a),Lu(r,n.precedence,e),t.instance=r;case"stylesheet":a=_u(n.href);var i=e.querySelector(Tu(a));if(i)return t.state.loading|=4,t.instance=i,qe(i),i;r=Ru(n),(a=ju.get(a))&&zu(r,a),qe(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",r),t.state.loading|=4,Lu(i,n.precedence,e),t.instance=i;case"script":return i=Au(n.src),(a=e.querySelector(Pu(i)))?(t.instance=a,qe(a),a):(r=n,(a=ju.get(i))&&Du(r=h({},n),a),qe(a=(e=e.ownerDocument||e).createElement("script")),eu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Lu(r,n.precedence,e));return t.instance}function Lu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Du(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Mu=null;function Fu(e,t,n){if(null===Mu){var r=new Map,a=Mu=new Map;a.set(n,r)}else(r=(a=Mu).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Fe]||i[Ae]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Bu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $u=null;function Wu(){}function Hu(){if(this.count--,0===this.count)if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qu=null;function Vu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qu=new Map,t.forEach(Ku,e),qu=null,Hu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=qu.get(e);if(n)var r=n.get(null);else{n=new Map,qu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hu.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qu={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Gu(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yu(e,t,n,r,a,i,s,o,l,c,d,u){return e=new Gu(e,t,n,s,o,l,c,u),t=1,!0===i&&(t|=24),i=zr(3,null,null,t),e.current=i,i.stateNode=e,(t=Pa()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Ju(e){return e?e=Or:Or}function Xu(e,t,n,r,a,i){a=Ju(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(zc(n,0,t),si(n,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function th(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&zc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=O.T;O.T=null;var i=L.p;try{L.p=2,ih(e,t,n,r)}finally{L.p=i,O.T=a}}function ah(e,t,n,r){var a=O.T;O.T=null;var i=L.p;try{L.p=8,ih(e,t,n,r)}finally{L.p=i,O.T=a}}function ih(e,t,n,r){if(nh){var a=sh(r);if(null===a)$d(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return uh=yh(uh,e,t,n,r,a),!0;case"dragenter":return hh=yh(hh,e,t,n,r,a),!0;case"mouseover":return ph=yh(ph,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return fh.set(i,yh(fh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,yh(mh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==a;){var i=$e(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}jd(i),0===(6&nc)&&(jc=te()+500,kd(0,!1))}}break;case 13:null!==(o=Rr(i,2))&&zc(o,0,2),Uc(),eh(i,2)}if(null===(i=sh(r))&&$d(e,t,r,oh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else $d(e,t,r,null,n)}}function sh(e){return lh(e=Rt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function yh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=$e(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=Rr(n,e);null!==t&&zc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){dh=!1,null!==uh&&wh(uh)&&(uh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),fh.forEach(jh),mh.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Sh=null;function Ch(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=$e(n);null!==i&&(e.splice(t,3),t-=3,Ts(i,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function Eh(e){function t(t){return Nh(t,e)}null!==uh&&Nh(uh,e),null!==hh&&Nh(hh,e),null!==ph&&Nh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Pe]||null;if("function"===typeof i)s||Ch(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Pe]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ch(n)}}}function Ih(e){this._internalRoot=e}function _h(e){this._internalRoot=e}_h.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xu(t.current,Oc(),e,t,null,null)},_h.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Uc(),t[Oe]=null}},_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Th=a.version;if("19.1.0"!==Th)throw Error(s(527,Th,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return d(a),e;if(i===r)return d(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{de=Ah.inject(Rh),ue=Ah}catch(Oh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=vo,i=yo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yu(e,1,!1,null,0,n,r,a,i,l,0,null),e[Oe]=t.current,Bd(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=vo,l=yo,c=xo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Yu(e,1,!0,t,0,r,a,i,l,c,0,d)).context=Ju(null),n=t.current,(a=ai(r=Ie(r=Oc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,Se(t,n),jd(t),e[Oe]=t.current,Bd(e),new _h(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var x=y.prototype=new v;x.constructor=y,m(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function _(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return _((d=e._init)(e._payload),t,a,i,s)}}if(d)return s=s(e),d=""===i?"."+E(e,0):i,w(s)?(a="",null!=d&&(a=d.replace(C,"$&/")+"/"),_(s,t,a,"",(function(e){return e}))):null!=s&&(S(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+d,s=N(l.type,c,void 0,0,0,l.props)),t.push(s)),1;d=0;var u,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)d+=_(i=e[m],t,a,o=f+E(i,m),s);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(i=e.next()).done;)d+=_(i=i.value,t,a,o=f+E(i,m++),s);else if("object"===o){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var r=[],a=0;return _(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return N(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,A)}catch(i){A(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},576:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e){var t=e.getContext("2d"),n=e.width,r=e.height,a=t.getImageData(0,0,n,r).data,o=i(!0,n,r,a),l=i(!1,n,r,a),c=s(!0,n,r,a),d=s(!1,n,r,a)-c+1,u=l-o+1,h=t.getImageData(c,o,d,u);return e.width=d,e.height=u,t.clearRect(0,0,d,u),t.putImageData(h,0,0),e}function r(e,t,n,r){return{red:r[4*(n*t+e)],green:r[4*(n*t+e)+1],blue:r[4*(n*t+e)+2],alpha:r[4*(n*t+e)+3]}}function a(e,t,n,a){return r(e,t,n,a).alpha}function i(e,t,n,r){for(var i=e?1:-1,s=e?0:n-1;e?s<n:s>-1;s+=i)for(var o=0;o<t;o++)if(a(o,s,t,r))return s;return null}function s(e,t,n,r){for(var i=e?1:-1,s=e?0:t-1;e?s<t:s>-1;s+=i)for(var o=0;o<n;o++)if(a(s,o,t,r))return s;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,b=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N||(N=!0,k());else{var t=r(d);null!==t&&A(j,t.startTime-e)}}var k,N=!1,S=-1,C=5,E=-1;function I(){return!!b||!(t.unstable_now()-E<C)}function _(){if(b=!1,N){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(S),S=-1),f=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&A(j,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof x)k=function(){x(_)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=_,k=function(){R.postMessage(null)}}else k=function(){v(_,0)};function A(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(y(S),S=-1):g=!0,A(j,i-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ue,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>fe,navigator:()=>he,origin:()=>me});var t=n(43),r=n(391),a=n(579);const i=e=>{let{children:n,sidebar:r,topHeader:i}=e;const[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{const e=window.innerWidth<=768;c(e),e||o(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const d=()=>{o(!1)},u=r&&t.isValidElement(r)?t.cloneElement(r,{isMobileOpen:s,onMobileClose:d}):r;return(0,a.jsxs)("div",{className:"layout",children:[i&&(0,a.jsxs)("header",{className:"layout-top-header",children:[l&&(0,a.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>{o(!s)},"aria-label":"\u05e4\u05ea\u05d7 \u05ea\u05e4\u05e8\u05d9\u05d8 \u05e0\u05d9\u05d5\u05d5\u05d8",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})}),i]}),l&&s&&(0,a.jsx)("div",{className:"mobile-overlay",onClick:d}),u&&(0,a.jsx)("aside",{className:"layout-sidebar "+(s?"mobile-open":""),children:u}),(0,a.jsx)("div",{className:"layout-main",children:(0,a.jsx)("main",{className:"layout-content",children:(0,a.jsx)("div",{className:"content-container",children:n})})})]})},s=e=>{let{activeTab:n,availableTabs:r,onTabChange:i,user:s,userProfile:o,isAdmin:l,onLogout:c,isMobileOpen:d=!1,onMobileClose:u}=e;const[h,p]=(0,t.useState)(!1),f=d||h,m=()=>{u?u():p(!1)},g=[{key:"dashboard",label:"\u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4",icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})})},{key:"dailyReport",label:'\u05d3\u05d5"\u05d7 \u05d9\u05d5\u05de\u05d9',icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{key:"receipts",label:"\u05e7\u05d1\u05dc\u05d5\u05ea",icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})})},{key:"users",label:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})},{key:"items",label:"\u05e6\u05d9\u05d5\u05d3",icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},{key:"management",label:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05e2\u05e8\u05db\u05ea",icon:(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})}].filter((e=>r.includes(e.key)));return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("nav",{className:"navigation "+(f?"mobile-open":""),children:[(0,a.jsx)("div",{className:"nav-menu",children:(0,a.jsx)("ul",{className:"nav-list",children:g.map((e=>(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsxs)("button",{className:"nav-link "+(n===e.key?"nav-link-active":""),onClick:()=>(e=>{i(e),m()})(e.key),title:e.label,children:[e.icon,(0,a.jsx)("span",{className:"nav-label",children:e.label}),n===e.key&&(0,a.jsx)("div",{className:"nav-indicator"})]})},e.key)))})}),(0,a.jsxs)("div",{className:"nav-footer",children:[(0,a.jsx)("div",{className:"footer-separator"}),(0,a.jsx)("div",{className:"footer-text",children:'\u05e4\u05d5\u05ea\u05d7 \u05e2"\u05d9 \u05e1\u05e7"\u05e9'})]}),!u&&f&&(0,a.jsx)("div",{className:"mobile-overlay",onClick:m})]})})};function o(e,t){return function(){return e.apply(t,arguments)}}const{toString:l}=Object.prototype,{getPrototypeOf:c}=Object,{iterator:d,toStringTag:u}=Symbol,h=(p=Object.create(null),e=>{const t=l.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const f=e=>(e=e.toLowerCase(),t=>h(t)===e),m=e=>t=>typeof t===e,{isArray:g}=Array,b=m("undefined");const v=f("ArrayBuffer");const y=m("string"),x=m("function"),w=m("number"),j=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==h(e))return!1;const t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(u in e)&&!(d in e)},N=f("Date"),S=f("File"),C=f("Blob"),E=f("FileList"),I=f("URLSearchParams"),[_,T,R,A]=["ReadableStream","Request","Response","Headers"].map(f);function P(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),g(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function O(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,z=e=>!b(e)&&e!==L;const D=(M="undefined"!==typeof Uint8Array&&c(Uint8Array),e=>M&&e instanceof M);var M;const F=f("HTMLFormElement"),B=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),U=f("RegExp"),$=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};P(n,((n,a)=>{let i;!1!==(i=t(n,a,e))&&(r[a]=i||n)})),Object.defineProperties(e,r)};const W=f("AsyncFunction"),H=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],L.addEventListener("message",(e=>{let{source:t,data:a}=e;t===L&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),L.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,x(L.postMessage)),q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(L):"undefined"!==typeof process&&process.nextTick||H,V={isArray:g,isArrayBuffer:v,isBuffer:function(e){return null!==e&&!b(e)&&null!==e.constructor&&!b(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||x(e.append)&&("formdata"===(t=h(e))||"object"===t&&x(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&v(e.buffer),t},isString:y,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:j,isPlainObject:k,isReadableStream:_,isRequest:T,isResponse:R,isHeaders:A,isUndefined:b,isDate:N,isFile:S,isBlob:C,isRegExp:U,isFunction:x,isStream:e=>j(e)&&x(e.pipe),isURLSearchParams:I,isTypedArray:D,isFileList:E,forEach:P,merge:function e(){const{caseless:t}=z(this)&&this||{},n={},r=(r,a)=>{const i=t&&O(n,a)||a;k(n[i])&&k(r)?n[i]=e(n[i],r):k(r)?n[i]=e({},r):g(r)?n[i]=r.slice():n[i]=r};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&P(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return P(t,((t,r)=>{n&&x(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&c(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:h,kindOfTest:f,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(g(e))return e;let t=e.length;if(!w(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[d]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:F,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:$,freezeMethods:e=>{$(e,((t,n)=>{if(x(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];x(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return g(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:O,global:L,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&x(e.append)&&"FormData"===e[u]&&e[d])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(j(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=g(e)?[]:{};return P(e,((e,t)=>{const i=n(e,r+1);!b(i)&&(a[t]=i)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:W,isThenable:e=>e&&(j(e)||x(e))&&x(e.then)&&x(e.catch),setImmediate:H,asap:q,isIterable:e=>null!=e&&x(e[d])};function K(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Q=K.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(K,G),Object.defineProperty(Q,"isAxiosError",{value:!0}),K.from=(e,t,n,r,a,i)=>{const s=Object.create(Q);return V.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),K.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Y=K;function J(e){return V.isPlainObject(e)||V.isArray(e)}function X(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,n){return e?e.concat(t).map((function(e,t){return e=X(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ee=V.toFlatObject(V,{},null,(function(e){return/^is[A-Z]/.test(e)}));const te=function(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!V.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(V.isDate(e))return e.toISOString();if(!o&&V.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(e)||V.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(V.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(V.isArray(e)&&function(e){return V.isArray(e)&&!e.some(J)}(e)||(V.isFileList(e)||V.endsWith(n,"[]"))&&(o=V.toArray(e)))return n=X(n),o.forEach((function(e,r){!V.isUndefined(e)&&null!==e&&t.append(!0===s?Z([n],r,i):null===s?n:n+"[]",l(e))})),!1;return!!J(e)||(t.append(Z(a,n,i),l(e)),!1)}const d=[],u=Object.assign(ee,{defaultVisitor:c,convertValue:l,isVisitable:J});if(!V.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!V.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),V.forEach(n,(function(n,i){!0===(!(V.isUndefined(n)||null===n)&&a.call(t,n,V.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t};function ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function re(e,t){this._pairs=[],e&&te(e,this,t)}const ae=re.prototype;ae.append=function(e,t){this._pairs.push([e,t])},ae.toString=function(e){const t=e?function(t){return e.call(this,t,ne)}:ne;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=re;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oe(e,t,n){if(!t)return e;const r=n&&n.encode||se;V.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(i=a?a(t,n):V.isURLSearchParams(t)?t.toString():new ie(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const le=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ue="undefined"!==typeof window&&"undefined"!==typeof document,he="object"===typeof navigator&&navigator||void 0,pe=ue&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),fe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,me=ue&&window.location.href||"http://localhost",ge={...e,...de};const be=function(e){function t(e,n,r,a){let i=e[a++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=a>=e.length;if(i=!i&&V.isArray(r)?r.length:i,o)return V.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&V.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],a)&&V.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,((e,r)=>{t(function(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ve={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=V.isObject(e);a&&V.isHTMLForm(e)&&(e=new FormData(e));if(V.isFormData(e))return r?JSON.stringify(be(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return te(e,new ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ge.isNode&&V.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=V.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return te(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));const ye=ve,xe=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),we=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:V.isArray(e)?e.map(ke):String(e)}function Ne(e,t,n,r,a){return V.isFunction(r)?r.call(this,t,n):(a&&(t=n),V.isString(t)?V.isString(r)?-1!==t.indexOf(r):V.isRegExp(r)?r.test(t):void 0:void 0)}class Se{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=je(t);if(!a)throw new Error("header name must be a non-empty string");const i=V.findKey(r,a);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ke(e))}const i=(e,t)=>V.forEach(e,((e,n)=>a(e,n,t)));if(V.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(V.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&xe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(V.isObject(e)&&V.isIterable(e)){let n,r,a={};for(const t of e){if(!V.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?V.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=je(e)){const n=V.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(V.isFunction(t))return t.call(this,e,n);if(V.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=je(e)){const n=V.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ne(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=je(e)){const a=V.findKey(n,e);!a||t&&!Ne(0,n[a],a,t)||(delete n[a],r=!0)}}return V.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Ne(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return V.forEach(this,((r,a)=>{const i=V.findKey(n,a);if(i)return t[i]=ke(r),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();s!==a&&delete t[a],t[s]=ke(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return V.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&V.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=je(e);t[r]||(!function(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return V.isArray(e)?e.forEach(r):r(e),this}}Se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(Se.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),V.freezeMethods(Se);const Ce=Se;function Ee(e,t){const n=this||ye,r=t||n,a=Ce.from(r.headers);let i=r.data;return V.forEach(e,(function(e){i=e.call(n,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function Ie(e){return!(!e||!e.__CANCEL__)}function _e(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(_e,Y,{__CANCEL__:!0});const Te=_e;function Re(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ae=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];a||(a=l),n[i]=o,r[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Pe=function(e,t){let n,r,a=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),i-t)))},()=>n&&s(n)]},Oe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Ae(50,250);return Pe((n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-r,l=a(o);r=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},Le=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ze=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V.asap((()=>e(...n)))},De=ge.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ge.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,Me=ge.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];V.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),V.isString(r)&&s.push("path="+r),V.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Be=e=>e instanceof Ce?{...e}:e;function Ue(e,t){t=t||{};const n={};function r(e,t,n,r){return V.isPlainObject(e)&&V.isPlainObject(t)?V.merge.call({caseless:r},e,t):V.isPlainObject(t)?V.merge({},t):V.isArray(t)?t.slice():t}function a(e,t,n,a){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function i(e,t){if(!V.isUndefined(t))return r(void 0,t)}function s(e,t){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,i){return i in t?r(n,a):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>a(Be(e),Be(t),0,!0)};return V.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||a,s=i(e[r],t[r],r);V.isUndefined(s)&&i!==o||(n[r]=s)})),n}const $e=e=>{const t=Ue({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ce.from(o),t.url=oe(Fe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(r))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(ge.hasStandardBrowserEnv&&(a&&V.isFunction(a)&&(a=a(t)),a||!1!==a&&De(t.url))){const e=i&&s&&Me.read(s);e&&o.set(i,e)}return t},We="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=$e(e);let a=r.data;const i=Ce.from(r.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ce.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Re((function(e){t(e),f()}),(function(e){n(e),f()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Y("Request aborted",Y.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ce;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Y(t,a.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,m)),m=null},void 0===a&&i.setContentType(null),"setRequestHeader"in m&&V.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),V.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),p&&([l,d]=Oe(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Oe(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new Te(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===ge.protocols.indexOf(b)?n(new Y("Unsupported protocol "+b+":",Y.ERR_BAD_REQUEST,e)):m.send(a||null)}))},He=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Y?t:new Te(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,a(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))}),t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=r;return o.unsubscribe=()=>V.asap(s),o}},qe=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Ve=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Ke=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of Ve(e))yield*qe(n,t)}(e,t);let i,s=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},Qe="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ge=Qe&&"function"===typeof ReadableStream,Ye=Qe&&("function"===typeof TextEncoder?(Je=new TextEncoder,e=>Je.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Je;const Xe=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},Ze=Ge&&Xe((()=>{let e=!1;const t=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),et=Ge&&Xe((()=>V.isReadableStream(new Response("").body))),tt={stream:et&&(e=>e.body)};var nt;Qe&&(nt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!tt[e]&&(tt[e]=V.isFunction(nt[e])?t=>t[e]():(t,n)=>{throw new Y(`Response type '${e}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})));const rt=async(e,t)=>{const n=V.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(V.isBlob(e))return e.size;if(V.isSpecCompliantForm(e)){const t=new Request(ge.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return V.isArrayBufferView(e)||V.isArrayBuffer(e)?e.byteLength:(V.isURLSearchParams(e)&&(e+=""),V.isString(e)?(await Ye(e)).byteLength:void 0)})(t):n},at={http:null,xhr:We,fetch:Qe&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=$e(e);c=c?(c+"").toLowerCase():"text";let p,f=He([a,i&&i.toAbortSignal()],s);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Ze&&"get"!==n&&"head"!==n&&0!==(g=await rt(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(V.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Le(g,Oe(ze(l)));r=Ke(n.body,65536,e,t)}}V.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0});let i=await fetch(p);const s=et&&("stream"===c||"response"===c);if(et&&(o||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=V.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Le(t,Oe(ze(o),!0))||[];i=new Response(Ke(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let b=await tt[V.findKey(tt,c)||"text"](i,e);return!s&&m&&m(),await new Promise(((t,n)=>{Re(t,n,{data:b,headers:Ce.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(b){if(m&&m(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,p),{cause:b.cause||b});throw Y.from(b,b&&b.code,e,p)}})};V.forEach(at,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const it=e=>`- ${e}`,st=e=>V.isFunction(e)||null===e||!1===e,ot=e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!st(n)&&(r=at[(t=String(n)).toLowerCase()],void 0===r))throw new Y(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+i]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(it).join("\n"):" "+it(e[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Te(null,e)}function ct(e){lt(e),e.headers=Ce.from(e.headers),e.data=Ee.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ot(e.adapter||ye.adapter)(e).then((function(t){return lt(e),t.data=Ee.call(e,e.transformResponse,t),t.headers=Ce.from(t.headers),t}),(function(t){return Ie(t)||(lt(e),t&&t.response&&(t.response.data=Ee.call(e,e.transformResponse,t.response),t.response.headers=Ce.from(t.response.headers))),Promise.reject(t)}))}const dt="1.9.0",ut={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ut[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ht={};ut.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,i)=>{if(!1===e)throw new Y(r(a," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!ht[a]&&(ht[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}},ut.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const pt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Y("option "+i+" must be "+n,Y.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}},validators:ut},ft=pt.validators;class mt{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ue(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&pt.assertOptions(n,{silentJSONParsing:ft.transitional(ft.boolean),forcedJSONParsing:ft.transitional(ft.boolean),clarifyTimeoutError:ft.transitional(ft.boolean)},!1),null!=r&&(V.isFunction(r)?t.paramsSerializer={serialize:r}:pt.assertOptions(r,{encode:ft.function,serialize:ft.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),pt.assertOptions(t,{baseUrl:ft.spelling("baseURL"),withXsrfToken:ft.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&V.merge(a.common,a[t.method]);a&&V.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Ce.concat(i,a);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[ct.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=ct.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return oe(Fe((e=Ue(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],(function(e){mt.prototype[e]=function(t,n){return this.request(Ue(n||{},{method:e,url:t,data:(n||{}).data}))}})),V.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(Ue(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}mt.prototype[e]=t(),mt.prototype[e+"Form"]=t(!0)}));const gt=mt;class bt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new Te(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bt((function(t){e=t})),cancel:e}}}const vt=bt;const yt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yt).forEach((e=>{let[t,n]=e;yt[n]=t}));const xt=yt;const wt=function e(t){const n=new gt(t),r=o(gt.prototype.request,n);return V.extend(r,gt.prototype,n,{allOwnKeys:!0}),V.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ue(t,n))},r}(ye);wt.Axios=gt,wt.CanceledError=Te,wt.CancelToken=vt,wt.isCancel=Ie,wt.VERSION=dt,wt.toFormData=te,wt.AxiosError=Y,wt.Cancel=wt.CanceledError,wt.all=function(e){return Promise.all(e)},wt.spread=function(e){return function(t){return e.apply(null,t)}},wt.isAxiosError=function(e){return V.isObject(e)&&!0===e.isAxiosError},wt.mergeConfig=Ue,wt.AxiosHeaders=Ce,wt.formToJSON=e=>be(V.isHTMLForm(e)?new FormData(e):e),wt.getAdapter=ot,wt.HttpStatusCode=xt,wt.default=wt;const jt=wt,kt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;o||(h=64,i||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new St;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class St extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(e){return function(e){const t=kt(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Et=function(e){try{return Nt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const It=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,_t=()=>{try{return It()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:3001"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Et(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Tt=e=>_t()?.emulatorHosts?.[e],Rt=()=>_t()?.config,At=e=>_t()?.[`_${e}`];class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ot(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const Lt={};let zt=!1;function Dt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ot(window.location.host)||Lt[e]===t||Lt[e]||zt)return;function n(e){return`__firebase__banner__${e}`}Lt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lt))Lt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{zt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,s,l,n),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Bt(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Ut(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}}))}class $t extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],a=r?function(e,t){return e.replace(Ht,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${a} (${n}).`;return new $t(n,i,t)}}const Ht=/\{\$([^}]+)}/g;function qt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Vt(n)&&Vt(i)){if(!qt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Vt(e){return null!==e&&"object"===typeof e}function Kt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Gt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Yt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jt),void 0===r.error&&(r.error=Jt),void 0===r.complete&&(r.complete=Jt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Jt(){}function Xt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Zt(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tn="[DEFAULT]";class nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const a=this.instances.get(n);return a&&e(a,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===tn?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const an=[];var sn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));const on={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},ln=sn.INFO,cn={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},dn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class un{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=dn,this._userLogHandler=null,an.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?on[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}let hn,pn;const fn=new WeakMap,mn=new WeakMap,gn=new WeakMap,bn=new WeakMap,vn=new WeakMap;let yn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kn(this),n),jn(fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(e.apply(kn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(kn(this),t,...r);return gn.set(i,t.sort?t.sort():[t]),jn(i)}}function wn(e){return"function"===typeof e?xn(e):(e instanceof IDBTransaction&&function(e){if(mn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));mn.set(e,t)}(e),t=e,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,yn):e);var t}function jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(jn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&fn.set(t,e)})).catch((()=>{})),vn.set(t,e),t}(e);if(bn.has(e))return bn.get(e);const t=wn(e);return t!==e&&(bn.set(e,t),vn.set(t,e)),t}const kn=e=>vn.get(e);function Nn(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=jn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(jn(s.result),e.oldVersion,e.newVersion,jn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Sn=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],En=new Map;function In(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(En.get(t))return En.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Sn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return En.set(t,i),i}yn=(e=>({...e,get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}))(yn);class _n{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Tn="@firebase/app",Rn="0.14.0",An=new un("@firebase/app"),Pn="@firebase/app-compat",On="@firebase/analytics-compat",Ln="@firebase/analytics",zn="@firebase/app-check-compat",Dn="@firebase/app-check",Mn="@firebase/auth",Fn="@firebase/auth-compat",Bn="@firebase/database",Un="@firebase/data-connect",$n="@firebase/database-compat",Wn="@firebase/functions",Hn="@firebase/functions-compat",qn="@firebase/installations",Vn="@firebase/installations-compat",Kn="@firebase/messaging",Qn="@firebase/messaging-compat",Gn="@firebase/performance",Yn="@firebase/performance-compat",Jn="@firebase/remote-config",Xn="@firebase/remote-config-compat",Zn="@firebase/storage",er="@firebase/storage-compat",tr="@firebase/firestore",nr="@firebase/ai",rr="@firebase/firestore-compat",ar="firebase",ir="[DEFAULT]",sr={[Tn]:"fire-core",[Pn]:"fire-core-compat",[Ln]:"fire-analytics",[On]:"fire-analytics-compat",[Dn]:"fire-app-check",[zn]:"fire-app-check-compat",[Mn]:"fire-auth",[Fn]:"fire-auth-compat",[Bn]:"fire-rtdb",[Un]:"fire-data-connect",[$n]:"fire-rtdb-compat",[Wn]:"fire-fn",[Hn]:"fire-fn-compat",[qn]:"fire-iid",[Vn]:"fire-iid-compat",[Kn]:"fire-fcm",[Qn]:"fire-fcm-compat",[Gn]:"fire-perf",[Yn]:"fire-perf-compat",[Jn]:"fire-rc",[Xn]:"fire-rc-compat",[Zn]:"fire-gcs",[er]:"fire-gcs-compat",[tr]:"fire-fst",[rr]:"fire-fst-compat",[nr]:"fire-vertex","fire-js":"fire-js",[ar]:"fire-js-all"},or=new Map,lr=new Map,cr=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(n){An.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ur(e){const t=e.name;if(cr.has(t))return An.debug(`There were multiple attempts to register component ${t}.`),!1;cr.set(t,e);for(const n of or.values())dr(n,e);for(const n of lr.values())dr(n,e);return!0}function hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const fr=new Wt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const gr="12.0.0";function br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:ir,automaticDataCollectionEnabled:!0,...t},a=r.name;if("string"!==typeof a||!a)throw fr.create("bad-app-name",{appName:String(a)});if(n||(n=Rt()),!n)throw fr.create("no-options");const i=or.get(a);if(i){if(qt(n,i.options)&&qt(r,i.config))return i;throw fr.create("duplicate-app",{appName:a})}const s=new rn(a);for(const l of cr.values())s.addComponent(l);const o=new mr(n,r,s);return or.set(a,o),o}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;const t=or.get(e);if(!t&&e===ir&&Rt())return br();if(!t)throw fr.create("no-app",{appName:e});return t}function yr(e,t,n){let r=sr[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=[`Unable to register library "${r}" with version "${t}":`];return a&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void An.warn(e.join(" "))}ur(new en(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const xr="firebase-heartbeat-store";let wr=null;function jr(){return wr||(wr=Nn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xr)}catch(n){console.warn(n)}}}).catch((e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})}))),wr}async function kr(e,t){try{const n=(await jr()).transaction(xr,"readwrite"),r=n.objectStore(xr);await r.put(t,Nr(e)),await n.done}catch(n){if(n instanceof $t)An.warn(n.message);else{const e=fr.create("idb-set",{originalErrorMessage:n?.message});An.warn(e.message)}}}function Nr(e){return`${e.name}!${e.options.appId}`}class Sr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Er(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Cr();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){An.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=Cr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),Ir(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ir(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ct(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return An.warn(e),""}}}function Cr(){return(new Date).toISOString().substring(0,10)}class Er{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Bt()&&Ut().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jr()).transaction(xr),n=await t.objectStore(xr).get(Nr(e));return await t.done,n}catch(t){if(t instanceof $t)An.warn(t.message);else{const e=fr.create("idb-get",{originalErrorMessage:t?.message});An.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return kr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return kr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Ir(e){return Ct(JSON.stringify({version:2,heartbeats:e})).length}var _r;_r="",ur(new en("platform-logger",(e=>new _n(e)),"PRIVATE")),ur(new en("heartbeat",(e=>new Sr(e)),"PRIVATE")),yr(Tn,Rn,_r),yr(Tn,Rn,"esm2020"),yr("fire-js","");function Tr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rr=Tr,Ar=new Wt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pr=new un("@firebase/auth");function Or(e){if(Pr.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pr.error(`Auth (${gr}): ${e}`,...n)}}function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Br(e,...n)}function zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Br(e,...n)}function Dr(e,t,n){const r={...Rr(),[t]:n};return new Wt("auth","Firebase",r).create(t,{appName:e.name})}function Mr(e){return Dr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Lr(e,"argument-error"),Dr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ar.create(e,...n)}function Ur(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Br(t,...r)}}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Or(t),new Error(t)}function Wr(e,t){e||$r(t)}function Hr(){return"undefined"!==typeof self&&self.location?.href||""}function qr(){return"http:"===Vr()||"https:"===Vr()}function Vr(){return"undefined"!==typeof self&&self.location?.protocol||null}class Kr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qr()||Ft()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qr(e,t){Wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Gr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xr=new Kr(3e4,6e4);function Zr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ea(e,t,n,r){return ta(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let a={},i={};r&&("GET"===t?i=r:a={body:JSON.stringify(r)});const s=Kt({key:e.config.apiKey,...i}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...a};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ot(e.emulatorConfig.host)&&(l.credentials="include"),Gr.fetch()(await ra(e,e.config.apiHost,n,s),l)}))}async function ta(e,t,n){e._canInitEmulator=!1;const r={...Yr,...t};try{const t=new ia(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw sa(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sa(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw sa(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw sa(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Dr(e,o,s);Lr(e,o)}}catch(a){if(a instanceof $t)throw a;Lr(e,"network-request-failed",{message:String(a)})}}async function na(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ea(e,t,n,r,a);return"mfaPendingCredential"in i&&Lr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function ra(e,t,n,r){const a=`${t}${n}?${r}`,i=e,s=i.config.emulator?Qr(e.config,a):`${e.config.apiScheme}://${a}`;if(Jr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function aa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ia{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(zr(this.auth,"network-request-failed"))),Xr.get())}))}}function sa(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zr(e,t,r);return a.customData._tokenResponse=n,a}function oa(e){return void 0!==e&&void 0!==e.enterprise}class la{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ca(e,t){return ea(e,"GET","/v2/recaptchaConfig",Zr(e,t))}async function da(e,t){return ea(e,"POST","/v1/accounts:lookup",t)}function ua(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ha(e){return 1e3*Number(e)}function pa(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Or("JWT malformed, contained fewer than 3 sections"),null;try{const e=Et(n);return e?JSON.parse(e):(Or("Failed to decode base64 JWT payload"),null)}catch(a){return Or("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fa(e){const t=pa(e);return Ur(t,"internal-error"),Ur("undefined"!==typeof t.exp,"internal-error"),Ur("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ma(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof $t&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ga{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class ba{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function va(e){const t=e.auth,n=await e.getIdToken(),r=await ma(e,da(t,{idToken:n}));Ur(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?ya(a.providerUserInfo):[],s=(o=e.providerData,l=i,[...o.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var o,l;const c=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!s?.length,u=!!c&&d,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new ba(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function ya(e){return e.map((e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ur(e.idToken,"internal-error"),Ur("undefined"!==typeof e.idToken,"internal-error"),Ur("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):fa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ur(0!==e.length,"internal-error");const t=fa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ur(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await ta(e,{},(async()=>{const n=Kt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,i=await ra(e,r,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&Ot(e.emulatorConfig.host)&&(o.credentials="include"),Gr.fetch()(i,o)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,i=new xa;return n&&(Ur("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Ur("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),a&&(Ur("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return $r("not implemented")}}function wa(e,t){Ur("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ja{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...a}=e;this.providerId="firebase",this.proactiveRefresh=new ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ba(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Ur(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Zt(e),r=await n.getIdToken(t),a=pa(r);Ur(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,s=i?.sign_in_provider;return{claims:a,token:r,authTime:ua(ha(a.auth_time)),issuedAtTime:ua(ha(a.iat)),expirationTime:ua(ha(a.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Zt(e);await va(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ur(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>({...e}))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ja({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ur(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await va(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await ma(this,async function(e,t){return ea(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>({...e}))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,i=t.photoURL??void 0,s=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:d,emailVerified:u,isAnonymous:h,providerData:p,stsTokenManager:f}=t;Ur(d&&f,e,"internal-error");const m=xa.fromJSON(this.name,f);Ur("string"===typeof d,e,"internal-error"),wa(n,e.name),wa(r,e.name),Ur("boolean"===typeof u,e,"internal-error"),Ur("boolean"===typeof h,e,"internal-error"),wa(a,e.name),wa(i,e.name),wa(s,e.name),wa(o,e.name),wa(l,e.name),wa(c,e.name);const g=new ja({uid:d,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:a,tenantId:s,stsTokenManager:m,createdAt:l,lastLoginAt:c});return p&&Array.isArray(p)&&(g.providerData=p.map((e=>({...e})))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xa;r.updateFromServerResponse(t);const a=new ja({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await va(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ur(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?ya(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!a?.length,s=new xa;s.updateFromIdToken(n);const o=new ja({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ba(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(o,l),o}}const ka=new Map;function Na(e){Wr(e instanceof Function,"Expected a class definition");let t=ka.get(e);return t?(Wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ka.set(e,t),t)}class Sa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sa.type="NONE";const Ca=Sa;function Ea(e,t,n){return`firebase:${e}:${t}:${n}`}class Ia{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=Ea(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ea("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await da(this.auth,{idToken:e}).catch((()=>{}));return t?ja._fromGetAccountInfoResponse(this.auth,t,e):null}return ja._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ia(Na(Ca),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let a=r[0]||Na(Ca);const i=Ea(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await da(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await ja._fromGetAccountInfoResponse(e,r,t)}else n=ja._fromJSON(e,t);l!==a&&(s=n),a=l;break}}catch{}const o=r.filter((e=>e._shouldAllowMigration));return a._shouldAllowMigration&&o.length?(a=o[0],s&&await a._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==a)try{await e._remove(i)}catch{}}))),new Ia(a,e,n)):new Ia(a,e,n)}}function _a(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ta(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(La(t))return"Blackberry";if(za(t))return"Webos";if(Ra(t))return"Safari";if((t.includes("chrome/")||Aa(t))&&!t.includes("edge/"))return"Chrome";if(Oa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Ra(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function Pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ma(){return function(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Da(e)||Oa(e)||za(e)||La(e)||/windows phone/i.test(e)||Pa(e)}function Ba(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_a(Mt());break;case"Worker":t=`${_a(Mt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${gr}/${r}`}class Ua{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(a){r(a)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}class $a{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Wa{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qa(this),this.idTokenSubscription=new qa(this),this.beforeStateQueue=new Ua(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ar,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Na(t)),this._initializationPromise=this.queue((async()=>{if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(n){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await da(this,{idToken:e}),n=await ja._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,a=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==a||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ur(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await va(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Mr(this));const t=e?Zt(e):null;return t&&Ur(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ur(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return pr(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Mr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Na(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ea(e,"GET","/v2/passwordPolicy",Zr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $a(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ea(e,"POST","/v2/accounts:revokeToken",Zr(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Na(e)||this._popupRedirectResolver;Ur(t,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Na(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue((async()=>{})),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ur(s,this,"internal-error"),s.then((()=>{i||a(this.currentUser)})),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{i=!0,a()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ur(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(Pr.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pr.warn(`Auth (${gr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(e){return Zt(e)}class qa{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Yt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ur(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Va={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ka(e){return Va.loadJS(e)}function Qa(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ga{constructor(){this.enterprise=new Ya}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ya{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ja="NO_RECAPTCHA";class Xa{constructor(e){this.type="recaptcha-enterprise",this.auth=Ha(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;oa(a)?a.enterprise.ready((()=>{a.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ja)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ga).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ca(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new la(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((a=>{if(!t&&oa(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Va.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Ka(t).then((()=>{n(a,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Xa(e);let s;if(a)s=Ja;else try{s=await i.verify(n)}catch(l){s=await i.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ei(e,t,n,r,a){if("EMAIL_PASSWORD_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Za(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch((async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Za(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)}))}if("PHONE_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Za(e,t,n);return r(e,a).catch((async a=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const a=await Za(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)}))}{const a=await Za(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function ti(e){const t=Ha(e),n=await ca(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new la(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Xa(t).verify()}}function ni(e,t,n){const r=Ha(e);Ur(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!n?.disableWarnings,i=ri(t),{host:s,port:o}=function(e){const t=ri(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ai(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return Ur(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ur(qt(c,r.config.emulator)&&qt(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ot(s)?(!async function(e){(await fetch(e,{credentials:"include"})).ok}(`${i}//${s}${l}`),Dt("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ri(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ii{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function si(e,t){return ea(e,"POST","/v1/accounts:signUp",t)}async function oi(e,t){return na(e,"POST","/v1/accounts:signInWithPassword",Zr(e,t))}class li extends ii{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new li(e,t,"password")}static _fromEmailAndCode(e,t){return new li(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ei(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zr(e,t))}(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ei(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",si,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ci(e,t){return na(e,"POST","/v1/accounts:signInWithIdp",Zr(e,t))}class di extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...a}=t;if(!n||!r)return null;const i=new di(n,r);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return ci(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ci(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ci(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kt(t)}return e}}async function ui(e,t){return ea(e,"POST","/v1/accounts:sendVerificationCode",Zr(e,t))}const hi={USER_NOT_FOUND:"user-not-found"};class pi extends ii{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,t));if(n.temporaryProof)throw sa(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,{...t,operation:"REAUTH"}),hi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new pi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class fi{constructor(e){const t=Qt(Gt(e)),n=t.apiKey??null,r=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Ur(n&&r&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Qt(Gt(e)).link,n=t?Qt(Gt(t)).deep_link_id:null,r=Qt(Gt(e)).deep_link_id;return(r?Qt(Gt(r)).link:null)||r||n||t||e}(e);try{return new fi(t)}catch{return null}}}class mi{constructor(){this.providerId=mi.PROVIDER_ID}static credential(e,t){return li._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=fi.parseLink(t);return Ur(n,"argument-error"),li._fromEmailAndCode(e,n.code,n.tenantId)}}mi.PROVIDER_ID="password",mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vi extends bi{constructor(){super("facebook.com")}static credential(e){return di._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com",vi.PROVIDER_ID="facebook.com";class yi extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return di._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com",yi.PROVIDER_ID="google.com";class xi extends bi{constructor(){super("github.com")}static credential(e){return di._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com",xi.PROVIDER_ID="github.com";class wi extends bi{constructor(){super("twitter.com")}static credential(e,t){return di._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com",wi.PROVIDER_ID="twitter.com";class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await ja._fromIdTokenResponse(e,n,r),i=ki(n);return new ji({user:a,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ki(n);return new ji({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ni extends $t{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ni.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ni(e,t,n,r)}}function Si(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ni._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ma(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ji._forOperation(e,"link",r)}async function Ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(pr(r.app))return Promise.reject(Mr(r));const a="reauthenticate";try{const i=await ma(e,Si(r,a,t,e),n);Ur(i.idToken,r,"internal-error");const s=pa(i.idToken);Ur(s,r,"internal-error");const{sub:o}=s;return Ur(e.uid===o,r,"user-mismatch"),ji._forOperation(e,a,i)}catch(i){throw"auth/user-not-found"===i?.code&&Lr(r,"user-mismatch"),i}}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(Mr(e));const r="signIn",a=await Si(e,r,t),i=await ji._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(i.user),i}function _i(e,t){return ea(e,"POST","/v2/accounts/mfaEnrollment:start",Zr(e,t))}new WeakMap;const Ti="__sak";class Ri{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ti,"1"),this.storage.removeItem(Ti),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ai extends Ri{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Ma()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ai.type="LOCAL";const Pi=Ai;function Oi(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Li(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class zi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Li(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Oi(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Li(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Li(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Oi(n);const a=setInterval((()=>{const e=Oi(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(a)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}zi.type="COOKIE";class Di extends Ri{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Di.type="SESSION";const Mi=Di;class Fi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Fi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,a))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Fi.receivers=[];class Ui{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,i;return new Promise(((s,o)=>{const l=Bi("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),s(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function $i(){return window}function Wi(){return"undefined"!==typeof $i().WorkerGlobalScope&&"function"===typeof $i().importScripts}const Hi="firebaseLocalStorageDb",qi="firebaseLocalStorage",Vi="fbase_key";class Ki{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Qi(e,t){return e.transaction([qi],t?"readwrite":"readonly").objectStore(qi)}function Gi(){const e=indexedDB.open(Hi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(qi,{keyPath:Vi})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(qi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Hi);return new Ki(e).toPromise()}(),t(await Gi()))}))}))}async function Yi(e,t,n){const r=Qi(e,!0).put({[Vi]:t,value:n});return new Ki(r).toPromise()}function Ji(e,t){const n=Qi(e,!0).delete(t);return new Ki(n).toPromise()}class Xi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Gi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fi._getInstance(Wi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Ui(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gi();return await Yi(e,Ti,"1"),await Ji(e,Ti),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Yi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Qi(e,!1).get(t),r=await new Ki(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ji(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Qi(e,!1).getAll();return new Ki(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xi.type="LOCAL";const Zi=Xi;function es(e,t){return ea(e,"POST","/v2/accounts/mfaSignIn:start",Zr(e,t))}Qa("rcb"),new Kr(3e4,6e4);const ts="recaptcha";async function ns(e,t,n){if(!e._getRecaptchaConfig())try{await ti(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Ur("enroll"===t.type,e,"internal-error");const a={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ei(e,a,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ja){Ur(n?.type===ts,e,"argument-error");return _i(e,await rs(e,t,n))}return _i(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ur("signin"===t.type,e,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;Ur(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=ei(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ja){Ur(n?.type===ts,e,"argument-error");return es(e,await rs(e,t,n))}return es(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},a=ei(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ja){Ur(n?.type===ts,e,"argument-error");return ui(e,await rs(e,t,n))}return ui(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).sessionInfo}}finally{n?._reset()}}async function rs(e,t,n){Ur(n.type===ts,e,"argument-error");const r=await n.verify();Ur("string"===typeof r,e,"argument-error");const a={...t};if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class as{constructor(e){this.providerId=as.PROVIDER_ID,this.auth=Ha(e)}verifyPhoneNumber(e,t){return ns(this.auth,e,Zt(t))}static credential(e,t){return pi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return as.credentialFromTaggedObject(t)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?pi._fromTokenResponse(n,r):null}}function is(e,t){return t?Na(t):(Ur(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}as.PROVIDER_ID="phone",as.PHONE_SIGN_IN_METHOD="phone";class ss extends ii{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ci(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ci(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function os(e){return Ii(e.auth,new ss(e),e.bypassAuthState)}function ls(e){const{auth:t,user:n}=e;return Ur(n,t,"internal-error"),Ei(n,new ss(e),e.bypassAuthState)}async function cs(e){const{auth:t,user:n}=e;return Ur(n,t,"internal-error"),Ci(n,new ss(e),e.bypassAuthState)}class ds{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return os;case"linkViaPopup":case"linkViaRedirect":return cs;case"reauthViaPopup":case"reauthViaRedirect":return ls;default:Lr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const us=new Kr(2e3,1e4);class hs extends ds{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ur(e,this.auth,"internal-error"),e}async onExecution(){Wr(1===this.filter.length,"Popup operations only handle one event");const e=Bi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(zr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,us.get())};e()}}hs.currentPopupAction=null;const ps=new Map;class fs extends ds{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ps.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=bs(t),r=gs(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ps.set(this.auth._key(),e)}return this.bypassAuthState||ps.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ms(e,t){ps.set(e._key(),t)}function gs(e){return Na(e._redirectPersistence)}function bs(e){return Ea("pendingRedirect",e.config.apiKey,e.name)}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(Mr(e));const r=Ha(e),a=is(r,t),i=new fs(r,a,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ys{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ws(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ws(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xs(e))}saveEventToCache(e){this.cachedEventUids.add(xs(e)),this.lastProcessedEventTime=Date.now()}}function xs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ws(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ks=/^https?/;async function Ns(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ea(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Ss(n))return}catch{}Lr(e,"unauthorized-domain")}function Ss(e){const t=Hr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!ks.test(n))return!1;if(js.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Cs=new Kr(3e4,6e4);function Es(){const e=$i().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Is(e){return new Promise(((t,n)=>{function r(){Es(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Es(),n(zr(e,"network-request-failed"))},timeout:Cs.get()})}if($i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!$i().gapi?.load){const t=Qa("iframefcb");return $i()[t]=()=>{gapi.load?r():n(zr(e,"network-request-failed"))},Ka(`${Va.gapiScript}?onload=${t}`).catch((e=>n(e)))}r()}})).catch((e=>{throw _s=null,e}))}let _s=null;const Ts=new Kr(5e3,15e3),Rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},As=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ps(e){const t=e.config;Ur(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:gr},a=As.get(e.config.apiHost);a&&(r.eid=a);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Kt(r).slice(1)}`}async function Os(e){const t=await function(e){return _s=_s||Is(e),_s}(e),n=$i().gapi;return Ur(n,e,"internal-error"),t.open({where:document.body,url:Ps(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=zr(e,"network-request-failed"),i=$i().setTimeout((()=>{r(a)}),Ts.get());function s(){$i().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(a)}))}))))}const Ls={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Ls,width:r.toString(),height:a.toString(),top:i,left:s},c=Mt().toLowerCase();n&&(o=Aa(c)?"_blank":n),Ta(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){return Da(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new zs(null);const u=window.open(t||"",o,d);Ur(u,e,"popup-blocked");try{u.focus()}catch(h){}return new zs(u)}const Ms="__/auth/handler",Fs="emulator/auth/handler",Bs=encodeURIComponent("fac");async function Us(e,t,n,r,a,i){Ur(e.config.authDomain,e,"auth-domain-config-required"),Ur(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gr,eventId:a};if(t instanceof gi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof bi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${Bs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ms}`;return Qr(t,Fs)}(e)}?${Kt(o).slice(1)}${c}`}const $s="webStorageSupport";const Ws=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mi,this._completeRedirectFn=vs,this._overrideRedirectResult=ms}async _openPopup(e,t,n,r){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Ds(e,await Us(e,t,n,Hr(),r),Bi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){$i().location.href=e}(await Us(e,t,n,Hr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Wr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Os(e),n=new ys(e);return t.register("authEvent",(t=>{Ur(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($s,{type:$s},(n=>{const r=n?.[0]?.[$s];void 0!==r&&t(!!r),Lr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ns(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fa()||Ra()||Da()}};var Hs="@firebase/auth",qs="1.11.0";class Vs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e(t?.stsTokenManager.accessToken||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ur(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ks=At("authIdTokenMaxAge")||300;let Qs=null;function Gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();const t=hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(qt(n.getOptions(),t??{}))return e;Lr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ws,persistence:[Zi,Pi,Mi]}),r=At("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ks)return;const r=t?.token;Qs!==r&&(Qs=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Zt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var a;const i=Tt("auth");return i&&ni(n,`http://${i}`),n}var Ys;Va={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=zr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ys="Browser",ur(new en("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Ur(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Ys,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ba(Ys)},c=new Wa(r,a,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Na);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ur(new en("auth-internal",(e=>(e=>new Vs(e))(Ha(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Hs,qs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ys)),yr(Hs,qs,"esm2020");const Js="api",Xs={API_PREFIX:Js,BASE_URL:(()=>{const e="http://localhost:3001";if(e.startsWith("http://")||e.startsWith("https://"))return`${e}/${Js}`;return`${e.includes("localhost")?"http://":"https://"}${e}/${Js}`})(),TIMEOUT:1e4,HEADERS:{"Content-Type":"application/json"}},Zs=20,eo="he-IL",to="Asia/Jerusalem";const no=new class{constructor(){this.api=void 0,this.api=jt.create({baseURL:Xs.BASE_URL,timeout:Xs.TIMEOUT,headers:Xs.HEADERS}),this.setupInterceptors()}setupInterceptors(){this.api.interceptors.request.use((async e=>{try{const t=Gs().currentUser;if(t){const n=await t.getIdToken();e.headers.Authorization=`Bearer ${n}`}}catch{}return e}),(e=>Promise.reject(e))),this.api.interceptors.response.use((e=>e),(e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){Gs().currentUser}return Promise.reject(e)}))}async get(e,t){return(await this.api.get(e,t)).data}async post(e,t,n){return(await this.api.post(e,t,n)).data}async put(e,t,n){return(await this.api.put(e,t,n)).data}async patch(e,t,n){return(await this.api.patch(e,t,n)).data}async delete(e,t){return(await this.api.delete(e,t)).data}async getBlob(e,t){return(await this.api.get(e,{...t,responseType:"blob",timeout:6e4})).data}},ro={getCurrentUser:async()=>no.get("/users/me"),register:async e=>no.post("/users/register",e),getLocationsForRegistration:async()=>no.get("/users/locations"),getAll:async()=>no.get("/users"),create:async e=>no.post("/users",e),update:async(e,t)=>no.patch(`/users/${e}`,t),delete:async e=>no.delete(`/users/${e}`),deleteMany:async e=>no.delete("/users",{data:{ids:e}}),getById:async e=>no.get(`/users/${e}`)},ao={getAll:async()=>no.get("/items"),getAvailableItems:async()=>(await no.get("/items/available")).items||[],create:async e=>no.post("/items",e),update:async(e,t)=>no.patch(`/items/${e}`,t),markReceived:async e=>no.post(`/items/${e}/receive`),markReturned:async e=>no.post(`/items/${e}/return`),getById:async e=>no.get(`/items/${e}`),delete:async e=>no.delete(`/items/${e}`),deleteMany:async e=>no.delete("/items",{data:{ids:e}})},io={getAll:async()=>no.get("/receipts"),getById:async e=>no.get(`/receipts/${e}`),create:async e=>no.post("/receipts",e,{headers:{"Content-Type":"application/json"}}),update:async(e,t)=>no.patch(`/receipts/${e}`,t,{headers:{"Content-Type":"application/json"}}),delete:async e=>no.delete(`/receipts/${e}`),signReceipt:async(e,t)=>no.post(`/receipts/${e}/sign`,t,{headers:{"Content-Type":"application/json"}}),async getPendingReceipts(){return(await this.getAll()).filter((e=>!e.isSigned))},async getMyPendingReceipts(){return(await this.getAll()).filter((e=>!e.isSigned))},getAvailableItems:async()=>no.get("/items/available"),async signPendingReceipt(e,t){return this.signReceipt(e,{signature:t.signature})},downloadReceiptPDF:async e=>no.getBlob(`/receipts/${e}`),async returnItems(e){throw new Error("Return items functionality needs to be implemented based on backend requirements")},async returnSelectedItems(e){throw new Error("Return selected items functionality needs to be implemented based on backend requirements")}},so={getStatistics:async()=>no.get("/reports/dashboard"),getCurrentReportingStatus:async()=>no.get("/reports/current"),updateReportItems:async e=>no.patch("/reports/reportItems",e),completeReportCycle:async()=>no.post("/reports/complete",{}),async getCompletionHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return no.get(`/reports/history?page=${e}&limit=${t}`)},downloadReportPDF:async e=>no.getBlob(`/reports/download/${e}`),getDashboardByUnit:async e=>no.get(`/reports/dashboard/${e}`),getUserDashboard:async()=>no.get("/reports/dashboard")};const oo=new class{async getAllUnits(){try{return{success:!0,data:await no.get("/management/units")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea"}}}async createUnit(e){try{return{success:!0,data:await no.post("/management/units",e)}}catch(a){var t,n,r;const e=409===(null===(t=a.response)||void 0===t?void 0:t.status);return{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05d9\u05d7\u05d9\u05d3\u05d4",isConflict:e}}}async updateUnit(e,t){try{return{success:!0,data:await no.patch(`/management/units/${e}`,t)}}catch(i){var n,r,a;const e=409===(null===(n=i.response)||void 0===n?void 0:n.status);return{success:!1,error:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||i.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d9\u05d7\u05d9\u05d3\u05d4",isConflict:e}}}async deleteUnits(e){try{return{success:!0,data:await no.delete("/management/units",{data:e})}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea"}}}async getAllLocations(){try{return{success:!0,data:await no.get("/management/locations")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"}}}async createLocation(e){try{return{success:!0,data:await no.post("/management/locations",e)}}catch(a){var t,n,r;const e=409===(null===(t=a.response)||void 0===t?void 0:t.status);return{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05d9\u05e7\u05d5\u05dd",isConflict:e}}}async updateLocation(e,t){try{return{success:!0,data:await no.patch(`/management/locations/${e}`,t)}}catch(i){var n,r,a;const e=409===(null===(n=i.response)||void 0===n?void 0:n.status);return{success:!1,error:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||i.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d9\u05e7\u05d5\u05dd",isConflict:e}}}async deleteLocations(e){try{return{success:!0,data:await no.delete("/management/locations",{data:e})}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"}}}async getAllItemNames(){try{return{success:!0,data:await no.get("/management/item-names")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"}}}async createItemName(e){try{return{success:!0,data:await no.post("/management/item-names",e)}}catch(a){var t,n,r;const e=409===(null===(t=a.response)||void 0===t?void 0:t.status);return{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8",isConflict:e}}}async updateItemName(e,t){try{return{success:!0,data:await no.patch(`/management/item-names/${e}`,t)}}catch(i){var n,r,a;const e=409===(null===(n=i.response)||void 0===n?void 0:n.status);return{success:!1,error:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||i.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8",isConflict:e}}}async deleteItemNames(e){try{return{success:!0,data:await no.delete("/management/item-names",{data:e})}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"}}}async getSettings(){try{return{success:!0,data:await no.get("/management/settings")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"}}}async updateSettings(e){try{return{success:!0,data:await no.patch("/management/settings",e)}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"}}}async getNotificationSettings(){try{return{success:!0,data:await no.get("/management/notification-settings")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}}}async updateNotificationSettings(e){try{return{success:!0,data:await no.patch("/management/notification-settings",e)}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}}}async getAllAllocations(){try{return{success:!0,data:await no.get("/management/allocations")}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||'\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e9\u05d1\u05e6"\u05e7'}}}async createAllocation(e){try{return{success:!0,data:await no.post("/management/allocations",e)}}catch(a){var t,n,r;const e=409===(null===(t=a.response)||void 0===t?void 0:t.status);return{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||'\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05e9\u05d1\u05e6"\u05e7',isConflict:e}}}async updateAllocation(e,t){try{return{success:!0,data:await no.patch(`/management/allocations/${e}`,t)}}catch(i){var n,r,a;const e=409===(null===(n=i.response)||void 0===n?void 0:n.status);return{success:!1,error:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||i.message||'\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05e9\u05d1\u05e6"\u05e7',isConflict:e}}}async deleteAllocations(e){try{return{success:!0,data:await no.delete("/management/allocations",{data:e})}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||r.message||'\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05e9\u05d1\u05e6"\u05e7'}}}async exportDatabase(){try{return{success:!0,data:await no.get("/backup/export",{timeout:0})}}catch(n){var e,t;return{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05e6\u05d5\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}}}async startExport(){try{var e,t,n;const r=await no.get("/backup/export"),a=(null===r||void 0===r?void 0:r.operationId)||(null===r||void 0===r?void 0:r.id)||(null===r||void 0===r?void 0:r.processId)||(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.operationId)||(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.id)||(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.processId);return a?{success:!0,data:{id:a}}:{success:!1,error:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d7\u05d9\u05dc\u05ea \u05d9\u05d9\u05e6\u05d5\u05d0: \u05de\u05d6\u05d4\u05d4 \u05ea\u05d4\u05dc\u05d9\u05da \u05dc\u05d0 \u05d4\u05ea\u05e7\u05d1\u05dc"}}catch(i){var r,a;return{success:!1,error:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||i.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d7\u05d9\u05dc\u05ea \u05d9\u05d9\u05e6\u05d5\u05d0"}}}async getExportStatus(e){try{var t,n,r,a,i,s;const o=await no.get(`/backup/export/status/${e}`),l=(null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t.currentProgress)||{},c="number"===typeof(null===o||void 0===o?void 0:o.progress)?o.progress:"number"===typeof(null===l||void 0===l?void 0:l.overallProgress)?l.overallProgress:0,d=(null===o||void 0===o?void 0:o.status)||(null===l||void 0===l?void 0:l.status),u="completed"===d||!0===(null===o||void 0===o?void 0:o.done),h=(null===o||void 0===o||null===(n=o.result)||void 0===n?void 0:n.downloadUrl)||(null===o||void 0===o?void 0:o.downloadUrl),p=null===o||void 0===o?void 0:o.result,f=null!==(r=null!==(a=null===o||void 0===o?void 0:o.tables)&&void 0!==a?a:null===l||void 0===l?void 0:l.tables)&&void 0!==r?r:[],m=null!==(i=null===o||void 0===o?void 0:o.totalStatistics)&&void 0!==i?i:null===l||void 0===l?void 0:l.totalStatistics;return{success:!0,data:{progress:c,downloadUrl:h,done:u,result:p,tables:f,totalStatistics:m,message:(null===o||void 0===o?void 0:o.message)||(null===o||void 0===o||null===(s=o.result)||void 0===s?void 0:s.message),status:d}}}catch(c){var o,l;return{success:!1,error:(null===(o=c.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||c.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05e4\u05ea \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d9\u05d9\u05e6\u05d5\u05d0"}}}async importDatabase(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const n={data:e,isOverride:t};return{success:!0,data:await no.post("/backup/import",n,{timeout:0})}}catch(a){var n,r;return{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05d1\u05d5\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}}}async startImport(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const n={isOverride:t,data:e},r=await no.post("/backup/import",n,{timeout:0});console.log("Import response:",r);if(r&&"object"===typeof r&&(r.allocation||r.itemName||r.location||r.receipt)){console.log("Server returned direct import results (synchronous import)");const e=`sync-${Date.now()}`;return window.__tempImportResult={id:e,result:r,status:"completed",done:!0,progress:100},console.log("Generated fake ID for synchronous import:",e),{success:!0,data:{id:e}}}const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"object"!==typeof e)return null;for(const n of["id","operationId","processId","importId"])if(e[n])return console.log(`Found ID "${e[n]}" at path: ${t}.${n}`),String(e[n]);if(t.split(".").length<3)for(const n of Object.keys(e))if("object"===typeof e[n]&&null!==e[n]){const r=a(e[n],t?`${t}.${n}`:n);if(r)return r}return null},i=a(r);return i?(console.log("Successfully extracted import ID:",i),{success:!0,data:{id:i}}):(console.error("No ID found in import response:",JSON.stringify(r,null,2)),{success:!1,error:`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d7\u05d9\u05dc\u05ea \u05d9\u05d9\u05d1\u05d5\u05d0: \u05de\u05d6\u05d4\u05d4 \u05ea\u05d4\u05dc\u05d9\u05da \u05dc\u05d0 \u05d4\u05ea\u05e7\u05d1\u05dc. Response: ${JSON.stringify(r)}`})}catch(a){var n,r;return console.error("Import start error:",a),{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d7\u05d9\u05dc\u05ea \u05d9\u05d9\u05d1\u05d5\u05d0"}}}async getImportStatus(e){try{var t,n,r,a,i;if(e.startsWith("sync-")){const t=window.__tempImportResult;if(t&&t.id===e)return console.log("Returning stored synchronous import result"),delete window.__tempImportResult,{success:!0,data:{progress:t.progress,done:t.done,status:t.status,result:t.result,message:"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",tables:[],totalStatistics:{}}}}const s=await no.get(`/backup/import/status/${e}`),o=(null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.currentProgress)||{},l="number"===typeof(null===s||void 0===s?void 0:s.progress)?s.progress:"number"===typeof(null===o||void 0===o?void 0:o.overallProgress)?o.overallProgress:0,c=(null===s||void 0===s?void 0:s.status)||(null===o||void 0===o?void 0:o.status),d="completed"===c||!0===(null===s||void 0===s?void 0:s.done),u=null!==(n=null!==(r=null===s||void 0===s?void 0:s.tables)&&void 0!==r?r:null===o||void 0===o?void 0:o.tables)&&void 0!==n?n:[],h=null!==(a=null===s||void 0===s?void 0:s.totalStatistics)&&void 0!==a?a:null===o||void 0===o?void 0:o.totalStatistics,p=(null===s||void 0===s?void 0:s.message)||(null===s||void 0===s||null===(i=s.result)||void 0===i?void 0:i.message);return{success:!0,data:{progress:l,done:d,tables:u,totalStatistics:h,message:p,status:c,result:null===s||void 0===s?void 0:s.result}}}catch(l){var s,o;return{success:!1,error:(null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||l.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05e4\u05ea \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d9\u05d9\u05d1\u05d5\u05d0"}}}},lo=e=>new Intl.DateTimeFormat(eo,{year:"numeric",month:"long",day:"numeric",timeZone:to}).format(e),co=e=>{const t=new Date(e);return`${t.toLocaleDateString("he-IL")} ${t.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`},uo=e=>{var t,n,r,a,i,s;return(null===(t=e.signedBy)||void 0===t||null===(n=t.location)||void 0===n||null===(r=n.unit)||void 0===r?void 0:r.name)||(null===(a=e.createdBy)||void 0===a||null===(i=a.location)||void 0===i||null===(s=i.unit)||void 0===s?void 0:s.name)||"\u2014"},ho=e=>{var t,n,r,a;return(null===(t=e.signedBy)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.name)||(null===(r=e.createdBy)||void 0===r||null===(a=r.location)||void 0===a?void 0:a.name)||"\u2014"},po=(e,t)=>{var n;return(null===(n=e.receiptItems)||void 0===n?void 0:n.some((e=>{var n,r,a,i,s;const o=((null===(n=e.item)||void 0===n||null===(r=n.itemName)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.toLowerCase())||"").normalize("NFC"),l=((null===(i=e.item)||void 0===i||null===(s=i.idNumber)||void 0===s?void 0:s.toLowerCase())||"").normalize("NFC");return o.includes(t)||l.includes(t)})))||!1},fo=(e,t,n)=>{if("string"===typeof e&&"string"===typeof t){const r=e.localeCompare(t,"he");return"asc"===n?r:-r}return e<t?"asc"===n?-1:1:e>t?"asc"===n?1:-1:0},mo=e=>/^[0-9]{10}$/.test(e.replace(/\D/g,"")),go=e=>{const t=e.toString();return 7===t.length&&/^[0-9]{7}$/.test(t)},bo=e=>e.trim().length>0,vo=e=>e.trim().replace(/\s+/g," "),yo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs;if(!e||!Array.isArray(e))return{paginatedItems:[],totalPages:0,startIndex:0,endIndex:0};const r=Math.ceil(e.length/n),a=(t-1)*n,i=Math.min(a+n,e.length);return{paginatedItems:e.slice(a,i),totalPages:r,startIndex:a,endIndex:i}},xo=e=>{var t;if(e&&"object"===typeof e&&"response"in e){var n;const r=e,a=(null===(n=r.response)||void 0===n?void 0:n.status)||500;let i="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4";switch(a){case 409:i=wo(r);break;case 400:i=ko(r);break;case 403:i=jo(r);break;case 404:i="\u05d4\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0";break;case 500:i="\u05e9\u05d2\u05d9\u05d0\u05ea \u05e9\u05e8\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05ea";break;default:const e=null===(t=r.response)||void 0===t?void 0:t.data;i=(null===e||void 0===e?void 0:e.message)||r.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4"}return{status:a,message:i,isConflict:409===a||403===a,isValidation:400===a}}return{status:500,message:e instanceof Error?e.message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4",isConflict:!1,isValidation:!1}},wo=e=>{var t,n,r,a;const i=(null===(t=e.config)||void 0===t?void 0:t.url)||"";if("DELETE"===((null===(n=e.config)||void 0===n||null===(r=n.method)||void 0===r?void 0:r.toUpperCase())||"")){if(i.includes("/users/"))return"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4 \u05db\u05d9\u05d5\u05d5\u05df \u05e9\u05d4\u05d5\u05d0 \u05de\u05e7\u05d5\u05e9\u05e8 \u05dc\u05e7\u05d1\u05dc\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea. \u05d9\u05e9 \u05dc\u05d4\u05d7\u05d6\u05d9\u05e8 \u05ea\u05d7\u05d9\u05dc\u05d4 \u05d0\u05ea \u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e7\u05e6\u05d9\u05dd \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4.";if(i.includes("/items/"))return"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8 \u05d6\u05d4 \u05db\u05d9\u05d5\u05d5\u05df \u05e9\u05d4\u05d5\u05d0 \u05de\u05d5\u05e7\u05e6\u05d4 \u05db\u05e8\u05d2\u05e2 \u05dc\u05de\u05e9\u05ea\u05de\u05e9. \u05d9\u05e9 \u05dc\u05d4\u05d7\u05d6\u05d9\u05e8 \u05ea\u05d7\u05d9\u05dc\u05d4 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 \u05d0\u05d5 \u05dc\u05d1\u05d8\u05dc \u05d0\u05ea \u05d4\u05e7\u05e6\u05d0\u05ea\u05d5."}const s=null===(a=e.response)||void 0===a?void 0:a.data;if(null!==s&&void 0!==s&&s.message){const e=s.message.toLowerCase();if(e.includes("user")&&e.includes("assigned"))return"\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05de\u05e7\u05d5\u05e9\u05e8 \u05dc\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd \u05d5\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05d5\u05ea\u05d5";if(e.includes("item")&&e.includes("assigned"))return"\u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05d5\u05e7\u05e6\u05d4 \u05db\u05e8\u05d2\u05e2 \u05d5\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05d5\u05ea\u05d5";if(e.includes("receipt")&&e.includes("active"))return"\u05e7\u05d9\u05d9\u05de\u05d5\u05ea \u05e7\u05d1\u05dc\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05d4\u05de\u05d5\u05e0\u05e2\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4"}return"\u05d4\u05e4\u05e2\u05d5\u05dc\u05d4 \u05e0\u05db\u05e9\u05dc\u05d4 \u05d1\u05d2\u05dc\u05dc \u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd. \u05d9\u05d9\u05ea\u05db\u05df \u05e9\u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05e7\u05d5\u05e9\u05e8 \u05dc\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea."},jo=e=>{var t;const n=null===(t=e.response)||void 0===t?void 0:t.data,r="string"===typeof(null===n||void 0===n?void 0:n.message)?n.message:"",a=r.toLowerCase();return a.includes("cannot update an item that is part of a signed receipt")?"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d3\u05db\u05df \u05e4\u05e8\u05d9\u05d8 \u05e9\u05d4\u05d5\u05d0 \u05d7\u05dc\u05e7 \u05de\u05e7\u05d1\u05dc\u05d4 \u05d7\u05ea\u05d5\u05de\u05d4":a.includes("forbidden")||a.includes("not allowed")?"\u05d0\u05d9\u05df \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05d1\u05e6\u05e2 \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5":r||"\u05e4\u05e2\u05d5\u05dc\u05d4 \u05d0\u05e1\u05d5\u05e8\u05d4"},ko=e=>{var t;const n=null===(t=e.response)||void 0===t?void 0:t.data;return null!==n&&void 0!==n&&n.message?n.message:null!==n&&void 0!==n&&n.errors&&Array.isArray(n.errors)?n.errors.join(", "):"\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd"},No=e=>"user"===e?"\n\u05e4\u05ea\u05e8\u05d5\u05e0\u05d5\u05ea \u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd:\n\u2022 \u05d4\u05d7\u05d6\u05e8 \u05d0\u05ea \u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e7\u05e6\u05d9\u05dd \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4\n\u2022 \u05d1\u05d8\u05dc \u05d0\u05ea \u05d4\u05e7\u05e6\u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea\n\u2022 \u05de\u05d7\u05e7 \u05ea\u05d7\u05d9\u05dc\u05d4 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05e9\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\n    ".trim():"\n\u05e4\u05ea\u05e8\u05d5\u05e0\u05d5\u05ea \u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd:\n\u2022 \u05d4\u05d7\u05d6\u05e8 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea\n\u2022 \u05d1\u05d8\u05dc \u05d0\u05ea \u05d4\u05e7\u05e6\u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 \u05dc\u05de\u05e9\u05ea\u05de\u05e9\n\u2022 \u05de\u05d7\u05e7 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4 \u05d4\u05de\u05db\u05d9\u05dc\u05d4 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\n    ".trim(),So=e=>e&&"boolean"===typeof e.deleted&&"number"===typeof e.deletedCount&&e.message&&Array.isArray(e.errors)?{isSuccess:e.deleted&&0===e.errors.length,hasConflicts:!e.deleted||e.errors.length>0,bulkResult:{deleted:e.deleted,deletedCount:e.deletedCount,message:e.message,errors:e.errors}}:{isSuccess:!0,hasConflicts:!1},Co=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),o=async()=>{try{a(!0),s(null);const e=await ro.getAll();n(Array.isArray(e)?e:[])}catch(e){s(e instanceof Error?e.message:"Failed to fetch users"),n([])}finally{a(!1)}};return(0,t.useEffect)((()=>{o()}),[]),{users:e,loading:r,error:i,refetch:o,createUser:async e=>{try{return s(null),await ro.create(e),await o(),{success:!0}}catch(t){const e=xo(t);return s(e.message),409===e.status?{success:!1,error:{status:409,message:e.message}}:{success:!1}}},updateUser:async(e,t)=>{try{return s(null),await ro.update(e,t),await o(),{success:!0}}catch(n){const e=xo(n);return s(e.message),409===e.status?{success:!1,error:{status:409,message:e.message}}:403===e.status?{success:!1,error:{status:403,message:e.message}}:{success:!1}}},deleteManyUsers:async e=>{try{s(null);const t=await ro.deleteMany(e),{isSuccess:n,hasConflicts:r,bulkResult:a}=So(t);return n?(await o(),{success:!0}):r&&a?(await o(),{success:!1,error:a.message,isConflict:!0,bulkError:{deletedCount:a.deletedCount,errors:a.errors,message:a.message}}):(await o(),{success:!1,error:"\u05ea\u05d2\u05d5\u05d1\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4 \u05de\u05d4\u05e9\u05e8\u05ea"})}catch(t){const e=xo(t);return e.isConflict||s(e.message),{success:!1,error:e.message,isConflict:e.isConflict}}}}},Eo=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),c=async()=>{try{s(!0),l(null);const e=await ao.getAll();n(Array.isArray(e)?e:[])}catch(e){l(e instanceof Error?e.message:"Failed to fetch items"),n([])}finally{s(!1)}};return(0,t.useEffect)((()=>{c()}),[]),{items:e,availableItems:r,loading:i,error:o,refetch:c,refetchAvailableItems:async()=>{try{l(null);const e=await ao.getAvailableItems();a(Array.isArray(e)?e:[])}catch(e){l(e instanceof Error?e.message:"Failed to fetch available items"),a([])}},createItem:async e=>{try{return l(null),await ao.create(e),await c(),{success:!0}}catch(t){const e=xo(t);return e.isConflict||l(e.message),{success:!1,error:e.message,isConflict:e.isConflict}}},updateItem:async(e,t)=>{try{return l(null),await ao.update(e,t),await c(),{success:!0}}catch(n){const e=xo(n);return e.isConflict||l(e.message),{success:!1,error:e.message,isConflict:e.isConflict}}},deleteItem:async e=>{try{return l(null),await ao.delete(e),await c(),{success:!0}}catch(t){const e=xo(t);return e.isConflict||l(e.message),{success:!1,error:e.message,isConflict:e.isConflict}}},deleteManyItems:async e=>{try{l(null);const t=await ao.deleteMany(e),{isSuccess:n,hasConflicts:r,bulkResult:a}=So(t);return n?(await c(),{success:!0}):r&&a?(await c(),{success:!1,error:a.message,isConflict:!0,bulkError:{deletedCount:a.deletedCount,errors:a.errors,message:a.message}}):(await c(),{success:!1,error:"\u05ea\u05d2\u05d5\u05d1\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4 \u05de\u05d4\u05e9\u05e8\u05ea"})}catch(t){const e=xo(t);return e.isConflict||l(e.message),{success:!1,error:e.message,isConflict:e.isConflict}}},markItemReceived:async e=>{try{return l(null),await ao.markReceived(e),await c(),!0}catch(t){return l(t instanceof Error?t.message:"Failed to mark item as received"),!1}},markItemReturned:async e=>{try{return l(null),await ao.markReturned(e),await c(),!0}catch(t){return l(t instanceof Error?t.message:"Failed to mark item as returned"),!1}}}},Io=()=>{const{currentStatus:e,loading:n,error:r,refetch:a,updateReportItems:i,completeReportCycle:s,toggleReportStatus:o,setReportStatusBulk:l,updateItemNotes:c}=(()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),o=async()=>{try{a(!0),s(null);const e=await so.getCurrentReportingStatus();n(e)}catch(e){s(e instanceof Error?e.message:"Failed to fetch current reporting status"),n(null)}finally{a(!1)}};return(0,t.useEffect)((()=>{o()}),[]),{currentStatus:e,loading:r,error:i,refetch:o,updateReportItems:async e=>{try{s(null);const t={items:e};return await so.updateReportItems(t),await o(),!0}catch(t){return s(t instanceof Error?t.message:"Failed to update report items"),!1}},completeReportCycle:async()=>{try{return s(null),await so.completeReportCycle(),await o(),!0}catch(e){return s(e instanceof Error?e.message:"Failed to complete report cycle"),!1}},toggleReportStatus:t=>{e&&n((e=>e?{...e,items:e.items.map((e=>e.id===t?{...e,isReported:!e.isReported}:e)),reportedItems:e.items.map((e=>e.id===t?{...e,isReported:!e.isReported}:e)).filter((e=>e.isReported)).length}:e))},setReportStatusBulk:(t,r)=>{e&&n((e=>{if(!e)return e;const n=e.items.map((e=>t.includes(e.id)?{...e,isReported:r}:e));return{...e,items:n,reportedItems:n.filter((e=>e.isReported)).length}}))},updateItemNotes:(t,r)=>{e&&n((e=>e?{...e,items:e.items.map((e=>e.id===t?{...e,notes:r}:e))}:e))}}})();return{dailyReportData:e?{status:e.status,items:e.items,userInfo:e.userInfo}:null,loading:n,error:r,refetch:a,createDailyReport:async()=>!1,updateDailyReport:async(e,t)=>{var n;const r=(null===(n=t.reportItems)||void 0===n?void 0:n.map((e=>({itemId:e.itemId,notes:e.notes}))))||[];return i(r)},completeDailyReport:async()=>s(),toggleReportStatus:o,setReportStatusBulk:l,updateItemNotes:c}},_o=()=>{const{history:e,loading:n,error:r,fetchHistory:a}=(()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null);return{history:e,loading:r,error:i,fetchHistory:(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{a(!0),s(null);const r=await so.getCompletionHistory(e,t);n(r&&"object"===typeof r?r:{completions:[],pagination:{page:1,limit:10,total:0,pages:0}})}catch(r){s(r instanceof Error?r.message:"Failed to fetch report completion history"),n({completions:[],pagination:{page:1,limit:10,total:0,pages:0}})}finally{a(!1)}}),[])}})();return{history:e&&Array.isArray(e.completions)?{reports:e.completions.map((e=>({id:e.id,createdById:e.completedById,completedAt:e.completedAt,completedById:e.completedById,isActive:!1,isCompleted:!0,totalItems:e.totalItems,reportedItems:e.reportedItems,createdAt:e.completedAt,updatedAt:e.completedAt,createdBy:e.completedBy,completedBy:e.completedBy,downloadUrl:e.downloadUrl}))),pagination:e.pagination||{page:1,limit:10,total:0,pages:0}}:{reports:[],pagination:{page:1,limit:10,total:0,pages:0}},loading:n,error:r,fetchHistory:a,getDailyReportById:(0,t.useCallback)((async e=>null),[])}},To=()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{a(!0),s(null);const e=await so.getStatistics();n(e)}catch(e){s(e instanceof Error?e.message:"Failed to fetch statistics")}finally{a(!1)}})()}),[]),{stats:e,loading:r,error:i}},Ro=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),c=(0,t.useCallback)((async()=>{s(!0),l(null);try{const e=await io.getAll();if(Array.isArray(e)){const t=e.filter((e=>e.isSigned)),r=e.filter((e=>!e.isSigned));n(t),a(r)}else n([]),a([])}catch(e){l(e instanceof Error?e.message:"Failed to fetch receipts"),n([]),a([])}finally{s(!1)}}),[]),d=(0,t.useCallback)((async(e,t)=>{s(!0),l(null);try{const t=await io.create(e);return n((e=>[t,...e])),!0}catch(r){throw l(r instanceof Error?r.message:"Failed to create receipt"),r}finally{s(!1)}}),[]),u=(0,t.useCallback)((async(e,t)=>{s(!0),l(null);try{return await io.update(e,t),await c(),!0}catch(n){throw l(n instanceof Error?n.message:"Failed to update receipt"),n}finally{s(!1)}}),[c]),h=(0,t.useCallback)((async e=>{s(!0),l(null);try{return await io.delete(e),n((t=>t.filter((t=>t.id!==e)))),!0}catch(t){return l(t instanceof Error?t.message:"Failed to delete receipt"),!1}finally{s(!1)}}),[]),p=(0,t.useCallback)((async(e,t)=>{s(!0),l(null);try{return await io.returnItems(e),await c(),!0}catch(n){return l(n instanceof Error?n.message:"Failed to return receipt"),!1}finally{s(!1)}}),[c]),f=(0,t.useCallback)((async e=>{s(!0),l(null);try{return await io.returnSelectedItems(e),await c(),!0}catch(t){return l(t instanceof Error?t.message:"Failed to return selected items"),!1}finally{s(!1)}}),[c]),m=(0,t.useCallback)((async()=>{s(!0),l(null);try{const e=await io.getPendingReceipts();Array.isArray(e)?a(e):a([])}catch(e){l(e instanceof Error?e.message:"Failed to fetch pending receipts"),a([])}finally{s(!1)}}),[]),g=(0,t.useCallback)((async()=>{s(!0),l(null);try{const e=await io.getMyPendingReceipts();Array.isArray(e)?a(e):a([])}catch(e){l(e instanceof Error?e.message:"Failed to fetch pending receipts"),a([])}finally{s(!1)}}),[]),b=(0,t.useCallback)((async(e,t)=>{s(!0),l(null);try{const r=await io.signPendingReceipt(e,t);return a((t=>t.filter((t=>t.id!==e)))),n((e=>[r,...e])),!0}catch(r){return l(r instanceof Error?r.message:"Failed to sign pending receipt"),!1}finally{s(!1)}}),[]);return(0,t.useEffect)((()=>{c()}),[c]),{receipts:e,pendingReceipts:r,loading:i,error:o,fetchReceipts:c,fetchPendingReceipts:m,fetchMyPendingReceipts:g,createReceipt:d,signPendingReceipt:b,updateReceipt:u,deleteReceipt:h,returnReceipt:p,returnSelectedItems:f}};yr("firebase","12.0.0","app");const Ao="@firebase/installations",Po="0.6.19",Oo=1e4,Lo=`w:${Po}`,zo="FIS_v2",Do=36e5,Mo=new Wt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fo(e){return e instanceof $t&&e.code.includes("request-failed")}function Bo(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Uo(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function $o(e,t){const n=(await t.json()).error;return Mo.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wo(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ho(e,t){let{refreshToken:n}=t;const r=Wo(e);return r.append("Authorization",function(e){return`${zo} ${e}`}(n)),r}async function qo(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Vo(e){return new Promise((t=>{setTimeout(t,e)}))}const Ko=/^[cdef][\w-]{21}$/;function Qo(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ko.test(t)?t:""}catch{return""}}function Go(e){return`${e.appName}!${e.appId}`}const Yo=new Map;function Jo(e,t){const n=Go(e);Xo(n,t),function(e,t){const n=el();n&&n.postMessage({key:e,fid:t});tl()}(n,t)}function Xo(e,t){const n=Yo.get(e);if(n)for(const r of n)r(t)}let Zo=null;function el(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=e=>{Xo(e.data.key,e.data.fid)}),Zo}function tl(){0===Yo.size&&Zo&&(Zo.close(),Zo=null)}const nl="firebase-installations-store";let rl=null;function al(){return rl||(rl=Nn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(nl)}})),rl}async function il(e,t){const n=Go(e),r=(await al()).transaction(nl,"readwrite"),a=r.objectStore(nl),i=await a.get(n);return await a.put(t,n),await r.done,i&&i.fid===t.fid||Jo(e,t.fid),t}async function sl(e){const t=Go(e),n=(await al()).transaction(nl,"readwrite");await n.objectStore(nl).delete(t),await n.done}async function ol(e,t){const n=Go(e),r=(await al()).transaction(nl,"readwrite"),a=r.objectStore(nl),i=await a.get(n),s=t(i);return void 0===s?await a.delete(n):await a.put(s,n),await r.done,!s||i&&i.fid===s.fid||Jo(e,s.fid),s}async function ll(e){let t;const n=await ol(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Qo(),registrationStatus:0};return ul(t)}(n),a=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Mo.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:a}=t;const i=Bo(n),s=Wo(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:a,authVersion:zo,appId:n.appId,sdkVersion:Lo},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await qo((()=>fetch(i,c)));if(d.ok){const e=await d.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:Uo(e.authToken)}}throw await $o("Create Installation",d)}(e,t);return il(e.appConfig,n)}catch(n){throw Fo(n)&&409===n.customData.serverCode?await sl(e.appConfig):await il(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:cl(e)}:{installationEntry:t}}(e,r);return t=a.registrationPromise,a.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function cl(e){let t=await dl(e.appConfig);for(;1===t.registrationStatus;)await Vo(100),t=await dl(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ll(e);return n||t}return t}function dl(e){return ol(e,(e=>{if(!e)throw Mo.create("installation-not-found");return ul(e)}))}function ul(e){return 1===(t=e).registrationStatus&&t.registrationTime+Oo<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function hl(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const a=function(e,t){let{fid:n}=t;return`${Bo(e)}/${n}/authTokens:generate`}(n,t),i=Ho(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:Lo,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await qo((()=>fetch(a,l)));if(c.ok){return Uo(await c.json())}throw await $o("Generate Auth Token",c)}async function pl(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ol(e.appConfig,(r=>{if(!ml(r))throw Mo.create("not-registered");const a=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Do}(e)}(a))return r;if(1===a.requestStatus)return t=async function(e,t){let n=await fl(e.appConfig);for(;1===n.authToken.requestStatus;)await Vo(100),n=await fl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?pl(e,t):r}(e,n),r;{if(!navigator.onLine)throw Mo.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await hl(e,t),r={...t,authToken:n};return await il(e.appConfig,r),n}catch(n){if(!Fo(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await il(e.appConfig,n)}else await sl(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function fl(e){return ol(e,(e=>{if(!ml(e))throw Mo.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Oo<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n}))}function ml(e){return void 0!==e&&2===e.registrationStatus}async function gl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ll(e);t&&await t}(n);return(await pl(n,t)).token}function bl(e){return Mo.create("missing-app-config-values",{valueName:e})}const vl="installations",yl=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw bl("App Configuration");if(!e.name)throw bl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw bl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:hr(t,"heartbeat"),_delete:()=>Promise.resolve()}},xl=e=>{const t=hr(e.getProvider("app").getImmediate(),vl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ll(t);return r?r.catch(console.error):pl(t).catch(console.error),n.fid}(t),getToken:e=>gl(t,e)}};ur(new en(vl,yl,"PUBLIC")),ur(new en("installations-internal",xl,"PRIVATE")),yr(Ao,Po),yr(Ao,Po,"esm2020");const wl="analytics",jl="https://www.googletagmanager.com/gtag/js",kl=new un("@firebase/analytics"),Nl=new Wt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sl(e){if(!e.startsWith(jl)){const t=Nl.create("invalid-gtag-resource",{gtagURL:e});return kl.warn(t.message),""}return e}function Cl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function El(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Sl}),r=document.createElement("script"),a=`${jl}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Il(e,t,n,r){return async function(a){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if("event"===a){const[r,a]=s;await async function(e,t,n,r,a){try{let i=[];if(a&&a.send_to){let e=a.send_to;Array.isArray(e)||(e=[e]);const r=await Cl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),a=e&&t[e.appId];if(!a){i=[];break}i.push(a)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,a||{})}catch(i){kl.error(i)}}(e,t,n,r,a)}else if("config"===a){const[a,i]=s;await async function(e,t,n,r,a,i){const s=r[a];try{if(s)await t[s];else{const e=(await Cl(n)).find((e=>e.measurementId===a));e&&await t[e.appId]}}catch(o){kl.error(o)}e("config",a,i)}(e,t,n,r,a,i)}else if("consent"===a){const[t,n]=s;e("consent",t,n)}else if("get"===a){const[t,n,r]=s;e("get",t,n,r)}else if("set"===a){const[t]=s;e("set",t)}else e(a,...s)}catch(l){kl.error(l)}}}const _l=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Tl(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Rl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_l,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:a,measurementId:i}=e.options;if(!r)throw Nl.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw Nl.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Pl;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),Al({appId:r,apiKey:a,measurementId:i},s,o,t)}async function Al(e,t,n){let{throttleEndTimeMillis:r,backoffCount:a}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_l;const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise(((n,r)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(n,a);e.addEventListener((()=>{clearTimeout(i),r(Nl.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(l){if(o)return kl.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:o};throw l}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Tl(n)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(a,r);if(200!==i.status&&304!==i.status){let e="";try{const t=await i.json();t.error?.message&&(e=t.error.message)}catch(s){}throw Nl.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(l){const t=l;if(!function(e){if(!(e instanceof $t)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(s),o)return kl.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${t?.message}]`),{appId:s,measurementId:o};throw l}const r=503===Number(t?.customData?.httpStatus)?Xt(a,i.intervalMillis,30):Xt(a,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+r,backoffCount:a+1};return i.setThrottleMetadata(s,c),kl.debug(`Calling attemptFetch again in ${r} millis`),Al(e,c,n,i)}}class Pl{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ol,Ll;function zl(e){Ll=e}function Dl(e){Ol=e}async function Ml(e,t,n,r,a,i,s){const o=Rl(e);o.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&kl.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>kl.error(e))),t.push(o);const l=async function(){if(!Bt())return kl.warn(Nl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ut()}catch(e){return kl.warn(Nl.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,d]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(jl)&&n.src.includes(e))return n;return null})(i)||El(i,c.measurementId),Ll&&(a("consent","default",Ll),zl(void 0)),a("js",new Date);const u=s?.config??{};return u.origin="firebase",u.update=!0,null!=d&&(u.firebase_id=d),a("config",c.measurementId,u),Ol&&(a("set",Ol),Dl(void 0)),c.measurementId}class Fl{constructor(e){this.app=e}_delete(){return delete Bl[this.app.options.appId],Promise.resolve()}}let Bl={},Ul=[];const $l={};let Wl,Hl,ql="dataLayer",Vl="gtag",Kl=!1;function Ql(){const e=[];if(Ft()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Nl.create("invalid-analytics-context",{errorInfo:t});kl.warn(n.message)}}function Gl(e,t,n){Ql();const r=e.options.appId;if(!r)throw Nl.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Nl.create("no-api-key");kl.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bl[r])throw Nl.create("already-exists",{id:r});if(!Kl){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ql);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,a){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[a]&&"function"===typeof window[a]&&(i=window[a]),window[a]=Il(i,e,t,n),{gtagCore:i,wrappedGtag:window[a]}}(Bl,Ul,$l,ql,Vl);Hl=e,Wl=t,Kl=!0}Bl[r]=Ml(e,Ul,$l,t,Wl,ql,n);return new Fl(e)}const Yl="@firebase/analytics",Jl="0.10.18";ur(new en(wl,((e,t)=>{let{options:n}=t;return Gl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ur(new en("analytics-internal",(function(e){try{const t=e.getProvider(wl).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Zt(e),async function(e,t,n,r,a){if(a&&a.global)e("event",n,r);else{const a=await t;e("event",n,{...r,send_to:a})}}(Hl,Bl[e.app.options.appId],t,n,r).catch((e=>kl.error(e)))}(t,e,n,r)}}catch(t){throw Nl.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),yr(Yl,Jl),yr(Yl,Jl,"esm2020");const Xl=br({apiKey:"AIzaSyBDqpw6UuQKXfB-dp7z2sFQ-uiLkGRkyzs",authDomain:"items-ad9c4.firebaseapp.com",projectId:"items-ad9c4",storageBucket:"items-ad9c4.firebasestorage.app",messagingSenderId:"274430427975",appId:"1:274430427975:web:52a745c2528ac605270262",measurementId:"G-QM4YKJNXRB"}),Zl=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();e=Zt(e);const t=hr(e,wl);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=hr(e,wl);if(n.isInitialized()){const e=n.getImmediate();if(qt(t,n.getOptions()))return e;throw Nl.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Xl),Gs(Xl)),ec=new yi;ec.addScope("email"),ec.addScope("profile"),Zl.languageCode="en";const tc=()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=function(e,t,n,r){return Zt(e).onAuthStateChanged(t,n,r)}(Zl,(async e=>{e?(n(e),s(null)):(n(null),s(null)),a(!1)}));return()=>e()}),[]);return{user:e,isLoading:r,error:i,logout:async()=>{try{s(null),await function(e){return Zt(e).signOut()}(Zl)}catch(i){s("Failed to sign out")}},clearError:()=>{s(null)},isAuthenticated:!!e}},nc=()=>{const{user:e}=tc(),[n,r]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),d=(0,t.useCallback)((async()=>{if(null!==e&&void 0!==e&&e.email)try{i(!0),c(null);const e=await no.get("/users/me");if(e)if(e.needsRegistration)o(!0),r(null);else{var t,n,a;const i=e,s={id:i.id,name:i.name,personalNumber:i.personalNumber,phoneNumber:i.phoneNumber,rank:i.rank,isAdmin:i.isAdmin,emailSubscribed:i.emailSubscribed,firebaseUid:i.firebaseUid,createdAt:i.createdAt,updatedAt:i.updatedAt,location:(null===(t=i.location)||void 0===t?void 0:t.name)||i.location||"",unit:(null===(n=i.location)||void 0===n||null===(a=n.unit)||void 0===a?void 0:a.name)||i.unit||""};s.id&&s.personalNumber?(r(s),o(!1)):(o(!0),r(null))}else o(!0),r(null)}catch(l){o(!0),r(null),c("Failed to load user profile")}finally{i(!1)}else i(!1)}),[e]);(0,t.useEffect)((()=>{d()}),[d]);return{userProfile:n,isLoading:a,needsProfile:s,error:l,isAdmin:!!n&&n.isAdmin,createUserProfile:async t=>{if(null===e||void 0===e||!e.email||null===e||void 0===e||!e.uid)return c("No authenticated user found"),!1;try{i(!0),c(null);const l={firebaseUid:e.uid,name:t.name,personalNumber:t.personalNumber,phoneNumber:t.phoneNumber,rank:t.rank,locationId:t.locationId},d=await no.post("/users/register",l);if(d){var n,a,s;const e=d,t={id:e.id,name:e.name,personalNumber:e.personalNumber,phoneNumber:e.phoneNumber,rank:e.rank,isAdmin:e.isAdmin,emailSubscribed:e.emailSubscribed,firebaseUid:e.firebaseUid,createdAt:e.createdAt,updatedAt:e.updatedAt,location:(null===(n=e.location)||void 0===n?void 0:n.name)||"",unit:(null===(a=e.location)||void 0===a||null===(s=a.unit)||void 0===s?void 0:s.name)||""};return r(t),o(!1),c(null),!0}return c("Registration failed - no user data returned"),!1}catch(l){var d,u;return c((null===(d=l.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Failed to create user profile"),!1}finally{i(!1)}},updateUserProfile:async e=>{if(!n)return c("No user profile to update"),!1;try{i(!0),c(null);const o=await no.patch(`/users/${n.id}`,e);if(o){var t,a,s;const e=o,n={id:e.id,name:e.name,personalNumber:e.personalNumber,phoneNumber:e.phoneNumber,rank:e.rank,isAdmin:e.isAdmin,emailSubscribed:e.emailSubscribed,firebaseUid:e.firebaseUid,createdAt:e.createdAt,updatedAt:e.updatedAt,location:(null===(t=e.location)||void 0===t?void 0:t.name)||e.location||"",unit:(null===(a=e.location)||void 0===a||null===(s=a.unit)||void 0===s?void 0:s.name)||e.unit||""};return r(n),!0}return!1}catch(l){var o,d;return c((null===(o=l.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message)||"Failed to update user profile"),!1}finally{i(!1)}},refetch:d}},rc=(0,t.createContext)(void 0),ac=e=>{let{children:n}=e;const[r,i]=(0,t.useState)((()=>{if("undefined"!==typeof window){const e=localStorage.getItem("app-theme");if(e&&("dark"===e||"light"===e))return e}return"dark"}));(0,t.useEffect)((()=>{document.documentElement.setAttribute("data-theme",r),"undefined"!==typeof window&&localStorage.setItem("app-theme",r)}),[r]);const s={theme:r,toggleTheme:()=>{i((e=>"dark"===e?"light":"dark"))},setTheme:e=>{i(e)}};return(0,a.jsx)(rc.Provider,{value:s,children:n})},ic=e=>{let{items:n,onSelectionChange:r,multiSelect:a=!0,maxSelection:i}=e;const[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(-1);(0,t.useEffect)((()=>{const e=s.filter((e=>n.some((t=>t.id===e))));e.length!==s.length&&o(e)}),[n,s]),(0,t.useEffect)((()=>{null===r||void 0===r||r(s)}),[s,r]);const d=(0,t.useCallback)((e=>s.includes(e)),[s]),u=(0,t.useCallback)(((e,t,r)=>{o((s=>{const o=s.includes(e);if(!a)return o?[]:[e];if(t){const{ctrlKey:a,metaKey:c,shiftKey:d}=t;if(a||c)return o?s.filter((t=>t!==e)):i&&s.length>=i?s:[...s,e];if(d&&-1!==l&&void 0!==r){const e=Math.min(l,r),t=Math.max(l,r),a=n.slice(e,t+1).map((e=>e.id)),o=Array.from(new Set([...s,...a]));return i&&o.length>i?s:o}}return o?s.filter((t=>t!==e)):i&&s.length>=i?s:[...s,e]})),void 0!==r&&c(r)}),[a,i,l,n]),h=(0,t.useCallback)((()=>{if(!a)return;const e=n.map((e=>e.id));i&&e.length>i?o(e.slice(0,i)):o(e)}),[n,a,i]),p=(0,t.useCallback)((()=>{o([]),c(-1)}),[]),f=(0,t.useCallback)(((e,t)=>{if(!a)return;const r=Math.min(e,t),s=Math.max(e,t),l=n.slice(r,s+1).map((e=>e.id));i&&l.length>i?o(l.slice(0,i)):o(l)}),[n,a,i]),m=s.length>0&&s.length===n.length,g=s.length>0&&s.length<n.length,b=s.length>0;return{selectedIds:s,isSelected:d,toggleSelection:u,selectAll:h,clearSelection:p,selectRange:f,isAllSelected:m,isPartiallySelected:g,hasSelection:b,selectedCount:s.length,totalCount:n.length}},sc=(0,t.createContext)(void 0),oc=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),f=(0,t.useCallback)((async()=>{u(!0),p(null);try{const e=await oo.getAllUnits();e.success&&e.data?i(e.data):e.success||p(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea")}finally{u(!1)}}),[]),m=(0,t.useCallback)((async()=>{u(!0),p(null);try{const e=await oo.getAllLocations();e.success&&e.data?o(e.data):e.success||p(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd")}finally{u(!1)}}),[]),g=(0,t.useCallback)((async()=>{u(!0),p(null);try{const e=await oo.getAllItemNames();e.success&&e.data?c(e.data):e.success||p(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd")}finally{u(!1)}}),[]),b={units:r,locations:s,itemNames:l,loading:d,error:h,loadAllData:(0,t.useCallback)((async()=>{u(!0),p(null);try{const[e,t,n]=await Promise.all([oo.getAllUnits(),oo.getAllLocations(),oo.getAllItemNames()]);e.success&&e.data&&i(e.data),t.success&&t.data&&o(t.data),n.success&&n.data&&c(n.data),e.success||p(e.error||null),t.success||p((e=>e||t.error||null)),n.success||p((e=>e||n.error||null))}catch(e){p(e.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd")}finally{u(!1)}}),[]),loadUnits:f,loadLocations:m,loadItemNames:g,createUnit:(0,t.useCallback)((async e=>{const t=await oo.createUnit(e);return t.success&&t.data&&i((e=>[...e,t.data])),t}),[]),updateUnit:(0,t.useCallback)((async(e,t)=>{const n=await oo.updateUnit(e,t);return n.success&&n.data&&i((t=>t.map((t=>t.id===e?n.data:t)))),n}),[]),deleteUnits:(0,t.useCallback)((async e=>{const t=await oo.deleteUnits(e);return t.success&&i((t=>t.filter((t=>!e.ids.includes(t.id))))),t}),[]),createLocation:(0,t.useCallback)((async e=>{const t=await oo.createLocation(e);return t.success&&t.data&&o((e=>[...e,t.data])),t}),[]),updateLocation:(0,t.useCallback)((async(e,t)=>{const n=await oo.updateLocation(e,t);return n.success&&n.data&&o((t=>t.map((t=>t.id===e?n.data:t)))),n}),[]),deleteLocations:(0,t.useCallback)((async e=>{const t=await oo.deleteLocations(e);return t.success&&o((t=>t.filter((t=>!e.ids.includes(t.id))))),t}),[]),createItemName:(0,t.useCallback)((async e=>{const t=await oo.createItemName(e);return t.success&&t.data&&c((e=>[...e,t.data])),t}),[]),updateItemName:(0,t.useCallback)((async(e,t)=>{const n=await oo.updateItemName(e,t);return n.success&&n.data&&c((t=>t.map((t=>t.id===e?n.data:t)))),n}),[]),deleteItemNames:(0,t.useCallback)((async e=>{const t=await oo.deleteItemNames(e);return t.success&&c((t=>t.filter((t=>!e.ids.includes(t.id))))),t}),[])};return(0,a.jsx)(sc.Provider,{value:b,children:n})},lc=()=>{const e=(0,t.useContext)(sc);if(void 0===e)throw new Error("useManagement must be used within a ManagementProvider");return e},cc=(0,t.createContext)(void 0),dc=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(null),l=(0,t.useCallback)((async()=>{r&&await r()}),[r]),c=(0,t.useCallback)((e=>{s&&s(e)}),[s]),d=(0,t.useCallback)((e=>{i((()=>e))}),[]),u=(0,t.useCallback)((e=>{o((()=>e))}),[]);return(0,a.jsx)(cc.Provider,{value:{refreshPendingCount:l,decrementPendingCount:c,registerRefreshCallback:d,registerDecrementCallback:u},children:n})},uc=()=>{const e=(0,t.useContext)(cc);return void 0===e?{refreshPendingCount:async()=>{},decrementPendingCount:()=>{},registerRefreshCallback:()=>{},registerDecrementCallback:()=>{}}:e},hc=()=>(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-body text-center",children:(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"var(--spacing-md)"},children:"\u26a0\ufe0f"}),(0,a.jsx)("h2",{style:{color:"var(--color-danger)",marginBottom:"var(--spacing-sm)"},children:"\u05ea\u05e7\u05dc\u05d4 \u05d1\u05e9\u05e8\u05ea"}),(0,a.jsxs)("p",{children:["\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05db\u05e8\u05d2\u05e2.",(0,a.jsx)("br",{}),"\u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8."]})]})})}),pc=e=>{let{children:n,isOpen:r,onClose:i,title:s,size:o="md",showCloseButton:l=!0,closeOnOverlayClick:c=!0,closeOnEscape:d=!0,className:u=""}=e;const h=(0,t.useRef)(null),p=(0,t.useRef)(null),f=(0,t.useCallback)((e=>{c&&e.target===e.currentTarget&&i()}),[i,c]),m=(0,t.useCallback)((e=>{e.stopPropagation()}),[]),g=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),i()}),[i]);if((0,t.useEffect)((()=>{if(r){var e;p.current=document.activeElement,null===(e=h.current)||void 0===e||e.focus();if(window.innerWidth<=768)document.body.style.overflow="hidden",document.body.style.touchAction="none";else{const e=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",document.body.setAttribute("data-scroll-y",e.toString())}}else{const e=document.body.getAttribute("data-scroll-y");document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.height="",document.body.style.touchAction="",document.body.style.pointerEvents="",document.body.style.userSelect="",document.body.removeAttribute("data-scroll-y"),window.innerWidth<=768&&(document.body.style.overflowY="auto",document.body.style.touchAction="auto",document.documentElement.style.overflowY="auto",document.documentElement.style.touchAction="auto",setTimeout((()=>{document.body.removeAttribute("style")}),100)),e&&window.innerWidth>768&&window.scrollTo(0,parseInt(e)),p.current&&p.current.focus()}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.height="",document.body.style.touchAction="",document.body.removeAttribute("data-scroll-y"),document.body.style.pointerEvents="",document.body.style.userSelect=""}}),[r]),(0,t.useEffect)((()=>{const e=e=>{d&&"Escape"===e.key&&i()};return r&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[r,i,d]),!r)return null;const b=window.innerWidth<=768?"md":o;return(0,a.jsx)("div",{className:"modal-overlay",onClick:f,onTouchStart:f,role:"dialog","aria-modal":"true","aria-labelledby":s?"modal-title":void 0,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",zIndex:1003,display:"flex",alignItems:"center",justifyContent:"center",padding:"10px"},children:(0,a.jsxs)("div",{ref:h,className:`modal-content modal-content--${b} ${u}`,onClick:m,onTouchStart:m,tabIndex:-1,style:{background:"#2a2a2a",border:"2px solid #007bff",borderRadius:"8px",maxWidth:"calc(100vw - 20px)",maxHeight:"85vh",width:"100%",position:"relative",display:"flex",flexDirection:"column",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:[(s||l)&&(0,a.jsxs)("div",{className:"modal-header",children:[s&&(0,a.jsx)("h3",{id:"modal-title",className:"modal-title",children:s}),l&&(0,a.jsx)("button",{className:"modal-close-button",onClick:g,onTouchStart:g,"aria-label":"\u05e1\u05d2\u05d5\u05e8 \u05d7\u05dc\u05d5\u05df",type:"button",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,a.jsx)("div",{className:"modal-body",children:n})]})})},fc=e=>{let{isOpen:t,onClose:n,title:r,message:i,resolutionMessage:s,type:o}=e;if(!t)return null;const l=(e=>{if(!e)return"";const t=e.toLowerCase(),n=[{test:e=>e.includes("cannot delete items that have been signed"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e9\u05e0\u05d7\u05ea\u05de\u05d5 \u05e2\u05d1\u05d5\u05e8\u05dd"},{test:e=>e.includes("cannot delete item that has been signed"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8 \u05e9\u05e0\u05d7\u05ea\u05dd \u05e2\u05d1\u05d5\u05e8\u05d5"},{test:e=>e.includes("cannot delete users with active receipts"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e2\u05dd \u05e7\u05d1\u05dc\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"},{test:e=>e.includes("is referenced in receipts")||e.includes("referenced by receipts"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7: \u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05e7\u05d5\u05e9\u05e8 \u05dc\u05e7\u05d1\u05dc\u05d5\u05ea"},{test:e=>e.includes("assigned to users")||e.includes("allocated to users"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7: \u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05d5\u05e7\u05e6\u05d4 \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"},{test:e=>e.includes("foreign key")||e.includes("dependency"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e2\u05e7\u05d1 \u05ea\u05dc\u05d5\u05ea \u05d1\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d0\u05d7\u05e8\u05d5\u05ea"},{test:e=>e.includes("cannot delete")&&e.includes("signed"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e9\u05e0\u05d7\u05ea\u05de\u05d5 \u05e2\u05d1\u05d5\u05e8\u05dd"}].find((e=>e.test(t)));return n?n.he:e})(i);return(0,a.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,a.jsxs)("div",{className:"modal-content conflict-modal",onClick:e=>e.stopPropagation(),dir:"rtl",children:[(0,a.jsxs)("div",{className:"modal-header conflict-header",style:{backgroundColor:"user"===o?"#dc3545":"#fd7e14"},children:[(0,a.jsxs)("h4",{className:"modal-title",children:[(0,a.jsx)("i",{className:("user"===o?"fas fa-user-times":"fas fa-box-open")+" me-2"}),r]}),(0,a.jsx)("button",{className:"btn-close btn-close-white",onClick:n,"aria-label":"\u05e1\u05d2\u05d5\u05e8"})]}),(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsx)("div",{className:"conflict-explanation",children:(0,a.jsxs)("div",{className:"alert alert-warning d-flex align-items-start",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle me-3 mt-1",style:{color:"#856404"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\u05d1\u05e2\u05d9\u05d4:"}),(0,a.jsx)("p",{className:"mb-0 mt-2",style:{whiteSpace:"pre-line",fontWeight:500},children:l})]})]})}),(0,a.jsx)("div",{className:"resolution-guide",children:(0,a.jsxs)("div",{className:"alert alert-info d-flex align-items-start",children:[(0,a.jsx)("i",{className:"fas fa-lightbulb me-3 mt-1",style:{color:"#0c5460"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\u05e4\u05ea\u05e8\u05d5\u05e0\u05d5\u05ea \u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd:"}),(0,a.jsx)("div",{className:"mt-2",style:{whiteSpace:"pre-line"},children:s})]})]})}),(0,a.jsx)("div",{className:"additional-help",children:(0,a.jsx)("div",{className:"card bg-light",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h6",{className:"card-title",children:[(0,a.jsx)("i",{className:"fas fa-info-circle me-2"}),"\u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3"]}),(0,a.jsx)("p",{className:"card-text small",children:"user"===o?"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05e4\u05e9\u05e8\u05d9\u05ea \u05e8\u05e7 \u05db\u05d0\u05e9\u05e8 \u05d0\u05d9\u05df \u05dc\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05d5\u05e7\u05e6\u05d9\u05dd. \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e7\u05e6\u05d9\u05dd \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05d3\u05d5\u05d7\u05d5\u05ea.":"\u05de\u05d7\u05d9\u05e7\u05ea \u05e4\u05e8\u05d9\u05d8 \u05d0\u05e4\u05e9\u05e8\u05d9\u05ea \u05e8\u05e7 \u05db\u05d0\u05e9\u05e8 \u05d4\u05d5\u05d0 \u05dc\u05d0 \u05de\u05d5\u05e7\u05e6\u05d4 \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05db\u05dc\u05e9\u05d4\u05d5. \u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05e4\u05e8\u05d9\u05d8 \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd."})]})})})]}),(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsxs)("button",{className:"btn btn-primary",onClick:n,children:[(0,a.jsx)("i",{className:"fas fa-check me-2"}),"\u05d4\u05d1\u05e0\u05ea\u05d9"]})})]})})},mc=e=>{let{isOpen:t,onClose:n,title:r,message:i,deletedCount:s,totalCount:o,errors:l,type:c}=e;const d="user"===c?"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd":"item"===c?"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd":"unit"===c?"\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea":"location"===c?"\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd":"\u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",u=o-s,h=(e=>{if(!e)return"";const t=e.toLowerCase(),n=[{test:e=>e.includes("cannot delete items that have been signed"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e9\u05e0\u05d7\u05ea\u05de\u05d5 \u05e2\u05d1\u05d5\u05e8\u05dd"},{test:e=>e.includes("cannot delete item that has been signed"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8 \u05e9\u05e0\u05d7\u05ea\u05dd \u05e2\u05d1\u05d5\u05e8\u05d5"},{test:e=>e.includes("cannot delete users with active receipts"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e2\u05dd \u05e7\u05d1\u05dc\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"},{test:e=>e.includes("is referenced in receipts")||e.includes("referenced by receipts"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7: \u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05e7\u05d5\u05e9\u05e8 \u05dc\u05e7\u05d1\u05dc\u05d5\u05ea"},{test:e=>e.includes("assigned to users")||e.includes("allocated to users"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7: \u05d4\u05e4\u05e8\u05d9\u05d8 \u05de\u05d5\u05e7\u05e6\u05d4 \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"},{test:e=>e.includes("users_locationid_fkey")||e.includes("location")&&e.includes("users")&&e.includes("foreign key"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05de\u05d9\u05e7\u05d5\u05dd \u05d4\u05de\u05e9\u05d5\u05d9\u05da \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd. \u05d9\u05e9 \u05dc\u05d4\u05e1\u05d9\u05e8 \u05d0\u05ea \u05e9\u05d9\u05d5\u05da \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4."},{test:e=>e.includes("foreign key")||e.includes("dependency"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05e2\u05e7\u05d1 \u05ea\u05dc\u05d5\u05ea \u05d1\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d0\u05d7\u05e8\u05d5\u05ea"},{test:e=>e.includes("cannot delete unit")&&e.includes("locations")&&e.includes("assigned users"),he:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05d9\u05d7\u05d9\u05d3\u05d4 \u05e9\u05d9\u05e9 \u05dc\u05d4 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05e2\u05dd \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05de\u05e9\u05d5\u05d9\u05db\u05d9\u05dd. \u05d9\u05e9 \u05dc\u05d4\u05e1\u05d9\u05e8/\u05dc\u05d4\u05e2\u05d1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05ea\u05d7\u05d9\u05dc\u05d4."}].find((e=>e.test(t)));return n?n.he:e})(i);return(0,a.jsx)(pc,{isOpen:t,onClose:n,title:r,size:"lg",children:(0,a.jsxs)("div",{className:"bulk-delete-error-modal bdem",dir:"rtl",children:[(0,a.jsxs)("div",{className:"bdem-summary",children:[(0,a.jsxs)("div",{className:"bdem-card",children:[(0,a.jsx)("div",{className:"bdem-card-label",children:'\u05e1\u05d4"\u05db \u05e0\u05d1\u05d7\u05e8\u05d5'}),(0,a.jsx)("div",{className:"bdem-card-number text-primary",children:o})]}),(0,a.jsxs)("div",{className:"bdem-card",children:[(0,a.jsx)("div",{className:"bdem-card-label",children:"\u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}),(0,a.jsx)("div",{className:"bdem-card-number text-success",children:s})]}),(0,a.jsxs)("div",{className:"bdem-card",children:[(0,a.jsx)("div",{className:"bdem-card-label",children:"\u05e0\u05db\u05e9\u05dc\u05d5"}),(0,a.jsx)("div",{className:"bdem-card-number text-danger",children:u})]})]}),(0,a.jsxs)("div",{className:"bdem-banner bdem-banner-danger",children:[(0,a.jsx)("i",{className:"fas fa-times-circle"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bdem-banner-title",children:"\u05e1\u05d9\u05d1\u05ea \u05d4\u05db\u05e9\u05dc"}),(0,a.jsx)("div",{className:"bdem-banner-text",children:h})]})]}),l.length>0&&(0,a.jsxs)("div",{className:"bdem-section",children:[(0,a.jsxs)("div",{className:"bdem-section-title",children:[(0,a.jsx)("i",{className:"fas fa-list"}),d," \u05e9\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 (",l.length,"):"]}),(0,a.jsx)("div",{className:"bdem-list",children:l.map(((e,t)=>(0,a.jsxs)("div",{className:"bdem-list-item",children:[(0,a.jsx)("i",{className:"fas fa-times-circle text-danger"}),(0,a.jsx)("span",{className:"bdem-list-text",children:e})]},t)))})]}),(0,a.jsxs)("div",{className:"bdem-banner bdem-banner-info",style:{marginTop:12},children:[(0,a.jsx)("i",{className:"fas fa-lightbulb"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bdem-banner-title",children:"\u05e4\u05ea\u05e8\u05d5\u05e0\u05d5\u05ea \u05de\u05d5\u05de\u05dc\u05e6\u05d9\u05dd"}),"user"===c?(0,a.jsxs)("ul",{className:"mb-0",children:[(0,a.jsx)("li",{children:"\u05d4\u05d7\u05d6\u05e8 \u05d0\u05ea \u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e7\u05e6\u05d9\u05dd \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d0\u05dc\u05d4"}),(0,a.jsx)("li",{children:"\u05d1\u05d8\u05dc \u05d0\u05ea \u05d4\u05e7\u05e6\u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea"}),(0,a.jsx)("li",{children:"\u05de\u05d7\u05e7 \u05ea\u05d7\u05d9\u05dc\u05d4 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05e9\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})]}):"unit"===c?(0,a.jsxs)("ul",{className:"mb-0",children:[(0,a.jsx)("li",{children:"\u05d0\u05ea\u05e8 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05d1\u05d9\u05d7\u05d9\u05d3\u05d4 \u05e9\u05d1\u05d4\u05dd \u05de\u05e9\u05d5\u05d9\u05db\u05d9\u05dd \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"}),(0,a.jsx)("li",{children:"\u05d4\u05e2\u05d1\u05e8 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05dc\u05d9\u05d7\u05d9\u05d3\u05d4 \u05d0\u05d7\u05e8\u05ea \u05d0\u05d5 \u05d4\u05e1\u05e8 \u05d0\u05ea \u05e9\u05d9\u05d5\u05db\u05dd"}),(0,a.jsx)("li",{children:"\u05dc\u05d0\u05d7\u05e8 \u05e9\u05d0\u05d9\u05df \u05e9\u05d9\u05d5\u05db\u05d9\u05dd, \u05e0\u05e1\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 \u05e9\u05d5\u05d1 \u05d0\u05ea \u05d4\u05d9\u05d7\u05d9\u05d3\u05d4"})]}):(0,a.jsxs)("ul",{className:"mb-0",children:[(0,a.jsx)("li",{children:"\u05d4\u05d7\u05d6\u05e8 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d3\u05e8\u05da \u05de\u05e1\u05da \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea"}),(0,a.jsx)("li",{children:"\u05d1\u05d8\u05dc \u05d0\u05ea \u05d4\u05e7\u05e6\u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"}),(0,a.jsx)("li",{children:"\u05de\u05d7\u05e7 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05de\u05db\u05d9\u05dc\u05d5\u05ea \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"})]})]})]}),(0,a.jsx)("div",{className:"d-flex justify-content-end mt-3",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:n,children:[(0,a.jsx)("i",{className:"fas fa-check me-2"}),"\u05d4\u05d1\u05e0\u05ea\u05d9"]})})]})})},gc=e=>{let{isOpen:t,onClose:n,title:r,message:i}=e;return(0,a.jsx)(pc,{isOpen:t,onClose:n,title:r,size:"md",children:(0,a.jsxs)("div",{style:{direction:"rtl",padding:"20px"},children:[(0,a.jsxs)("div",{className:"alert alert-danger",style:{marginBottom:"20px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,a.jsx)("strong",{children:"\u05e9\u05d2\u05d9\u05d0\u05d4:"})," ",i]}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:(0,a.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:n,children:[(0,a.jsx)("i",{className:"fas fa-check me-2"}),"\u05d4\u05d1\u05e0\u05ea\u05d9"]})})]})})},bc=e=>{let{isOpen:t,onClose:n,title:r,message:i,type:s,confirmText:o="\u05d4\u05d1\u05e0\u05ea\u05d9"}=e;const l=r||(()=>{switch(s){case"success":return"\u05d4\u05e6\u05dc\u05d7\u05d4";case"error":return"\u05e9\u05d2\u05d9\u05d0\u05d4";case"warning":return"\u05d0\u05d6\u05d4\u05e8\u05d4";case"info":return"\u05de\u05d9\u05d3\u05e2";default:return"\u05d4\u05d5\u05d3\u05e2\u05d4"}})();return(0,a.jsx)(pc,{isOpen:t,onClose:n,title:l,size:"md",children:(0,a.jsxs)("div",{style:{direction:"rtl",padding:"20px"},children:[(0,a.jsxs)("div",{className:`alert ${(()=>{switch(s){case"success":return"alert-success";case"error":return"alert-danger";case"warning":return"alert-warning";default:return"alert-info"}})()}`,style:{marginBottom:"20px"},children:[(0,a.jsx)("i",{className:`${(()=>{switch(s){case"success":return"fas fa-check-circle";case"error":return"fas fa-exclamation-triangle";case"warning":return"fas fa-exclamation-circle";default:return"fas fa-info-circle"}})()} me-2`}),(0,a.jsx)("div",{style:{whiteSpace:"pre-line"},children:i})]}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:(0,a.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:n,children:[(0,a.jsx)("i",{className:"fas fa-check me-2"}),o]})})]})})},vc=e=>{let{currentPage:n,totalPages:r,onPageChange:i,className:s=""}=e;const[o,l]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{l(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const c=e=>{i(e),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)};if(r<=1)return null;const d=((e,t)=>{const n=[];if(t<=7){for(let e=1;e<=t;e++)n.push(e);return n}n.push(e);for(let r=Math.max(1,e-2);r<=Math.min(t,e+2);r++)n.includes(r)||n.push(r);return n.sort(((e,t)=>e-t)),n})(n,r),u=d[0]>1,h=d[d.length-1]<r,p=d[0]>2,f=d[d.length-1]<r-1,m=`\n    .smart-pagination-custom button {\n      width: ${o?"28px":"36px"} !important;\n      height: ${o?"28px":"36px"} !important;\n      min-width: ${o?"28px":"36px"} !important;\n      max-width: ${o?"28px":"36px"} !important;\n      min-height: ${o?"28px":"36px"} !important;\n      max-height: ${o?"28px":"36px"} !important;\n      font-size: ${o?"11px":"14px"} !important;\n      border-radius: ${o?"5px":"8px"} !important;\n      padding: 0 !important;\n      box-sizing: border-box !important;\n      flex-shrink: 0 !important;\n      flex-grow: 0 !important;\n    }\n  `;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:m}),(0,a.jsxs)("div",{className:`smart-pagination smart-pagination-custom ${s}`,role:"navigation","aria-label":"\u05d3\u05e4\u05d3\u05d5\u05e3 \u05d1\u05d9\u05df \u05e2\u05de\u05d5\u05d3\u05d9\u05dd",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px 16px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:o?"2px":"6px",justifyContent:"center",direction:"rtl"},children:[(0,a.jsx)("button",{onClick:()=>c(n-1),disabled:1===n,title:"\u05e2\u05de\u05d5\u05d3 \u05e7\u05d5\u05d3\u05dd","aria-label":"\u05e2\u05de\u05d5\u05d3 \u05e7\u05d5\u05d3\u05dd",style:{width:o?"28px":"36px",height:o?"28px":"36px",minWidth:o?"28px":"36px",maxWidth:o?"28px":"36px",minHeight:o?"28px":"36px",maxHeight:o?"28px":"36px",borderRadius:o?"5px":"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:1===n?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.08)",color:1===n?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",cursor:1===n?"not-allowed":"pointer",transition:"all 0.2s ease",fontSize:o?"11px":"16px",fontWeight:"600",outline:"none",padding:"0",boxSizing:"border-box",flexShrink:0,flexGrow:0},onMouseEnter:e=>{1!==n&&(e.target.style.background="rgba(255, 255, 255, 0.12)",e.target.style.borderColor="rgba(255, 255, 255, 0.2)")},onMouseLeave:e=>{1!==n&&(e.target.style.background="rgba(255, 255, 255, 0.08)",e.target.style.borderColor="rgba(255, 255, 255, 0.1)")},children:"\u2039"}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>c(1),title:"\u05e2\u05de\u05d5\u05d3 \u05e8\u05d0\u05e9\u05d5\u05df","aria-label":"\u05e2\u05de\u05d5\u05d3 \u05e8\u05d0\u05e9\u05d5\u05df",style:{width:o?"28px":"36px",height:o?"28px":"36px",minWidth:o?"28px":"36px",maxWidth:o?"28px":"36px",minHeight:o?"28px":"36px",maxHeight:o?"28px":"36px",borderRadius:o?"5px":"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",fontSize:o?"11px":"14px",fontWeight:"500",outline:"none",padding:"0",boxSizing:"border-box",flexShrink:0,flexGrow:0},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.12)",e.target.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.08)",e.target.style.borderColor="rgba(255, 255, 255, 0.1)"},children:"1"}),p&&(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",padding:"0 4px",userSelect:"none"},children:"\u22ef"})]}),d.map((e=>(0,a.jsx)("button",{onClick:()=>c(e),title:`\u05e2\u05de\u05d5\u05d3 ${e}`,"aria-label":`\u05e2\u05de\u05d5\u05d3 ${e}${n===e?" - \u05e2\u05de\u05d5\u05d3 \u05e0\u05d5\u05db\u05d7\u05d9":""}`,"aria-current":n===e?"page":void 0,style:{width:o?"28px":"36px",height:o?"28px":"36px",minWidth:o?"28px":"36px",maxWidth:o?"28px":"36px",minHeight:o?"28px":"36px",maxHeight:o?"28px":"36px",borderRadius:o?"5px":"8px",border:n===e?"1px solid rgba(59, 130, 246, 0.4)":"1px solid rgba(255, 255, 255, 0.1)",background:n===e?"linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(29, 78, 216, 0.9))":"rgba(255, 255, 255, 0.08)",color:n===e?"white":"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",fontSize:o?"11px":"14px",fontWeight:n===e?"600":"500",outline:"none",padding:"0",boxSizing:"border-box",flexShrink:0,flexGrow:0,boxShadow:n===e?o?"0 1px 3px rgba(59, 130, 246, 0.3)":"0 4px 12px rgba(59, 130, 246, 0.3)":"none"},onMouseEnter:t=>{n!==e&&(t.target.style.background="rgba(255, 255, 255, 0.12)",t.target.style.borderColor="rgba(255, 255, 255, 0.2)")},onMouseLeave:t=>{n!==e&&(t.target.style.background="rgba(255, 255, 255, 0.08)",t.target.style.borderColor="rgba(255, 255, 255, 0.1)")},children:e},e))),h&&(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",padding:"0 4px",userSelect:"none"},children:"\u22ef"}),(0,a.jsx)("button",{onClick:()=>c(r),title:`\u05e2\u05de\u05d5\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df (${r})`,"aria-label":`\u05e2\u05de\u05d5\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df (${r})`,style:{width:o?"28px":"36px",height:o?"28px":"36px",minWidth:o?"28px":"36px",maxWidth:o?"28px":"36px",minHeight:o?"28px":"36px",maxHeight:o?"28px":"36px",borderRadius:o?"5px":"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",fontSize:o?"11px":"14px",fontWeight:"500",outline:"none",padding:"0",boxSizing:"border-box",flexShrink:0,flexGrow:0},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.12)",e.target.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.08)",e.target.style.borderColor="rgba(255, 255, 255, 0.1)"},children:r})]}),(0,a.jsx)("button",{onClick:()=>c(n+1),disabled:n===r,title:"\u05e2\u05de\u05d5\u05d3 \u05d4\u05d1\u05d0","aria-label":"\u05e2\u05de\u05d5\u05d3 \u05d4\u05d1\u05d0",style:{width:o?"28px":"36px",height:o?"28px":"36px",minWidth:o?"28px":"36px",maxWidth:o?"28px":"36px",minHeight:o?"28px":"36px",maxHeight:o?"28px":"36px",borderRadius:o?"5px":"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:n===r?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.08)",color:n===r?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",cursor:n===r?"not-allowed":"pointer",transition:"all 0.2s ease",fontSize:o?"11px":"16px",fontWeight:"600",outline:"none",padding:"0",boxSizing:"border-box",flexShrink:0,flexGrow:0},onMouseEnter:e=>{n!==r&&(e.target.style.background="rgba(255, 255, 255, 0.12)",e.target.style.borderColor="rgba(255, 255, 255, 0.2)")},onMouseLeave:e=>{n!==r&&(e.target.style.background="rgba(255, 255, 255, 0.08)",e.target.style.borderColor="rgba(255, 255, 255, 0.1)")},children:"\u203a"})]}),(0,a.jsxs)("div",{style:{textAlign:"center",fontSize:o?"11px":"13px",color:"rgba(255, 255, 255, 0.6)",fontWeight:"500"},children:["\u05e2\u05de\u05d5\u05d3 ",n," \u05de\u05ea\u05d5\u05da ",r]})]})]})},yc=e=>{let{tabs:t,activeTab:n,onTabChange:r,variant:i="primary",size:s="md",fullWidth:o=!1,className:l=""}=e;return(0,a.jsx)("div",{className:`tab-navigation-container ${l}`,children:(0,a.jsx)("nav",{className:`tab-navigation tab-navigation--${i} tab-navigation--${s} ${o?"tab-navigation--full-width":""}`,role:"tablist",children:t.map((e=>(0,a.jsxs)("button",{className:`tab-navigation__item ${n===e.id?"tab-navigation__item--active":""} ${e.disabled?"tab-navigation__item--disabled":""}`,onClick:()=>!e.disabled&&r(e.id),type:"button",role:"tab","aria-selected":n===e.id,"aria-controls":`tabpanel-${e.id}`,disabled:e.disabled,title:e.disabled?"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df":`\u05e2\u05d1\u05d5\u05e8 \u05dc${e.label}`,children:[(0,a.jsxs)("div",{className:"tab-navigation__content",children:[e.icon&&("string"===typeof e.icon?(0,a.jsx)("i",{className:`${e.icon} tab-navigation__icon`,"aria-hidden":"true"}):(0,a.jsx)("div",{className:"tab-navigation__icon","aria-hidden":"true",children:e.icon})),(0,a.jsx)("span",{className:"tab-navigation__label",children:e.label}),"number"===typeof e.count&&(0,a.jsx)("span",{className:"tab-navigation__count",children:e.count})]}),n===e.id&&(0,a.jsx)("div",{className:"tab-navigation__indicator","aria-hidden":"true"})]},e.id)))})})},xc=e=>{let{message:t="\u05d8\u05d5\u05e2\u05df...",size:n="md",minHeight:r="300px",padding:i="60px 20px",containerStyle:s={}}=e;const o={sm:{width:"24px",height:"24px",border:"2px"},md:{width:"40px",height:"40px",border:"3px"},lg:{width:"56px",height:"56px",border:"4px"}}[n];return(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:i,minHeight:r,...s},children:[(0,a.jsx)("div",{style:{width:o.width,height:o.height,border:`${o.border} solid rgba(255, 255, 255, 0.1)`,borderTop:`${o.border} solid #3b82f6`,borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),(0,a.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",fontWeight:"500",margin:"0"},children:t})]})},wc=e=>{let{className:n="",showLabel:r=!0,variant:i="default",size:s="md"}=e;const{theme:o,toggleTheme:l}=(()=>{const e=(0,t.useContext)(rc);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),c=()=>"dark"===o?"\u05de\u05e2\u05d1\u05e8 \u05dc\u05de\u05e6\u05d1 \u05dc\u05d0 \u05de\u05d1\u05e6\u05e2\u05d9":"\u05de\u05e2\u05d1\u05e8 \u05dc\u05de\u05e6\u05d1 \u05de\u05d1\u05e6\u05e2\u05d9",d=e=>"sun"===e?(0,a.jsx)("svg",{className:"theme-toggle-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}):(0,a.jsx)("svg",{className:"theme-toggle-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})});return"icon-only"===i?(0,a.jsx)("button",{className:`theme-toggle-icon-button theme-toggle-icon-button--${s} ${n}`,onClick:l,"aria-label":c(),title:c(),children:d("dark"===o?"moon":"sun")}):(0,a.jsxs)("div",{className:`theme-toggle-container theme-toggle-container--${i} theme-toggle-container--${s} ${n}`,children:[r&&(0,a.jsxs)("div",{className:"theme-toggle-label-section",children:[(0,a.jsx)("span",{className:"theme-toggle-label",children:"\u05e2\u05e8\u05db\u05ea \u05e0\u05d5\u05e9\u05d0"}),(0,a.jsx)("span",{className:"theme-toggle-status",children:"dark"===o?"\u05de\u05e6\u05d1 \u05de\u05d1\u05e6\u05e2\u05d9 \u05e4\u05e2\u05d9\u05dc":"\u05de\u05e6\u05d1 \u05dc\u05d0 \u05de\u05d1\u05e6\u05e2\u05d9 \u05e4\u05e2\u05d9\u05dc"})]}),(0,a.jsx)("div",{className:"theme-toggle-switch-container",children:(0,a.jsx)("button",{className:`theme-toggle-switch theme-toggle-switch--${o}`,onClick:l,"aria-label":c(),"aria-checked":"dark"===o,role:"switch",children:(0,a.jsxs)("span",{className:"theme-toggle-track",children:[(0,a.jsxs)("span",{className:"theme-toggle-track-icons",children:[(0,a.jsx)("span",{className:"theme-toggle-track-icon theme-toggle-track-icon--light",children:d("sun")}),(0,a.jsx)("span",{className:"theme-toggle-track-icon theme-toggle-track-icon--dark",children:d("moon")})]}),(0,a.jsx)("span",{className:`theme-toggle-thumb theme-toggle-thumb--${o}`,children:d("dark"===o?"moon":"sun")})]})})})]})},jc=e=>{let{selectedCount:t,totalCount:n,onDelete:r,onClear:i,onSelectAll:s,isVisible:o,deleteLabel:l="\u05de\u05d7\u05e7 \u05e0\u05d1\u05d7\u05e8\u05d9\u05dd",isDeleting:c=!1}=e;if(!o||0===t)return null;const d=t===n;return(0,a.jsxs)("div",{className:"selection-toolbar "+(o?"":"hidden"),children:[(0,a.jsxs)("div",{className:"selection-info",children:[(0,a.jsx)("i",{className:"fas fa-check-circle",style:{color:"var(--color-primary)"}}),(0,a.jsxs)("span",{children:[t," \u05de\u05ea\u05d5\u05da ",n," \u05e0\u05d1\u05d7\u05e8\u05d5"]}),n>0&&s&&(0,a.jsx)("button",{className:"select-all-link",onClick:d?i:s,disabled:c,children:d?"\u05d1\u05d8\u05dc \u05d1\u05d7\u05d9\u05e8\u05ea \u05d4\u05db\u05dc":`\u05d1\u05d7\u05e8 \u05d4\u05db\u05dc (${n})`})]}),(0,a.jsxs)("div",{className:"selection-actions",children:[r&&(0,a.jsxs)("button",{className:"selection-action-btn danger",onClick:r,disabled:c,children:[c?(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,a.jsx)("i",{className:"fas fa-trash"}),l," (",t,")"]}),(0,a.jsxs)("button",{className:"selection-action-btn clear",onClick:i,disabled:c,children:[(0,a.jsx)("i",{className:"fas fa-times"}),"\u05d1\u05d8\u05dc \u05d1\u05d7\u05d9\u05e8\u05d4"]})]})]})},kc=e=>{let{value:t,onChange:n,placeholder:r="\u05d4\u05e7\u05dc\u05d3 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9...",resultsCount:i,resultsLabel:s="\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea",showClearButton:o=!0,className:l="",disabled:c=!1,id:d}=e;const u=void 0!==i&&t,h=o&&t;return(0,a.jsx)("div",{className:`modern-search-container ${l}`,children:(0,a.jsxs)("div",{className:`modern-search-input-group ${u?"has-results":""} ${h?"has-clear":""}`,children:[(0,a.jsx)("i",{className:"fas fa-search modern-search-icon"}),(0,a.jsx)("input",{id:d,type:"text",value:t,onChange:e=>{n(e.target.value)},placeholder:r,disabled:c,className:"modern-search-input",style:{paddingLeft:u&&h?"220px":u?"160px":h?"70px":"24px"}}),u&&(0,a.jsx)("div",{className:"modern-search-results-inline",children:(0,a.jsxs)("span",{className:"modern-search-results-badge",children:[i," ",s]})}),h&&(0,a.jsx)("button",{type:"button",onClick:()=>{n("")},className:"modern-search-clear",title:"\u05e0\u05e7\u05d4 \u05d7\u05d9\u05e4\u05d5\u05e9",children:"\u05e0\u05e7\u05d4"})]})})},Nc=e=>{var t,n,r;let{items:i,filters:s,onFiltersChange:o,isOpen:l,onToggle:c,isAdmin:d=!1,resultsCount:u}=e;const h=Array.from(new Map(i.filter((e=>{var t;return(null===(t=e.itemName)||void 0===t?void 0:t.name)&&e.nameId})).map((e=>[e.nameId,{id:e.nameId,name:e.itemName.name}]))).values()).sort(((e,t)=>e.name.localeCompare(t.name,"he"))),p=Array.from(new Map(i.filter((e=>{var t;return(null===(t=e.allocatedLocation)||void 0===t?void 0:t.name)&&e.allocatedLocationId})).map((e=>{var t;return[e.allocatedLocationId,{id:e.allocatedLocationId,name:e.allocatedLocation.name,unit:null===(t=e.allocatedLocation.unit)||void 0===t?void 0:t.name}]}))).values()).sort(((e,t)=>e.name.localeCompare(t.name,"he"))),f=Array.from(new Set(i.filter((e=>{var t,n,r;return null===(t=e.receiptInfo)||void 0===t||null===(n=t.signedBy)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.name})).map((e=>e.receiptInfo.signedBy.location.name)))).sort(((e,t)=>e.localeCompare(t,"he"))),m=[{value:"operational",label:"\u05ea\u05e7\u05d9\u05df",color:"success"},{value:"non-operational",label:"\u05ea\u05e7\u05d5\u05dc",color:"warning"},{value:"available",label:"\u05d6\u05de\u05d9\u05df",color:"success"},{value:"not-available",label:"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df",color:"danger"}],g=(e,t)=>{const n={...s};""===t||null===t||void 0===t?delete n[e]:n[e]=t,o(n)},b=Object.keys(s).length>0,v=Object.keys(s).length;return(0,a.jsxs)("div",{className:"advanced-filter-container",children:[(0,a.jsxs)("button",{className:`advanced-filter-toggle ${l?"active":""} ${b?"has-filters":""}`,onClick:c,title:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05e7\u05d3\u05dd",children:[(0,a.jsx)("i",{className:"fas fa-filter"}),(0,a.jsx)("span",{children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05e7\u05d3\u05dd"}),b&&(0,a.jsx)("span",{className:"filter-count-badge",children:v}),(0,a.jsx)("i",{className:`fas fa-chevron-${l?"up":"down"} toggle-icon`})]}),(0,a.jsx)("div",{className:"advanced-filter-panel "+(l?"open":""),children:(0,a.jsxs)("div",{className:"filter-panel-content",children:[(0,a.jsxs)("div",{className:"filter-panel-header",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsxs)("h4",{children:[(0,a.jsx)("i",{className:"fas fa-sliders-h"}),"\u05e4\u05d9\u05dc\u05d8\u05e8\u05d9\u05dd \u05de\u05ea\u05e7\u05d3\u05de\u05d9\u05dd"]}),void 0!==u&&(0,a.jsxs)("span",{className:"filter-results-count",children:[(0,a.jsx)("i",{className:"fas fa-check-circle",style:{marginLeft:"6px"}}),"\u05e0\u05de\u05e6\u05d0\u05d5 ",u," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]})]}),b&&(0,a.jsxs)("button",{className:"btn btn-outline-secondary btn-sm clear-filters-btn",onClick:()=>{o({})},title:"\u05e0\u05e7\u05d4 \u05d0\u05ea \u05db\u05dc \u05d4\u05e4\u05d9\u05dc\u05d8\u05e8\u05d9\u05dd",children:[(0,a.jsx)("i",{className:"fas fa-times"}),"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc"]})]}),(0,a.jsxs)("div",{className:"filter-grid",children:[(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-tag"}),"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"]}),(0,a.jsxs)("select",{className:"form-select filter-select",value:s.itemNameId||"",onChange:e=>g("itemNameId",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"\u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"}),h.map((e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-map-marker-alt"}),"\u05d4\u05e7\u05e6\u05d0\u05d4"]}),(0,a.jsxs)("select",{className:"form-select filter-select",value:s.allocatedLocationId||"",onChange:e=>g("allocatedLocationId",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"\u05db\u05dc \u05d4\u05d4\u05e7\u05e6\u05d0\u05d5\u05ea"}),p.map((e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," ",e.unit&&`(${e.unit})`]},e.id)))]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-location-arrow"}),"\u05de\u05d9\u05e7\u05d5\u05dd"]}),(0,a.jsxs)("select",{className:"form-select filter-select",value:s.receiptLocationName||"",onChange:e=>g("receiptLocationName",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"\u05db\u05dc \u05d4\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"}),f.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-info-circle"}),"\u05e1\u05d8\u05d8\u05d5\u05e1"]}),(0,a.jsxs)("select",{className:"form-select filter-select",value:s.status||"",onChange:e=>g("status",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"\u05db\u05dc \u05d4\u05e1\u05d8\u05d8\u05d5\u05e1\u05d9\u05dd"}),m.map((e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-hashtag"}),"\u05de\u05e1\u05e4\u05e8 \u05e6'"]}),(0,a.jsxs)("select",{className:"form-select filter-select",value:void 0!==s.hasIdNumber?s.hasIdNumber.toString():"",onChange:e=>g("hasIdNumber",""===e.target.value?void 0:"true"===e.target.value),children:[(0,a.jsx)("option",{value:"",children:"\u05d4\u05db\u05dc"}),[{value:!0,label:"\u05e2\u05dd \u05de\u05e1\u05e4\u05e8 \u05e6'",color:"primary"},{value:!1,label:"\u05dc\u05dc\u05d0 \u05de\u05e1\u05e4\u05e8 \u05e6'",color:"secondary"}].map((e=>(0,a.jsx)("option",{value:e.value.toString(),children:e.label},e.value.toString())))]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsxs)("label",{className:"filter-label",children:[(0,a.jsx)("i",{className:"fas fa-sticky-note"}),"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d4\u05e2\u05e8\u05d5\u05ea"]}),(0,a.jsx)("input",{type:"text",className:"form-control filter-select",placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05d8\u05e7\u05e1\u05d8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d4\u05e2\u05e8\u05d5\u05ea...",value:s.noteText||"",onChange:e=>g("noteText",e.target.value)})]})]}),b&&(0,a.jsxs)("div",{className:"active-filters-summary",children:[(0,a.jsx)("div",{className:"active-filters-header",children:(0,a.jsx)("span",{children:"\u05e4\u05d9\u05dc\u05d8\u05e8\u05d9\u05dd \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd:"})}),(0,a.jsxs)("div",{className:"active-filters-list",children:[s.itemNameId&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-tag"}),null===(t=h.find((e=>e.id===s.itemNameId)))||void 0===t?void 0:t.name,(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("itemNameId",""),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),s.allocatedLocationId&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-map-marker-alt"}),null===(n=p.find((e=>e.id===s.allocatedLocationId)))||void 0===n?void 0:n.name,(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("allocatedLocationId",""),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),s.receiptLocationName&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-location-arrow"}),s.receiptLocationName,(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("receiptLocationName",""),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),s.status&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-info-circle"}),null===(r=m.find((e=>e.value===s.status)))||void 0===r?void 0:r.label,(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("status",""),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),void 0!==s.hasIdNumber&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-hashtag"}),s.hasIdNumber?"\u05e2\u05dd \u05de\u05e1\u05e4\u05e8 \u05e6'":"\u05dc\u05dc\u05d0 \u05de\u05e1\u05e4\u05e8 \u05e6'",(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("hasIdNumber",void 0),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),s.noteText&&(0,a.jsxs)("span",{className:"filter-tag",children:[(0,a.jsx)("i",{className:"fas fa-sticky-note"}),'\u05d4\u05e2\u05e8\u05d4: "',s.noteText,'"',(0,a.jsx)("button",{className:"remove-filter",onClick:()=>g("noteText",""),title:"\u05d4\u05e1\u05e8 \u05e4\u05d9\u05dc\u05d8\u05e8",children:(0,a.jsx)("i",{className:"fas fa-times"})})]})]})]})]})})]})},Sc=e=>{let{count:t,onClick:n,className:r="",isUrgent:i=!1}=e;if(0===t)return null;const s=t>5||i?"urgent":"",o=1===t?"\u05d9\u05e9 \u05dc\u05da \u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d4 \u05dc\u05d7\u05ea\u05d9\u05de\u05d4":`\u05d9\u05e9 \u05dc\u05da ${t} \u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea \u05dc\u05d7\u05ea\u05d9\u05de\u05d4`;return(0,a.jsxs)("button",{className:`pending-receipts-badge ${s} ${r}`,onClick:n,title:o,"aria-label":`\u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea: ${t}`,children:[(0,a.jsxs)("div",{className:"badge-icon",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.7L16.2,16.2Z"})}),t>0&&(0,a.jsx)("span",{className:"badge-count","data-count":t>99?"99+":t,children:t>99?"99+":t})]}),(0,a.jsx)("span",{className:"badge-text",children:"\u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea"})]})};class Cc extends t.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t)}render(){var e,t;return this.state.hasError?this.props.fallback?this.props.fallback:(0,a.jsxs)("div",{style:{padding:"20px",margin:"20px",border:"1px solid #f5c6cb",borderRadius:"4px",backgroundColor:"#f8d7da",color:"#721c24",textAlign:"center",direction:"rtl"},children:[(0,a.jsx)("h2",{children:"\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d7\u05dc\u05e7 \u05d4\u05d6\u05d4 \u05e9\u05dc \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4"}),(0,a.jsxs)("details",{style:{marginTop:"20px",textAlign:"right"},children:[(0,a.jsx)("summary",{style:{cursor:"pointer",marginBottom:"10px"},children:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05e9\u05d2\u05d9\u05d0\u05d4"}),(0,a.jsx)("pre",{style:{backgroundColor:"#fff3cd",color:"#856404",padding:"10px",borderRadius:"4px",fontSize:"12px",textAlign:"left",overflow:"auto"},children:(null===(e=this.state.error)||void 0===e?void 0:e.stack)||(null===(t=this.state.error)||void 0===t?void 0:t.message)||"Unknown error"})]}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3"})]}):this.props.children}}const Ec=Cc,Ic=e=>{let{children:n,className:r="",mobileBreakpoint:i=768,enableCardLayout:s=!0}=e;const[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{const e=window.innerWidth;l(e<=i),d(!!(s&&e<=600))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i,s]),(0,t.useEffect)((()=>{if(c){const e=document.querySelector(".unified-table");if(!e)return;const t=Array.from(e.querySelectorAll("th")).map((e=>{var t;return(null===(t=e.textContent)||void 0===t?void 0:t.trim())||""}));e.querySelectorAll("tbody tr").forEach((e=>{e.querySelectorAll("td").forEach(((e,n)=>{t[n]&&e.setAttribute("data-label",t[n])}))}))}}),[c,n]);const u=["unified-table-container",c?"mobile-cards":"",r].filter(Boolean).join(" ");return(0,a.jsxs)("div",{className:u,children:[o&&s&&(0,a.jsxs)("div",{style:{padding:"12px 16px",background:"var(--color-surface-alt)",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"13px",color:"var(--color-text-secondary)"},children:[(0,a.jsx)("span",{children:"\ud83d\udcf1 \u05ea\u05e6\u05d5\u05d2\u05d4 \u05e0\u05d9\u05d9\u05d3\u05ea"}),(0,a.jsx)("button",{onClick:()=>d(!c),style:{background:"var(--color-accent)",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",cursor:"pointer"},children:c?"\ud83d\udccb \u05d8\u05d1\u05dc\u05d4":"\ud83d\udcf1 \u05db\u05e8\u05d8\u05d9\u05e1\u05d9\u05dd"})]}),(0,a.jsx)("div",{style:{overflowX:c?"visible":"auto"},children:n})]})},_c=e=>{let{user:n,userProfile:r,isAdmin:i,onLogout:s,onSettingsClick:o,onPendingReceiptsClick:l}=e;const[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),p=(0,t.useRef)(null),{userSpecificCount:f}=((e,n)=>{const[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),{registerRefreshCallback:c,registerDecrementCallback:d}=uc(),u=(0,t.useCallback)((async()=>{if(e){s(!0),l(null);try{const e=await io.getAll();if(Array.isArray(e)){const t=e.filter((e=>!e.isSigned));a(t)}else a([])}catch(t){l(t instanceof Error?t.message:"Failed to fetch pending receipts"),a([])}finally{s(!1)}}}),[e]),h=(0,t.useCallback)((async()=>{await u()}),[u]),p=(0,t.useCallback)((()=>e?n?r:r.filter((t=>{var n,r,a,i;const s=null===(n=t.signedBy)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.name,o=null===(a=t.createdBy)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.name,l=e.location;return s===l||o===l})):[]),[r,n,e]),f=(0,t.useCallback)((()=>{if(!e)return[];const t=p();return n?t:t.filter((t=>t.signedById&&t.signedById===e.id))}),[p,n,e]);(0,t.useEffect)((()=>{u();const e=setInterval(u,6e4);return()=>clearInterval(e)}),[u]),(0,t.useEffect)((()=>{const t=()=>{!document.hidden&&e&&u()};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)}),[u,e]);const m=(0,t.useCallback)((t=>{a((r=>{if(t)return r.filter((e=>e.id!==t));if(r.length>0){const t=n?r:r.filter((t=>{var n,r,a,i;const s=null===(n=t.signedBy)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.name,o=null===(a=t.createdBy)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.name,l=null===e||void 0===e?void 0:e.location;return s===l||o===l}));if(n){if(t.length>0)return r.filter((e=>e.id!==t[0].id))}else{const n=t.filter((t=>t.signedById&&t.signedById===(null===e||void 0===e?void 0:e.id)));if(n.length>0)return r.filter((e=>e.id!==n[0].id))}}return r}))}),[n,e]);(0,t.useEffect)((()=>{try{c(h),d(m)}catch(o){console.warn("Failed to register pending receipts callbacks:",o)}}),[c,d,h,m]);const g=p(),b=f();return{pendingCount:g.length,userSpecificCount:b.length,loading:i,error:o,refreshCount:h,decrementCount:m}})(r,i);(0,t.useEffect)((()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&d(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[c]);return n?(0,a.jsx)("header",{className:"top-header",children:(0,a.jsxs)("div",{className:"top-header-container",children:[(0,a.jsx)("div",{className:"header-left",children:(0,a.jsxs)("div",{className:"header-logo",children:[(0,a.jsx)("div",{className:"logo-icon",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),(0,a.jsx)("div",{className:"logo-text",children:(0,a.jsx)("h1",{className:"logo-title",children:'\u05d0\u05d7\u05dc"\u05df'})})]})}),(0,a.jsxs)("div",{className:"header-right",children:[l&&(0,a.jsx)(Ec,{fallback:(0,a.jsx)("div",{}),children:(0,a.jsx)(Sc,{count:f,onClick:l})}),(0,a.jsxs)("div",{className:"user-menu-container",ref:p,children:[(0,a.jsxs)("button",{className:"user-profile-button",onClick:()=>{d(!c)},"aria-label":"\u05e4\u05ea\u05d7 \u05ea\u05e4\u05e8\u05d9\u05d8 \u05de\u05e9\u05ea\u05de\u05e9",children:[(0,a.jsx)("div",{className:"user-avatar-container",children:n.photoURL&&!u?(0,a.jsx)("img",{src:n.photoURL,alt:"Profile",className:"user-avatar",onError:()=>{h(!0)},onLoad:()=>{h(!1)}}):(0,a.jsx)("div",{className:"user-avatar-placeholder",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),(0,a.jsxs)("div",{className:"user-info",children:[(0,a.jsxs)("div",{className:"user-name",children:[(null===r||void 0===r?void 0:r.name)||n.displayName||"\u05de\u05e9\u05ea\u05de\u05e9",i&&(0,a.jsx)("span",{className:"admin-badge",children:"\u05de\u05e0\u05d4\u05dc"})]}),(0,a.jsx)("div",{className:"user-email",children:(null===r||void 0===r?void 0:r.location)||n.email})]}),(0,a.jsx)("svg",{className:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M7 10l5 5 5-5z"})})]}),c&&(0,a.jsxs)("div",{className:"user-menu-dropdown",onClick:e=>e.stopPropagation(),children:[o&&(0,a.jsxs)("div",{className:"user-menu-item",onClick:()=>{o(),d(!1)},children:[(0,a.jsx)("svg",{className:"menu-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l1.86-1.41c.18-.14.23-.41.12-.61l-1.74-3.18c-.12-.23-.37-.3-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.5c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l1.86 1.41c-.04.34-.07.67-.07 1s.03.65.07.97l-1.86 1.41c-.19.15-.24.42-.12.61l1.74 3.18c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.5c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.74-3.18c.12-.2.07-.47-.12-.61L19.43 13z"})}),(0,a.jsx)("span",{children:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d7\u05e9\u05d1\u05d5\u05df"})]}),s&&(0,a.jsxs)("div",{className:"user-menu-item logout-item",onClick:()=>{s(),d(!1)},children:[(0,a.jsx)("svg",{className:"menu-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),(0,a.jsx)("span",{children:"\u05d4\u05ea\u05e0\u05ea\u05e7"})]})]})]})]})]})}):null},Tc=e=>{let{message:t}=e;return(0,a.jsx)(xc,{message:t})},Rc=e=>{let{error:t,onRetry:n,title:r="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}=e;return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{className:"mb-0",children:"\u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4"})}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("h4",{children:r}),(0,a.jsx)("p",{children:t}),(0,a.jsx)("button",{className:"btn btn-primary mt-2",onClick:n,children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"})]})})]})},Ac=e=>{let{value:t,onChange:n,placeholder:r,resultsCount:i,resultsLabel:s,id:o}=e;return(0,a.jsx)(kc,{value:t,onChange:n,placeholder:r,resultsCount:i,resultsLabel:s,id:o})},Pc=e=>{let{currentPage:t,totalPages:n,onPageChange:r}=e;return n>1?(0,a.jsx)(vc,{currentPage:t,totalPages:n,onPageChange:r}):null},Oc=e=>{let{icon:t,message:n,searchTerm:r}=e;return(0,a.jsxs)("div",{style:{padding:"60px 24px",textAlign:"center",backgroundColor:"var(--color-bg, #1a1a1a)",color:"var(--color-text-muted, #8e8e93)",fontSize:"18px",fontWeight:"500"},children:[(0,a.jsx)("div",{style:{marginBottom:"16px",fontSize:"48px"},children:t}),r?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9":n]})},Lc=()=>{const[e,n]=(0,t.useState)(1),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)({key:"signedAt",direction:"desc"}),{data:l,loading:c,error:d,refetch:u}=(()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),o=(0,t.useCallback)((async()=>{try{a(!0),s(null);const e=await so.getUserDashboard();e.success?n(e.data):(s("Failed to fetch user dashboard data"),n(null))}catch(r){var e,t;console.error("Error fetching user dashboard:",r),403===(null===r||void 0===r||null===(e=r.response)||void 0===e?void 0:e.status)?s("Access denied. This dashboard is for regular users only."):401===(null===r||void 0===r||null===(t=r.response)||void 0===t?void 0:t.status)?s("Authentication required. Please log in."):s((null===r||void 0===r?void 0:r.message)||"An unexpected error occurred while loading your dashboard"),n(null)}finally{a(!1)}}),[]);return(0,t.useEffect)((()=>{o()}),[o]),{data:e,loading:r,error:i,refetch:(0,t.useCallback)((()=>o()),[o])}})(),h=e=>{let t="asc";s&&s.key===e&&"asc"===s.direction&&(t="desc"),o({key:e,direction:t}),n(1)},p=(0,t.useMemo)((()=>{if(null===l||void 0===l||!l.items)return[];const e=r.toLowerCase().normalize("NFC");let t=l.items.filter((t=>t.itemName.toLowerCase().normalize("NFC").includes(e)||t.itemIdNumber&&t.itemIdNumber.toLowerCase().normalize("NFC").includes(e)||"signed"===t.status&&"\u05e0\u05d7\u05ea\u05dd".normalize("NFC").includes(e)||"pending"===t.status&&"\u05de\u05de\u05ea\u05d9\u05df".normalize("NFC").includes(e)||t.createdBy.name.toLowerCase().normalize("NFC").includes(e)||t.createdBy.rank.toLowerCase().normalize("NFC").includes(e)));return s&&(t=[...t].sort(((e,t)=>{var n,r;let a,i;switch(s.key){case"itemName":a=e.itemName,i=t.itemName;break;case"itemIdNumber":a=e.itemIdNumber||"",i=t.itemIdNumber||"";break;case"createdBy":a=e.createdBy.name,i=t.createdBy.name;break;case"signedBy":a="signed"===e.status?1:0,i="signed"===t.status?1:0;break;case"location":a=(null===(n=e.signedBy)||void 0===n?void 0:n.location)||"",i=(null===(r=t.signedBy)||void 0===r?void 0:r.location)||"";break;default:return 0}return"string"===typeof a&&"string"===typeof i?"asc"===s.direction?a.localeCompare(i,"he"):i.localeCompare(a,"he"):"asc"===s.direction?a<i?-1:a>i?1:0:a>i?-1:a<i?1:0}))),t}),[null===l||void 0===l?void 0:l.items,r,s]),{paginatedItems:f,totalPages:m}=yo(p,e,Zs);return c?(0,a.jsx)(Tc,{message:"\u05d8\u05d5\u05e2\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4 \u05d0\u05d9\u05e9\u05d9..."}):d?(0,a.jsx)(Rc,{error:d,onRetry:()=>u(),title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4 \u05d0\u05d9\u05e9\u05d9"}):l?(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",marginBottom:"20px",background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"24px",flexWrap:"wrap"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle",style:{color:"var(--color-text-secondary)"}}),(0,a.jsx)("span",{style:{fontWeight:"600",color:"var(--color-text)"},children:"\u05de\u05e7\u05e8\u05d0 \u05e1\u05d8\u05d8\u05d5\u05e1:"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("div",{style:{width:"16px",height:"16px",backgroundColor:"rgba(34, 197, 94, 0.2)",borderRadius:"4px",border:"2px solid #22c55e"}}),(0,a.jsx)("span",{style:{fontSize:"13px",color:"var(--color-text-secondary)"},children:"\u05e0\u05d7\u05ea\u05dd"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("div",{style:{width:"16px",height:"16px",backgroundColor:"rgba(245, 158, 11, 0.2)",borderRadius:"4px",border:"2px solid #f59e0b"}}),(0,a.jsx)("span",{style:{fontSize:"13px",color:"var(--color-text-secondary)"},children:"\u05de\u05de\u05ea\u05d9\u05df \u05dc\u05d7\u05ea\u05d9\u05de\u05d4"})]})]}),(0,a.jsx)(Ac,{value:r,onChange:e=>{i(e),n(1)},placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9...",resultsCount:p.length,resultsLabel:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",id:"userDashboardSearch"}),(0,a.jsx)(Ic,{enableCardLayout:!0,children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-first sortable",onClick:()=>h("itemName"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8","data-sorted":"itemName"===(null===s||void 0===s?void 0:s.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>h("itemIdNumber"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05e1\u05e4\u05e8 \u05e6'","data-sorted":"itemIdNumber"===(null===s||void 0===s?void 0:s.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable priority-medium",onClick:()=>h("createdBy"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d7\u05ea\u05d9\u05dd","data-sorted":"createdBy"===(null===s||void 0===s?void 0:s.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05d7\u05ea\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>h("signedBy"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d7\u05d5\u05ea\u05dd","data-sorted":"signedBy"===(null===s||void 0===s?void 0:s.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d7\u05d5\u05ea\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable priority-low",onClick:()=>h("location"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9\u05e7\u05d5\u05dd","data-sorted":"location"===(null===s||void 0===s?void 0:s.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})})]})}),(0,a.jsx)("tbody",{children:f&&Array.isArray(f)?f.map((e=>{var t,n,r;return(0,a.jsxs)("tr",{className:"unified-table-row",style:{borderLeft:"3px solid "+("signed"===e.status?"#22c55e":"#f59e0b")},children:[(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-first",children:e.itemName}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-badge",children:(0,a.jsx)("span",{className:"unified-badge "+(e.itemIdNumber?"unified-badge-primary":"unified-badge-secondary"),children:e.itemIdNumber||"\u05dc\u05dc\u05d0 \u05de\u05e1\u05e4\u05e8"})}),(0,a.jsx)("td",{className:"unified-table-cell priority-medium",children:e.createdBy.name}),(0,a.jsx)("td",{className:"unified-table-cell mobile-card-primary",children:"signed"===e.status?(0,a.jsxs)("div",{style:{color:"#22c55e",fontSize:"13px"},children:[(0,a.jsxs)("div",{style:{fontWeight:"600"},children:["\u2713 ",(null===(t=e.signedBy)||void 0===t?void 0:t.name)||"\u05e0\u05d7\u05ea\u05dd"]}),(0,a.jsx)("div",{style:{fontSize:"11px",opacity:.8},children:"\u05d7\u05ea\u05d9\u05de\u05d4 \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05ea"})]}):(0,a.jsxs)("div",{style:{color:"#f59e0b",fontSize:"13px"},children:[(0,a.jsx)("div",{style:{fontWeight:"600"},children:(null===(n=e.signedBy)||void 0===n?void 0:n.name)||"\u05de\u05de\u05ea\u05d9\u05df"}),(0,a.jsx)("div",{style:{fontSize:"11px",opacity:.8},children:"\u05de\u05de\u05ea\u05d9\u05df \u05dc\u05d7\u05ea\u05d9\u05de\u05d4"})]})}),(0,a.jsx)("td",{className:"unified-table-cell priority-low",children:(null===(r=e.signedBy)||void 0===r?void 0:r.location)||"-"})]},e.id)})):null})]})}),(0,a.jsx)(Pc,{currentPage:e,totalPages:m,onPageChange:n}),0===p.length&&(0,a.jsx)(Oc,{icon:"\ud83d\udcdd",message:"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e8\u05e9\u05d5\u05de\u05d9\u05dd \u05e2\u05dc\u05d9\u05da",searchTerm:r})]}):(0,a.jsx)(Rc,{error:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",onRetry:()=>u(),title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4 \u05d0\u05d9\u05e9\u05d9"})},zc=()=>{const{userProfile:e}=nc(),{stats:n,loading:r,error:i}=To(),[s,o]=(0,t.useState)(1),[l,c]=(0,t.useState)("units"),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[f,m]=(0,t.useState)({show:!1,users:[],position:{x:0,y:0}}),[g,b]=(0,t.useState)(null),[v,y]=(0,t.useState)([]),[x,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(null),[N,S]=(0,t.useState)([]),[C,E]=(0,t.useState)(!1),[I,_]=(0,t.useState)(null),[T,R]=(0,t.useState)(""),[A,P]=(0,t.useState)(""),{items:O,units:L}=(0,t.useMemo)((()=>{if(!n||"object"!==typeof n)return{items:[],units:[]};try{const e=Object.keys(n),t=new Set;return e.forEach((e=>{n[e]&&n[e].units&&"object"===typeof n[e].units&&Object.keys(n[e].units).forEach((e=>{e&&"string"===typeof e&&t.add(e)}))})),{items:e,units:Array.from(t).sort()}}catch(i){return console.error("Error processing dashboard stats:",i),{items:[],units:[]}}}),[n]);t.useEffect((()=>{N.length>0&&!d&&u(N[0].name)}),[N,d]),t.useEffect((()=>{p("")}),[d]);const z=e=>{if(!e||!Array.isArray(e))return[];try{const t=new Set;return e.forEach((e=>{e.locations&&Array.isArray(e.locations)&&e.locations.forEach((e=>{e.locationName&&t.add(e.locationName)}))})),Array.from(t).sort()}catch(i){return console.error("Error extracting locations from dashboard data:",i),[]}},D=(0,t.useMemo)((()=>z(v)),[v]),M=(e,t,n,r)=>{if(0===t.length)return;const a=e.currentTarget.getBoundingClientRect();m({show:!0,users:t.map((e=>({...e,itemName:n,unitName:r}))),position:{x:a.left+a.width/2,y:a.top}})},F=e=>{let t="asc";g&&g.key===e&&"asc"===g.direction&&(t="desc"),b({key:e,direction:t})},B=(e,t)=>{try{if(!n||!n[e]||!n[e].units||!n[e].units[t])return{signedQuantity:0,waitingQuantity:0,totalQuantity:0,users:[]};const r=n[e].units[t];if(!r||!r.locations||"object"!==typeof r.locations)return{signedQuantity:0,waitingQuantity:0,totalQuantity:0,users:[]};const a=[];let i=0,s=0;Object.keys(r.locations).forEach((e=>{const t=r.locations[e];t&&t.signUsers&&Array.isArray(t.signUsers)&&t.signUsers.forEach((t=>{t&&"number"===typeof t.quantity&&(a.push({...t,location:e}),!0===t.isSigned?i+=t.quantity:s+=t.quantity)}))}));const o=n[e]&&"number"===typeof n[e].quantity?n[e].quantity:0;return{signedQuantity:i,waitingQuantity:s,totalQuantity:o,users:a}}catch(i){return console.error("Error getting cell data:",i,{itemName:e,unit:t}),{signedQuantity:0,waitingQuantity:0,totalQuantity:0,users:[]}}},U=e=>{try{return L&&Array.isArray(L)&&n&&n[e]?L.reduce(((t,n)=>{if(!n||"string"!==typeof n)return t;const{signedQuantity:r}=B(e,n);return t+("number"===typeof r?r:0)}),0):0}catch(i){return console.error("Error calculating item signed total:",i,{itemName:e}),0}},$=e=>{try{return L&&Array.isArray(L)&&n&&n[e]?L.reduce(((t,n)=>{if(!n||"string"!==typeof n)return t;const{waitingQuantity:r}=B(e,n);return t+("number"===typeof r?r:0)}),0):0}catch(i){return console.error("Error calculating item waiting total:",i,{itemName:e}),0}},W=e=>{try{return n&&n[e]&&n[e].nonOperationalQuantity||0}catch(i){return console.error("Error calculating item non-operational total:",i,{itemName:e}),0}},H=e=>{try{if(!n||!n[e])return 0;const t=n[e].quantity||0,r=n[e].nonOperationalQuantity||0,a=U(e);return t-r-a-$(e)}catch(i){return console.error("Error calculating item available total:",i,{itemName:e}),0}},q=e=>{try{return n&&n[e]&&n[e].quantity||0}catch(i){return console.error("Error calculating item total:",i,{itemName:e}),0}},V=(0,t.useMemo)((()=>{let e=O;if(A.trim()){const t=A.trim().toLowerCase().normalize("NFC");e=O.filter((e=>e.toLowerCase().normalize("NFC").includes(t)))}return g&&(e=[...e].sort(((e,t)=>{let n,r;switch(g.key){case"name":n=e,r=t;break;case"signed":n=U(e),r=U(t);break;case"waiting":n=$(e),r=$(t);break;case"nonOperational":n=W(e),r=W(t);break;case"available":n=H(e),r=H(t);break;case"total":n=q(e),r=q(t);break;default:if(!g.key.startsWith("unit_"))return 0;{const a=g.key.replace("unit_",""),{signedQuantity:i,waitingQuantity:s}=B(e,a),{signedQuantity:o,waitingQuantity:l}=B(t,a);n=i+s,r=o+l}}return"string"===typeof n&&"string"===typeof r?"asc"===g.direction?n.localeCompare(r,"he"):r.localeCompare(n,"he"):"asc"===g.direction?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}))),e}),[O,A,g,n]),{paginatedItems:K,totalPages:Q}=yo(V||[],s,Zs),G=e=>{let t="asc";I&&I.key===e&&"asc"===I.direction&&(t="desc"),_({key:e,direction:t})},Y=()=>{const e=J();let t=e.items;if(T.trim()){const n=T.trim().toLowerCase().normalize("NFC");t=e.items.filter((e=>e.itemName.toLowerCase().normalize("NFC").includes(n)))}const n=h?[h]:e.locations;return I&&(t=[...t].sort(((e,t)=>{let n,r;if("itemName"===I.key)n=e.itemName,r=t.itemName;else{if(!I.key.startsWith("location_"))return 0;{const a=I.key.replace("location_",""),i=e.locations[a],s=t.locations[a];n=((null===i||void 0===i?void 0:i.signed)||0)+((null===i||void 0===i?void 0:i.pending)||0)+((null===i||void 0===i?void 0:i.allocation)||0),r=((null===s||void 0===s?void 0:s.signed)||0)+((null===s||void 0===s?void 0:s.pending)||0)+((null===s||void 0===s?void 0:s.allocation)||0)}}return"string"===typeof n&&"string"===typeof r?"asc"===I.direction?n.localeCompare(r,"he"):r.localeCompare(n,"he"):"asc"===I.direction?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}))),{...e,items:t,locations:n}},J=()=>{if(!v||!Array.isArray(v))return{items:[],locations:[]};const e=z(v);return{items:v.map((e=>{const t={};return e.locations&&Array.isArray(e.locations)&&e.locations.forEach((e=>{let n=e.allocation||0;0===n&&e.receipts&&Array.isArray(e.receipts)&&(n=e.receipts.length),t[e.locationName]={signed:e.signed||0,pending:e.pending||0,allocation:n,receipts:e.receipts||[]}})),{itemName:e.itemName,locations:t}})),locations:e}},X=(e,t,n,r)=>{const a=e.currentTarget.getBoundingClientRect(),i=[];t.receipts&&Array.isArray(t.receipts)&&t.receipts.forEach((e=>{var t;i.push({id:(null===(t=e.idNumber)||void 0===t?void 0:t.toString())||Math.random().toString(),name:e.signBy||"Unknown",phoneNumber:"",personalNumber:e.idNumber||0,quantity:1,isSigned:e.isSigned||!1,location:e.allocatedLocation||r})})),m({show:!0,users:i,position:{x:a.left+window.scrollX,y:a.bottom+window.scrollY}})};return(0,t.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.isAdmin){E(!0);try{const e=await oo.getAllUnits();e.success&&e.data&&S(e.data)}catch(i){console.error("Error loading units:",i)}finally{E(!1)}}})()}),[null===e||void 0===e?void 0:e.isAdmin]),(0,t.useEffect)((()=>{(async()=>{if(d&&null!==e&&void 0!==e&&e.isAdmin){const e=N.find((e=>e.name===d)),t=e?e.id:null;if(!t)return k(`Unit ID not found for unit: ${d}`),void y([]);w(!0),k(null);try{const e=await so.getDashboardByUnit(t);y(Array.isArray(e)?e:[])}catch(i){console.error("Error loading dashboard data:",i),k("Failed to load dashboard data"),y([])}finally{w(!1)}}else y([])})()}),[d,null===e||void 0===e?void 0:e.isAdmin,N]),e&&!e.location?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{className:"mb-0",children:"\u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4"})}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"alert alert-warning",children:[(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsx)("p",{children:"\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da \u05dc\u05d0 \u05e9\u05d5\u05d9\u05d9\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05db\u05d3\u05d9 \u05dc\u05e9\u05d9\u05d9\u05da \u05d0\u05d5\u05ea\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd."})]})})]}):r?(0,a.jsx)(Tc,{message:"\u05d8\u05d5\u05e2\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4..."}):i||!n?(0,a.jsx)(Rc,{error:i||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",onRetry:()=>window.location.reload(),title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4"}):(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsx)(yc,{tabs:[{id:"units",label:"\u05ea\u05e6\u05d5\u05d2\u05d4 \u05dc\u05e4\u05d9 \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea"},{id:"locations",label:"\u05ea\u05e6\u05d5\u05d2\u05d4 \u05dc\u05e4\u05d9 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"}],activeTab:l,onTabChange:e=>{c(e)},variant:"primary",size:"md"}),(0,a.jsxs)("div",{className:"tab-content",children:[(0,a.jsx)("div",{style:{position:"relative"},children:"locations"===l&&(0,a.jsxs)("div",{className:"dashboard-select-container",children:[(0,a.jsxs)("div",{className:"dashboard-select-row",children:[(0,a.jsx)("label",{htmlFor:"unitSelect",className:"dashboard-select-label",children:"\u05d1\u05d7\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4:"}),(0,a.jsx)("div",{className:"dashboard-select-wrapper",children:(0,a.jsxs)("select",{id:"unitSelect",className:"dashboard-select",value:d,onChange:e=>u(e.target.value),disabled:C,children:[(0,a.jsx)("option",{value:"",children:C?"\u05d8\u05d5\u05e2\u05df \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea...":"\u05d1\u05d7\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4..."}),N.map((e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id)))]})}),d&&(0,a.jsx)("div",{className:"dashboard-badge-container",children:(0,a.jsxs)("span",{className:"dashboard-results-badge",children:[D.length," \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"]})})]}),d&&D.length>0&&(0,a.jsxs)("div",{className:"dashboard-select-row",style:{marginTop:"16px"},children:[(0,a.jsx)("label",{htmlFor:"locationSelect",className:"dashboard-select-label",children:"\u05d1\u05d7\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd:"}),(0,a.jsx)("div",{className:"dashboard-select-wrapper",children:(0,a.jsxs)("select",{id:"locationSelect",className:"dashboard-select",value:h,onChange:e=>p(e.target.value),disabled:x,children:[(0,a.jsx)("option",{value:"",children:"\u05db\u05dc \u05d4\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"}),D.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})}),h&&(0,a.jsx)("div",{className:"dashboard-badge-container",children:(0,a.jsxs)("span",{className:"dashboard-results-badge",children:["\u05de\u05d9\u05e7\u05d5\u05dd \u05e0\u05d1\u05d7\u05e8: ",h]})})]})]})}),"units"===l&&(0,a.jsx)(Ac,{value:A,onChange:P,placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9...",resultsCount:V.length,resultsLabel:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",id:"unitsSearch"}),"          ","units"===l&&(0,a.jsx)(Ic,{enableCardLayout:!1,children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-first sortable",onClick:()=>F("name"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8","data-sorted":"name"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e4\u05e8\u05d9\u05d8"})})}),L.map((e=>(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F(`unit_${e}`),title:`\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 ${e}`,"data-sorted":(null===g||void 0===g?void 0:g.key)===`unit_${e}`?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:e})})},e))),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F("signed"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d7\u05ea\u05d5\u05de\u05d9\u05dd","data-sorted":"signed"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d7\u05ea\u05d5\u05de\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F("waiting"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd \u05dc\u05d7\u05ea\u05d9\u05de\u05d4","data-sorted":"waiting"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd \u05dc\u05d7\u05ea\u05d9\u05de\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F("nonOperational"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05e7\u05d5\u05dc\u05d9\u05dd","data-sorted":"nonOperational"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05ea\u05e7\u05d5\u05dc\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F("available"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd","data-sorted":"available"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d6\u05de\u05d9\u05e0\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>F("total"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d4'\u05db","data-sorted":"total"===(null===g||void 0===g?void 0:g.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:'\u05e1\u05d4"\u05db'})})})]})}),(0,a.jsx)("tbody",{children:K&&Array.isArray(K)?K.map(((e,t)=>e&&"string"===typeof e?(0,a.jsxs)("tr",{className:"unified-table-row",children:[(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-first",children:e}),L&&Array.isArray(L)?L.map((t=>{if(!t||"string"!==typeof t)return null;const{signedQuantity:n,waitingQuantity:r,users:i}=B(e,t),s=i&&Array.isArray(i)&&i.length>0,o=n>0,l=r>0;return(0,a.jsx)("td",{className:"unified-table-cell",onClick:n=>M(n,i||[],e,t),title:s?"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd":"\u05d0\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e8\u05e9\u05d5\u05de\u05d9\u05dd",style:{cursor:s?"pointer":"default"},children:s?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"center"},children:[o&&(0,a.jsxs)("span",{className:"dashboard-badge-signed",title:`\u05d7\u05ea\u05d5\u05de\u05d9\u05dd: ${n}`,children:["\u2713 ",n]}),l&&(0,a.jsxs)("span",{className:"dashboard-badge-waiting",title:`\u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd: ${r}`,children:["\u23f3 ",r]})]}):(0,a.jsx)("span",{className:"dashboard-badge-empty",children:"0"})},`${e}-${t}`)})):null,(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-number",onClick:t=>{const n=[];L.forEach((t=>{const{users:r}=B(e,t);if(r&&Array.isArray(r)){const e=r.filter((e=>!0===e.isSigned));n.push(...e)}})),M(t,n,e,"\u05db\u05dc \u05d4\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea - \u05d7\u05ea\u05d5\u05de\u05d9\u05dd")},title:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9 \u05db\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d4\u05d7\u05ea\u05d5\u05de\u05d9\u05dd",style:{cursor:"pointer"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-large unified-badge-success",children:U(e)})}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-number",onClick:t=>{const n=[];L.forEach((t=>{const{users:r}=B(e,t);if(r&&Array.isArray(r)){const e=r.filter((e=>!0!==e.isSigned));n.push(...e)}})),M(t,n,e,"\u05db\u05dc \u05d4\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea - \u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd")},title:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9 \u05db\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d4\u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd",style:{cursor:"pointer"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-large unified-badge-warning",children:$(e)})}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-number",onClick:t=>{const r=n&&n[e]&&"number"===typeof n[e].nonOperationalQuantity?n[e].nonOperationalQuantity:0;r>0&&M(t,[],e,`\u05ea\u05e7\u05d5\u05dc\u05d9\u05dd - ${r} \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea`)},title:n&&n[e]&&n[e].nonOperationalQuantity>0?"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9 \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05ea\u05e7\u05d5\u05dc\u05d9\u05dd":"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05ea\u05e7\u05d5\u05dc\u05d9\u05dd",style:{cursor:"pointer"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-large unified-badge-danger",children:n&&n[e]&&"number"===typeof n[e].nonOperationalQuantity?n[e].nonOperationalQuantity:0})}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-number",onClick:t=>{const n=[];L.forEach((t=>{const{users:r}=B(e,t);r&&Array.isArray(r)&&n.push(...r)})),M(t,n,e,"\u05db\u05dc \u05d4\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea - \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d6\u05de\u05d9\u05e0\u05d5\u05ea")},title:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9 \u05d6\u05de\u05d9\u05e0\u05d5\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8",style:{cursor:"pointer"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-large unified-badge-primary",children:(n&&n[e]&&"number"===typeof n[e].quantity?n[e].quantity:0)-(n&&n[e]&&"number"===typeof n[e].nonOperationalQuantity?n[e].nonOperationalQuantity:0)-U(e)-$(e)})}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-number",onClick:t=>{const n=[];L.forEach((t=>{const{users:r}=B(e,t);r&&Array.isArray(r)&&n.push(...r)})),M(t,n,e,"\u05db\u05dc \u05d4\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea - \u05e1\u05d9\u05db\u05d5\u05dd \u05db\u05dc\u05dc\u05d9")},title:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9 \u05db\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d4\u05e8\u05e9\u05d5\u05de\u05d9\u05dd \u05dc\u05e4\u05e8\u05d9\u05d8",style:{cursor:"pointer"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-large unified-badge-secondary",children:n&&n[e]&&"number"===typeof n[e].quantity?n[e].quantity:0})})]},e):null)).filter(Boolean):null})]})}),"locations"===l&&d&&(0,a.jsx)(a.Fragment,{children:x||C?(0,a.jsx)(Tc,{message:C?"\u05d8\u05d5\u05e2\u05df \u05e8\u05e9\u05d9\u05de\u05ea \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea...":"\u05d8\u05d5\u05e2\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d9\u05d7\u05d9\u05d3\u05d4..."}):j?(0,a.jsxs)("div",{style:{padding:"60px 24px",textAlign:"center",backgroundColor:"var(--color-bg, #1a1a1a)",color:"var(--color-danger, #dc3545)",fontSize:"18px",fontWeight:"500"},children:[(0,a.jsx)("div",{style:{marginBottom:"16px",fontSize:"48px"},children:"\u274c"}),"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd: ",j]}):v&&v.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ac,{value:T,onChange:R,placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9...",resultsCount:Y().items.length,resultsLabel:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",id:"locationsSearch"}),(0,a.jsx)(Ic,{enableCardLayout:!0,children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-first sortable",onClick:()=>G("itemName"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8","data-sorted":"itemName"===(null===I||void 0===I?void 0:I.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e4\u05e8\u05d9\u05d8"})})}),h?(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>G(`location_${h}`),title:`\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 ${h}`,"data-sorted":(null===I||void 0===I?void 0:I.key)===`location_${h}`?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:h})})}):Y().locations.map((e=>(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>G(`location_${e}`),title:`\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 ${e}`,"data-sorted":(null===I||void 0===I?void 0:I.key)===`location_${e}`?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:e})})},e)))]})}),(0,a.jsx)("tbody",{children:Y().items.map(((e,t)=>(0,a.jsxs)("tr",{className:"unified-table-row",children:[(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-first",children:e.itemName}),h?(()=>{const t=e.locations[h],n=t&&(t.signed>0||t.pending>0),r=t&&(t.signed>0||t.pending>0||t.allocation>0);return(0,a.jsx)("td",{className:"unified-table-cell",style:{cursor:n?"pointer":"default"},onClick:r=>n&&X(r,t,e.itemName,h),title:n?"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd":r?"\u05d9\u05e9 \u05d4\u05e7\u05e6\u05d0\u05d5\u05ea \u05d0\u05da \u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd":"\u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",children:r?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"6px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[t.signed>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-signed",title:`\u05d7\u05ea\u05d5\u05de\u05d9\u05dd: ${t.signed}`,children:["\u2713 ",t.signed]}),t.pending>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-pending",title:`\u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd: ${t.pending}`,children:["\u23f3 ",t.pending]}),t.allocation>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-allocation",title:`\u05d4\u05e7\u05e6\u05d0\u05d4: ${t.allocation}`,children:["\ud83d\udccb ",t.allocation]})]}):(0,a.jsx)("span",{className:"dashboard-badge-empty",children:"0"})},`${e.itemName}-${h}`)})():Y().locations.map((t=>{const n=e.locations[t],r=n&&(n.signed>0||n.pending>0),i=n&&(n.signed>0||n.pending>0||n.allocation>0);return(0,a.jsx)("td",{className:"unified-table-cell",style:{cursor:r?"pointer":"default"},onClick:a=>r&&X(a,n,e.itemName,t),title:r?"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd":i?"\u05d9\u05e9 \u05d4\u05e7\u05e6\u05d0\u05d5\u05ea \u05d0\u05da \u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd":"\u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",children:i?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"6px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[n.signed>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-signed",title:`\u05d7\u05ea\u05d5\u05de\u05d9\u05dd: ${n.signed}`,children:["\u2713 ",n.signed]}),n.pending>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-pending",title:`\u05de\u05de\u05ea\u05d9\u05e0\u05d9\u05dd: ${n.pending}`,children:["\u23f3 ",n.pending]}),n.allocation>0&&(0,a.jsxs)("span",{className:"dashboard-locations-badge-allocation",title:`\u05d4\u05e7\u05e6\u05d0\u05d4: ${n.allocation}`,children:["\ud83d\udccb ",n.allocation]})]}):(0,a.jsx)("span",{className:"dashboard-locations-badge-empty",children:"0"})},`${e.itemName}-${t}`)}))]},`${e.itemName}-locations`)))})]})})]}):(0,a.jsxs)("div",{style:{padding:"60px 24px",textAlign:"center",backgroundColor:"var(--color-bg, #1a1a1a)",color:"var(--color-text-muted, #8e8e93)",fontSize:"18px",fontWeight:"500"},children:[(0,a.jsx)("div",{style:{marginBottom:"16px",fontSize:"48px"},children:"\ud83d\udcca"}),"\u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05e2\u05d1\u05d5\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4 \u05d6\u05d5"]})}),"locations"===l&&!d&&(0,a.jsxs)("div",{style:{padding:"60px 24px",textAlign:"center",backgroundColor:"var(--color-bg, #1a1a1a)",color:"var(--color-text-muted, #8e8e93)",fontSize:"18px",fontWeight:"500"},children:[(0,a.jsx)("div",{style:{marginBottom:"16px",fontSize:"48px"},children:"\ud83d\udccd"}),"\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05e6\u05d9\u05d2 \u05d0\u05ea \u05d4\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"]}),"units"===l&&Q>1&&(0,a.jsx)(Pc,{currentPage:s,totalPages:Q,onPageChange:o}),f.show&&(0,a.jsxs)("div",{className:"dashboard-modal-card",children:[(0,a.jsxs)("div",{className:"dashboard-modal-header",children:[(0,a.jsxs)("div",{className:"dashboard-modal-header-content",children:[(0,a.jsx)("span",{className:"dashboard-modal-icon",children:"\ud83d\udc65"}),(0,a.jsxs)("h5",{className:"dashboard-modal-title",children:["\u05e4\u05e8\u05d8\u05d9 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e8\u05e9\u05d5\u05de\u05d9\u05dd (",f.users.length,")"]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{m((e=>({...e,show:!1})))},className:"dashboard-modal-close-btn",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"dashboard-modal-body",children:[(0,a.jsx)("div",{className:"dashboard-modal-table-container",children:(0,a.jsxs)("table",{className:"dashboard-modal-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05e9\u05dd \u05d4\u05d7\u05d5\u05ea\u05dd"}),(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05de\u05d9\u05e7\u05d5\u05dd"}),(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"}),(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05d4\u05d0\u05dd \u05d7\u05ea\u05d5\u05dd"}),(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05d4\u05e7\u05e6\u05d0\u05d4"}),(0,a.jsx)("th",{className:"dashboard-modal-th",children:"\u05d4\u05e2\u05e8\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:f.users.map(((e,t)=>e.items&&Array.isArray(e.items)?e.items.map(((n,r)=>(0,a.jsxs)("tr",{className:"dashboard-modal-tr",children:[(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-name",children:e.name}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:e.location||"N/A"}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge "+(n.idNumber?"dashboard-modal-badge-primary":"dashboard-modal-badge-muted"),children:n.idNumber||"\u05dc\u05dc\u05d0 \u05de\u05e1\u05e4\u05e8"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge "+(e.isSigned?"dashboard-modal-badge-success":"dashboard-modal-badge-danger"),children:e.isSigned?"\u05db\u05df":"\u05dc\u05d0"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge "+(n.allocatedLocationName?"dashboard-modal-badge-primary":"dashboard-modal-badge-muted"),children:n.allocatedLocationName||"\u05dc\u05d0 \u05d4\u05d5\u05e7\u05e6\u05d4"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center dashboard-modal-td-note",children:n.note||"-"})]},`${e.id||t}-${n.itemId||r}`))):(0,a.jsxs)("tr",{className:"dashboard-modal-tr",children:[(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-name",children:e.name}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:e.location||"N/A"}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge dashboard-modal-badge-muted",children:"\u05dc\u05dc\u05d0 \u05de\u05e1\u05e4\u05e8"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge "+(e.isSigned?"dashboard-modal-badge-success":"dashboard-modal-badge-danger"),children:e.isSigned?"\u05db\u05df":"\u05dc\u05d0"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center",children:(0,a.jsx)("span",{className:"dashboard-modal-badge dashboard-modal-badge-muted",children:"\u05dc\u05d0 \u05d4\u05d5\u05e7\u05e6\u05d4"})}),(0,a.jsx)("td",{className:"dashboard-modal-td dashboard-modal-td-center dashboard-modal-td-note",children:"-"})]},e.id||t))).flat()})]})}),(0,a.jsxs)("div",{className:"dashboard-modal-footer",children:['\u05e1\u05d4"\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05d5\u05e7\u05e6\u05d9\u05dd: ',(0,a.jsx)("span",{className:"dashboard-modal-total",children:f.users.reduce(((e,t)=>{var n;return e+((null===(n=t.items)||void 0===n?void 0:n.length)||1)}),0)})]})]})]})]})]})},Dc=()=>{const{userProfile:e}=nc();return e&&!e.isAdmin?(0,a.jsx)(Lc,{}):(0,a.jsx)(zc,{})},Mc=e=>{var n,r,i;let{isAdmin:s}=e;const{history:o,loading:l,error:c,fetchHistory:d}=_o(),[u,h]=(0,t.useState)(1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)({key:"createdAt",direction:"desc"}),[b,v]=(0,t.useState)({isOpen:!1,message:"",type:"error"});(0,t.useEffect)((()=>{s&&d(u,10)}),[u,s,d]);const y=e=>{let t="asc";m&&m.key===e&&"asc"===m.direction&&(t="desc"),g({key:e,direction:t})},x=e=>{if(!e)return"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d0 \u05d6\u05de\u05d9\u05df";const t=new Date(e);return isNaN(t.getTime())?"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df":t.toLocaleDateString("he-IL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},w=null!==o&&void 0!==o&&o.reports?[...o.reports].sort(((e,t)=>{if(!m)return 0;let n,r;switch(m.key){case"createdAt":n=new Date(e.createdAt),r=new Date(t.createdAt),isNaN(n.getTime())&&(n=new Date(0)),isNaN(r.getTime())&&(r=new Date(0));break;case"totalItems":n=e.totalItems,r=t.totalItems;break;case"reportedItems":n=e.reportedItems,r=t.reportedItems;break;case"completionPercentage":n=e.totalItems>0?e.reportedItems/e.totalItems*100:0,r=t.totalItems>0?t.reportedItems/t.totalItems*100:0;break;case"isCompleted":n=e.isCompleted?1:0,r=t.isCompleted?1:0;break;default:return 0}return"asc"===m.direction?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0})):[];return s?l?(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,a.jsx)("div",{className:"spinner",style:{marginBottom:"16px"}}),(0,a.jsx)("span",{style:{color:"#e9ecef",fontSize:"16px"},children:"\u05d8\u05d5\u05e2\u05df \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd..."})]})}):c?(0,a.jsx)(hc,{}):o&&null!==(n=o.reports)&&void 0!==n&&n.length?(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("div",{className:"unified-table-container",style:{marginTop:"0"},children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable text-center",onClick:()=>y("createdAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d3\u05d5\u05d7","data-sorted":"createdAt"===(null===m||void 0===m?void 0:m.key)?"true":"false",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("i",{className:"fas fa-calendar-day me-2",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d3\u05d5\u05d7"}),"createdAt"===(null===m||void 0===m?void 0:m.key)&&(0,a.jsx)("i",{className:`fas fa-sort-${"asc"===m.direction?"up":"down"} ms-2`,style:{fontSize:"11px"}})]})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular text-center",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("i",{className:"fas fa-user-plus me-2",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05e0\u05d5\u05e6\u05e8 \u05e2\u05dc \u05d9\u05d3\u05d9"})]})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular text-center",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("i",{className:"fas fa-user-check me-2",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d4\u05d5\u05e9\u05dc\u05dd \u05e2\u05dc \u05d9\u05d3\u05d9"})]})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable text-center",onClick:()=>y("totalItems"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d4\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd","data-sorted":"totalItems"===(null===m||void 0===m?void 0:m.key)?"true":"false",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("i",{className:"fas fa-boxes me-2",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:'\u05e1\u05d4"\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd'}),"totalItems"===(null===m||void 0===m?void 0:m.key)&&(0,a.jsx)("i",{className:`fas fa-sort-${"asc"===m.direction?"up":"down"} ms-2`,style:{fontSize:"11px"}})]})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular text-center",style:{width:"120px",color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("i",{className:"fas fa-download me-2",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d4\u05d5\u05e8\u05d3\u05d4"})]})})]})}),(0,a.jsx)("tbody",{children:w.map((e=>(0,a.jsxs)("tr",{className:"unified-table-row",style:{transition:"all 0.2s ease"},children:[(0,a.jsx)("td",{className:"unified-table-cell text-center",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsx)("div",{style:{fontSize:"13px",fontWeight:"500"},children:x(e.createdAt)})}),(0,a.jsx)("td",{className:"unified-table-cell text-center",style:{color:"var(--color-text)",padding:"12px 8px"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,a.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("i",{className:"fas fa-user",style:{color:"#ffffff",fontSize:"10px"}})}),(0,a.jsx)("span",{style:{fontSize:"13px"},children:e.createdBy.name})]})}),(0,a.jsx)("td",{className:"unified-table-cell text-center",style:{color:"var(--color-text)",padding:"12px 8px"},children:e.completedBy?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,a.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("i",{className:"fas fa-check",style:{color:"#ffffff",fontSize:"10px"}})}),(0,a.jsx)("span",{style:{fontSize:"13px"},children:e.completedBy.name})]}):(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,a.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("i",{className:"fas fa-minus",style:{color:"#ffffff",fontSize:"10px"}})}),(0,a.jsx)("span",{style:{color:"var(--color-text-muted)",fontSize:"13px"},children:"\u05dc\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd"})]})}),(0,a.jsx)("td",{className:"unified-table-cell text-center",style:{padding:"12px 8px"},children:(0,a.jsx)("span",{className:"unified-badge unified-badge-primary",style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",padding:"4px 10px",fontSize:"12px",fontWeight:"600",borderRadius:"6px",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},children:e.totalItems})}),(0,a.jsx)("td",{className:"unified-table-cell text-center",style:{padding:"12px 8px"},children:(0,a.jsx)("button",{className:"btn btn-info unified-action-btn",onClick:()=>(async e=>{try{f(e.id);const t=await so.downloadReportPDF(e.id),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n;const a=new Date(e.createdAt).toLocaleDateString("he-IL").replace(/\//g,"-");r.download=`\u05d3\u05d5\u05d7-\u05e6'-${a}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}catch(c){var t,n;if(console.error("Error downloading PDF:",c),c.response){const t=c.response.status;let n="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05d3\u05d5\u05d7";404===t?n="\u05d3\u05d5\u05d7 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05de\u05e2\u05e8\u05db\u05ea":401===t||403===t?n="\u05d0\u05d9\u05df \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05d3\u05d5\u05d7 - \u05e0\u05d3\u05e8\u05e9\u05d5\u05ea \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05de\u05e0\u05d4\u05dc":500===t&&(n="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05e4\u05e0\u05d9\u05de\u05d9\u05ea \u05d1\u05e9\u05e8\u05ea \u05d1\u05e2\u05ea \u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05d3\u05d5\u05d7"),v({isOpen:!0,message:n,type:"error"})}else"ECONNABORTED"===c.code||null!==(t=c.message)&&void 0!==t&&t.includes("timeout")?v({isOpen:!0,message:"\u05e4\u05d2 \u05d4\u05d6\u05de\u05df \u05d4\u05e7\u05e6\u05d5\u05d1 \u05dc\u05d7\u05d9\u05d1\u05d5\u05e8 - \u05d4\u05d3\u05d5\u05d7 \u05e2\u05e9\u05d5\u05d9 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc \u05de\u05d3\u05d9",type:"error"}):null!==(n=c.message)&&void 0!==n&&n.includes("Network Error")?v({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea - \u05d0\u05e0\u05d0 \u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8",type:"error"}):v({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4 \u05d1\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05e7\u05d5\u05d1\u05e5",type:"error"})}finally{f(null)}})(e),disabled:p===e.id,title:"\u05d4\u05d5\u05e8\u05d3 PDF",children:p===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\u05de\u05d5\u05e8\u05d9\u05d3..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-download"}),"\u05d4\u05d5\u05e8\u05d3 PDF"]})})})]},e.id)))})]})}),((null===(r=o.pagination)||void 0===r?void 0:r.pages)||0)>1&&(0,a.jsx)("div",{style:{marginTop:"24px"},children:(0,a.jsx)(vc,{currentPage:u,totalPages:(null===(i=o.pagination)||void 0===i?void 0:i.pages)||1,onPageChange:h})}),(0,a.jsx)(bc,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,message:"",type:"error"}),message:b.message,type:b.type})]}):(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("div",{style:{padding:"60px 24px",textAlign:"center"},children:[(0,a.jsx)("i",{className:"fas fa-calendar-alt",style:{fontSize:"48px",color:"var(--color-text-muted)",marginBottom:"24px",display:"block"}}),(0,a.jsx)("h4",{style:{color:"var(--color-text)",marginBottom:"12px",fontSize:"20px"},children:"\u05d0\u05d9\u05df \u05d3\u05d5\u05d7\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4"}),(0,a.jsx)("p",{style:{color:"var(--color-text-muted)",fontSize:"14px",margin:0},children:"\u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05e0\u05d5\u05e6\u05e8\u05d5 \u05d3\u05d5\u05d7\u05d5\u05ea \u05d9\u05d5\u05de\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea"})]})}):(0,a.jsxs)("div",{className:"alert alert-warning",style:{backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #f59e0b"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"\u05e8\u05e7 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05d9\u05db\u05d5\u05dc\u05d9\u05dd \u05dc\u05e6\u05e4\u05d5\u05ea \u05d1\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05d3\u05d5\u05d7\u05d5\u05ea \u05d4\u05d9\u05d5\u05de\u05d9\u05d9\u05dd"]})},Fc=e=>{let{userProfile:n,isAdmin:r}=e;const[i,s]=(0,t.useState)("current"),{dailyReportData:o,loading:l,error:c,updateDailyReport:d,completeDailyReport:u,toggleReportStatus:h,setReportStatusBulk:p,updateItemNotes:f}=Io(),[m,g]=(0,t.useState)(1),[b,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(null),[w,j]=(0,t.useState)(!1),k=(0,t.useRef)(null),[N,S]=(0,t.useState)({isOpen:!1,title:"",message:""}),C=r?[{id:"current",label:"\u05d3\u05d5\u05d7 \u05e0\u05d5\u05db\u05d7\u05d9",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})},{id:"history",label:"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d9\u05ea \u05d3\u05d5\u05d7\u05d5\u05ea",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})})},{id:"users-status",label:"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5s-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05C15.64 13.36 17 14.28 17 15.5V19h6v-2.5c0-2.22-4.36-3.5-7-3.5z"})})}]:[{id:"current",label:"\u05d3\u05d5\u05d7 \u05e0\u05d5\u05db\u05d7\u05d9",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}],E=e=>{s(e)},I=e=>{let t="asc";y&&y.key===e&&"asc"===y.direction&&(t="desc"),x({key:e,direction:t})},_=(()=>{if(!o||!o.items)return[];let e=o.items;if(b.trim()){const t=b.toLowerCase().trim().normalize("NFC");e=e.filter((e=>{var n,r,a,i,s,o,l,c,d,u;return((null===(n=e.itemName)||void 0===n?void 0:n.toLowerCase().normalize("NFC"))||"").includes(t)||((null===(r=e.idNumber)||void 0===r?void 0:r.toLowerCase().normalize("NFC"))||"").includes(t)||((null===(a=e.signedBy)||void 0===a||null===(i=a.name)||void 0===i?void 0:i.toLowerCase().normalize("NFC"))||"").includes(t)||((null===(s=e.signedBy)||void 0===s||null===(o=s.location)||void 0===o||null===(l=o.name)||void 0===l?void 0:l.toLowerCase().normalize("NFC"))||"").includes(t)||((null===(c=e.reportedBy)||void 0===c||null===(d=c.name)||void 0===d?void 0:d.toLowerCase().normalize("NFC"))||"").includes(t)||((null===(u=e.reportNotes)||void 0===u?void 0:u.toLowerCase().normalize("NFC"))||"").includes(t)}))}return y?[...e].sort(((e,t)=>{var n,r,a,i,s,o,l,c;let d,u;switch(y.key){case"itemName":d=e.itemName,u=t.itemName;break;case"idNumber":d=e.idNumber||"",u=t.idNumber||"";break;case"isReported":d=e.isReported?1:0,u=t.isReported?1:0;break;case"reportedAt":d=e.reportedAt?new Date(e.reportedAt):new Date(0),u=t.reportedAt?new Date(t.reportedAt):new Date(0);break;case"reportedBy":d=(null===(n=e.reportedBy)||void 0===n?void 0:n.name)||"",u=(null===(r=t.reportedBy)||void 0===r?void 0:r.name)||"";break;case"signedBy":d=(null===(a=e.signedBy)||void 0===a?void 0:a.name)||"",u=(null===(i=t.signedBy)||void 0===i?void 0:i.name)||"";break;case"location":d=(null===(s=e.signedBy)||void 0===s||null===(o=s.location)||void 0===o?void 0:o.name)||"",u=(null===(l=t.signedBy)||void 0===l||null===(c=l.location)||void 0===c?void 0:c.name)||"";break;default:return 0}return"string"===typeof d&&"string"===typeof u?"asc"===y.direction?d.localeCompare(u,"he"):u.localeCompare(d,"he"):"asc"===y.direction?d<u?-1:d>u?1:0:d>u?-1:d<u?1:0})):e})(),{paginatedItems:T,totalPages:R}=yo(_,m,Zs);(0,t.useEffect)((()=>{if(!k.current)return;const e=_.length,t=_.filter((e=>e.isReported)).length;k.current.indeterminate=t>0&&t<e,k.current.checked=e>0&&t===e}),[_]);const A=(()=>{const e=(null===o||void 0===o?void 0:o.items)||[];if(0===e.length)return{percentage:0,reported:0,total:0};const t=e.filter((e=>e.isReported)).length;return{percentage:Math.round(t/e.length*100),reported:t,total:e.length}})(),P=_.length>0&&_.every((e=>e.isReported)),O=(()=>{if(!r||null===o||void 0===o||!o.items)return[];const e=o.items,t={};return e.forEach((e=>{const n=e.signedBy;n&&n.id&&(t[n.id]||(t[n.id]={id:n.id,name:n.name||n.id,total:0,reported:0,percentage:0}),t[n.id].total+=1,e.isReported&&(t[n.id].reported+=1))})),Object.values(t).forEach((e=>{e.percentage=e.total>0?Math.round(e.reported/e.total*100):0})),Object.values(t)})(),L=O.filter((e=>{if(!b.trim())return!0;const t=b.toLowerCase().trim().normalize("NFC");return e.name.toLowerCase().normalize("NFC").includes(t)})),z=y&&"users-status"===i?[...L].sort(((e,t)=>{let n,r;switch(y.key){case"userName":n=e.name,r=t.name;break;case"totalItems":n=e.total,r=t.total;break;case"reportedItems":n=e.reported,r=t.reported;break;case"percentage":n=e.percentage,r=t.percentage;break;default:return 0}return"string"===typeof n&&"string"===typeof r?"asc"===y.direction?n.localeCompare(r,"he"):r.localeCompare(n,"he"):"asc"===y.direction?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0})):L,{paginatedItems:D,totalPages:M}=yo(z,m,Zs);return n&&!n.location?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{className:"mb-0",children:"\u05d3\u05d5\u05d7 \u05d9\u05d5\u05de\u05d9"})}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"alert alert-warning",children:[(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsx)("p",{children:"\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da \u05dc\u05d0 \u05e9\u05d5\u05d9\u05d9\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05db\u05d3\u05d9 \u05dc\u05e9\u05d9\u05d9\u05da \u05d0\u05d5\u05ea\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd."})]})})]}):l?(0,a.jsxs)("div",{children:[(0,a.jsx)(yc,{tabs:C,activeTab:i,onTabChange:E,variant:"primary",size:"md"}),(0,a.jsx)(xc,{message:"\u05d8\u05d5\u05e2\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d3\u05d5\u05d7 \u05d9\u05d5\u05de\u05d9..."})]}):c?(0,a.jsxs)("div",{children:[(0,a.jsx)(yc,{tabs:C,activeTab:i,onTabChange:E,variant:"primary",size:"md"}),(0,a.jsx)(hc,{})]}):(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsx)(yc,{tabs:C,activeTab:i,onTabChange:E,variant:"primary",size:"md"}),"current"===i&&(0,a.jsx)("div",{className:"daily-report-container",children:o&&o.items&&0!==o.items.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"daily-report-progress-card",children:[(0,a.jsxs)("div",{className:"daily-report-progress-header",children:[(0,a.jsxs)("div",{className:"daily-report-progress-info",children:[(0,a.jsx)("div",{className:"daily-report-progress-icon",children:(0,a.jsx)("i",{className:"fas fa-chart-line"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"daily-report-progress-title",children:r?"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d3\u05d9\u05d5\u05d5\u05d7 \u05d9\u05d5\u05de\u05d9":"\u05d4\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e9\u05dc\u05d9 \u05d4\u05d9\u05d5\u05dd"}),(0,a.jsx)("p",{className:"daily-report-progress-date",children:lo(new Date)})]})]}),(0,a.jsxs)("div",{className:"daily-report-progress-badge "+(100===A.percentage?"success":A.percentage>=70?"warning":"danger"),children:[A.total," / ",A.reported]})]}),(0,a.jsx)("div",{className:"daily-report-progress-bar",children:(0,a.jsx)("div",{className:"daily-report-progress-fill "+(100===A.percentage?"success":A.percentage>=70?"warning":"danger"),style:{width:`${A.percentage}%`}})}),(0,a.jsxs)("div",{className:"daily-report-progress-footer",children:[(0,a.jsxs)("div",{className:"daily-report-progress-percentage",children:[A.percentage.toFixed(1),"% \u05d4\u05d5\u05e9\u05dc\u05dd"]}),(0,a.jsx)("div",{className:"daily-report-progress-status",children:100===A.percentage?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-check-circle daily-report-progress-status-icon success"}),(0,a.jsx)("span",{className:"daily-report-progress-status-text success",children:"\u05de\u05d5\u05db\u05df \u05dc\u05d4\u05e9\u05dc\u05de\u05d4"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-clock daily-report-progress-status-icon warning"}),(0,a.jsxs)("span",{className:"daily-report-progress-status-text",children:["\u05e0\u05d5\u05ea\u05e8\u05d5 ",A.total-A.reported," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]})]})})]})]}),(0,a.jsx)(kc,{value:b,onChange:e=>{v(e),g(1)},placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8, \u05de\u05e1\u05e4\u05e8 \u05e6', \u05d7\u05ea\u05d9\u05de\u05d4, \u05de\u05d9\u05e7\u05d5\u05dd, \u05de\u05d9 \u05d3\u05d9\u05d5\u05d5\u05d7 \u05d0\u05d5 \u05d4\u05e2\u05e8\u05d5\u05ea...",resultsCount:_.length,resultsLabel:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,a.jsx)("div",{className:"daily-report-table-section",children:(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsx)("div",{style:{overflowX:"auto"},children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("itemName"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8","data-sorted":"itemName"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05e4\u05e8\u05d9\u05d8"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("idNumber"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05e1\u05e4\u05e8 \u05e6'","data-sorted":"idNumber"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("signedBy"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9 \u05d7\u05ea\u05dd \u05e2\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8","data-sorted":"signedBy"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05d7\u05ea\u05d5\u05dd \u05e2\u05dc \u05d9\u05d3\u05d9"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("location"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9\u05e7\u05d5\u05dd","data-sorted":"location"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("reportedAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d3\u05d9\u05d5\u05d5\u05d7","data-sorted":"reportedAt"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d3\u05d9\u05d5\u05d5\u05d7"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("reportedBy"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9 \u05d3\u05d9\u05d5\u05d5\u05d7","data-sorted":"reportedBy"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05de\u05d9 \u05d3\u05d9\u05d5\u05d5\u05d7"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("isReported"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d3\u05d9\u05d5\u05d5\u05d7","data-sorted":"isReported"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsx)("span",{children:"\u05d3\u05d9\u05d5\u05d5\u05d7"}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,a.jsx)("input",{type:"checkbox",ref:k,onChange:e=>{const t=_.map((e=>e.id));p(t,e.target.checked)},title:"\u05e1\u05de\u05df/\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc \u05d1\u05db\u05dc \u05d4\u05d3\u05e4\u05d9\u05dd",onClick:e=>e.stopPropagation(),style:{accentColor:"#3b82f6",cursor:"pointer"}})})]})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",children:"\u05d4\u05e2\u05e8\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:T.map(((e,t)=>{var n,r,i;return(0,a.jsxs)("tr",{className:"unified-table-row",children:[(0,a.jsx)("td",{className:"unified-table-cell",children:e.itemName}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.idNumber||"-"}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(n=e.signedBy)||void 0===n?void 0:n.name)||"-"}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(r=e.signedBy)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.name)||"-"}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.reportedAt?(()=>{const t=new Date(e.reportedAt);return isNaN(t.getTime())?"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df":t.toLocaleDateString("he-IL")})():"-"}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.reportedBy?e.reportedBy.name:"-"}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)("input",{type:"checkbox",checked:e.isReported||!1,onChange:()=>{return t=e.id,void h(t);var t},style:{accentColor:"#3b82f6",cursor:"pointer",transform:"scale(1.2)"}})})}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("input",{type:"text",value:e.reportNotes||"",onChange:t=>f(e.id,t.target.value),placeholder:"\u05d4\u05e2\u05e8\u05d5\u05ea...",style:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"8px",padding:"8px 12px",color:"var(--color-text)",fontSize:"14px",minWidth:"150px",transition:"all 0.2s ease"},onFocus:e=>{e.target.style.background="var(--color-surface-hover)",e.target.style.borderColor="var(--color-primary)"},onBlur:e=>{e.target.style.background="var(--color-surface)",e.target.style.borderColor="var(--color-border)"}})})]},e.id)}))})]})})})}),R>1&&(0,a.jsx)("div",{className:"daily-report-pagination",children:(0,a.jsx)(vc,{currentPage:m,totalPages:R,onPageChange:g})}),_.length>0&&(0,a.jsx)("div",{className:"daily-report-actions-section",children:(0,a.jsx)("div",{className:"daily-report-actions",children:(0,a.jsxs)("div",{className:"daily-report-actions-buttons",children:[(0,a.jsxs)("button",{onClick:async()=>{if(!o)return;const e=_.filter((e=>e.isReported)).map((e=>({itemId:e.id,notes:e.reportNotes||void 0})));await d("",{reportItems:e})||S({isOpen:!0,title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d3\u05d9\u05d5\u05d5\u05d7",message:"\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05ea \u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05d3\u05d9\u05d5\u05d5\u05d7. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1."})},className:"daily-report-btn daily-report-btn-primary",children:[(0,a.jsx)("i",{className:"fas fa-save"}),"\u05e9\u05de\u05d5\u05e8 \u05d3\u05d9\u05d5\u05d5\u05d7"]}),r&&(0,a.jsxs)("div",{className:"daily-report-admin-controls",children:[(0,a.jsx)("button",{onClick:async()=>{if(o&&r){j(!0);try{const e=_.filter((e=>e.isReported)).map((e=>({itemId:e.id,notes:e.reportNotes||void 0})));await d("",{reportItems:e});await u()||S({isOpen:!0,title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e9\u05dc\u05de\u05ea \u05d4\u05d3\u05d5\u05d7",message:"\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05ea \u05d4\u05e9\u05dc\u05de\u05ea \u05d4\u05d3\u05d5\u05d7. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1."})}finally{j(!1)}}},disabled:w||!P,title:P?"\u05d4\u05e9\u05dc\u05dd \u05de\u05d7\u05d6\u05d5\u05e8 \u05d3\u05d9\u05d5\u05d5\u05d7 \u05e0\u05d5\u05db\u05d7\u05d9":"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d3\u05d5\u05d7 \u05db\u05d0\u05e9\u05e8 \u05d9\u05e9 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e9\u05dc\u05d0 \u05d3\u05d5\u05d5\u05d7\u05d5",className:"daily-report-btn "+(w||!P?"daily-report-btn-disabled":"daily-report-btn-success"),children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\u05de\u05d5\u05e9\u05dc\u05dd..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-check-circle"}),"\u05d4\u05e9\u05dc\u05dd \u05de\u05d7\u05d6\u05d5\u05e8 \u05d3\u05d9\u05d5\u05d5\u05d7"]})}),!P&&(0,a.jsxs)("div",{className:"daily-report-warning",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),"\u05d9\u05e9 \u05dc\u05d3\u05d5\u05d5\u05d7 \u05e2\u05dc \u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e9\u05dc\u05de\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8"]})]})]})})}),0===_.length&&b&&(0,a.jsxs)("div",{className:"daily-report-empty-state",children:[(0,a.jsx)("div",{className:"daily-report-empty-icon",children:(0,a.jsx)("i",{className:"fas fa-search"})}),(0,a.jsx)("h3",{className:"daily-report-empty-title",children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,a.jsxs)("p",{className:"daily-report-empty-description",children:['\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05ea\u05d5\u05d0\u05de\u05d9\u05dd \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 "',b,'"']})]})]}):(0,a.jsxs)("div",{className:"daily-report-empty-state",children:[(0,a.jsx)("div",{className:"daily-report-empty-icon",children:(0,a.jsx)("i",{className:"fas fa-clipboard-check"})}),(0,a.jsx)("h3",{className:"daily-report-empty-title",children:"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05d3\u05d9\u05d5\u05d5\u05d7"}),(0,a.jsx)("p",{className:"daily-report-empty-description",children:"\u05db\u05e8\u05d2\u05e2 \u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05d3\u05d5\u05e8\u05e9\u05d9\u05dd \u05d3\u05d9\u05d5\u05d5\u05d7 \u05d0\u05d5 \u05e9\u05d4\u05dd \u05db\u05d1\u05e8 \u05d3\u05d5\u05d5\u05d7\u05d5. \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05ea\u05e2\u05d3\u05db\u05e0\u05d9\u05dd \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05db\u05d0\u05e9\u05e8 \u05d9\u05e9 \u05e6\u05d5\u05e8\u05da \u05d1\u05d3\u05d9\u05d5\u05d5\u05d7."})]})}),"history"===i&&(0,a.jsx)(Mc,{userProfile:n,isAdmin:r}),"users-status"===i&&r&&(0,a.jsx)("div",{className:"daily-report-container",children:0===O.length?(0,a.jsxs)("div",{className:"daily-report-empty-state",children:[(0,a.jsx)("div",{className:"daily-report-empty-icon",children:(0,a.jsx)("i",{className:"fas fa-users"})}),(0,a.jsx)("h3",{className:"daily-report-empty-title",children:"\u05d0\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d1\u05d3\u05d5\u05d7"}),(0,a.jsx)("p",{className:"daily-report-empty-description",children:"\u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d3\u05d9\u05d5\u05d5\u05d7 \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d1\u05d3\u05d5\u05d7 \u05d4\u05e0\u05d5\u05db\u05d7\u05d9."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(kc,{value:b,onChange:e=>{v(e),g(1)},placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9...",resultsCount:z.length,resultsLabel:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"}),(0,a.jsx)("div",{className:"daily-report-table-section",children:(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsx)("div",{style:{overflowX:"auto"},children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("userName"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9","data-sorted":"userName"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05de\u05e9\u05ea\u05de\u05e9"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("totalItems"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d4\u05f4\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd","data-sorted":"totalItems"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05e1\u05d4\u05f4\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("reportedItems"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05d3\u05d5\u05d5\u05d7\u05d9\u05dd","data-sorted":"reportedItems"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05d3\u05d5\u05d5\u05d7\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>I("percentage"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d0\u05d7\u05d5\u05d6 \u05d4\u05e9\u05dc\u05de\u05d4","data-sorted":"percentage"===(null===y||void 0===y?void 0:y.key)?"true":"false",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05d0\u05d7\u05d5\u05d6 \u05d4\u05e9\u05dc\u05de\u05d4"})})})]})}),(0,a.jsx)("tbody",{children:D.map((e=>(0,a.jsxs)("tr",{className:"unified-table-row",children:[(0,a.jsx)("td",{className:"unified-table-cell",children:e.name}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.total}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.reported}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,a.jsxs)("span",{className:"daily-report-progress-badge "+(100===e.percentage?"success":e.percentage>=70?"warning":"danger"),children:[e.percentage,"%"]})})})]},e.id)))})]})})})}),M>1&&(0,a.jsx)("div",{className:"daily-report-pagination",children:(0,a.jsx)(vc,{currentPage:m,totalPages:M,onPageChange:g})}),0===z.length&&b&&(0,a.jsxs)("div",{className:"daily-report-empty-state",children:[(0,a.jsx)("div",{className:"daily-report-empty-icon",children:(0,a.jsx)("i",{className:"fas fa-search"})}),(0,a.jsx)("h3",{className:"daily-report-empty-title",children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,a.jsxs)("p",{className:"daily-report-empty-description",children:['\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d4\u05ea\u05d5\u05d0\u05de\u05d9\u05dd \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 "',b,'"']})]})]})}),(0,a.jsx)(gc,{isOpen:N.isOpen,onClose:()=>S({isOpen:!1,title:"",message:""}),title:N.title,message:N.message})]})},Bc=e=>{let{items:n,onRemove:r,availableItems:i,onAddItem:s}=e;const[o,l]=(0,t.useState)(null),c=(0,t.useMemo)((()=>(e=>{const t=new Map;return e.forEach((e=>{var n,r;const a=(null===(n=e.allocatedLocation)||void 0===n?void 0:n.id)||"no-location",i=(null===(r=e.allocatedLocation)||void 0===r?void 0:r.name)||"no-allocation",s=e.idNumber||"no-id",o=`${e.name}-${s}-${a}-${i}-${e.requiresReporting}`;if(t.has(o)){const n=t.get(o);n.quantity+=e.quantity||1,n.originalItems.push(e)}else t.set(o,{name:e.name,idNumber:e.idNumber,requiresReporting:e.requiresReporting,allocatedLocation:e.allocatedLocation,quantity:e.quantity||1,originalItems:[e]})})),Array.from(t.values())})(n)),[n]),d=e=>{l((t=>(null===t||void 0===t?void 0:t.field)===e?{field:e,direction:"asc"===t.direction?"desc":"asc"}:{field:e,direction:"asc"}))},u=(0,t.useMemo)((()=>o?[...c].sort(((e,t)=>{var n,r;let a,i;switch(o.field){case"name":a=e.name||"",i=t.name||"";break;case"idNumber":a=e.idNumber||"",i=t.idNumber||"";break;case"location":a=(null===(n=e.allocatedLocation)||void 0===n?void 0:n.name)||"",i=(null===(r=t.allocatedLocation)||void 0===r?void 0:r.name)||"";break;default:return 0}const s=a.localeCompare(i,"he");return"asc"===o.direction?s:-s})):c),[c,o]);return 0===n.length?(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"32px",textAlign:"center",marginTop:"16px"},children:[(0,a.jsx)("i",{className:"fas fa-inbox",style:{fontSize:"48px",color:"rgba(255, 255, 255, 0.3)",marginBottom:"16px"}}),(0,a.jsx)("h5",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"8px"},children:"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"}),(0,a.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.5)",margin:0},children:"\u05d4\u05e9\u05ea\u05de\u05e9 \u05d1\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05de\u05e2\u05dc\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05e7\u05d1\u05dc\u05d4"})]}):(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"16px",overflow:"hidden"},children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",background:"rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"flex-end",direction:"rtl"},children:[(0,a.jsx)("i",{className:"fas fa-list-ul",style:{marginLeft:"8px",color:"#3b82f6",fontSize:"16px"}}),(0,a.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"600",fontSize:"16px"},children:["\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d9\u05dd (",c.length," \u05e1\u05d5\u05d2\u05d9\u05dd, ",n.length," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd)"]})]}),(0,a.jsx)("div",{style:{overflowX:"auto"},children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",direction:"rtl"},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{style:{background:"rgba(255, 255, 255, 0.05)"},children:[(0,a.jsx)("th",{style:{width:"8%",textAlign:"center",padding:"12px 8px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"#"}),(0,a.jsx)("th",{style:{width:"36%",cursor:"pointer",padding:"12px 16px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease"},onClick:()=>d("name"),children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",direction:"rtl"},children:(0,a.jsx)("span",{children:"\u05e4\u05e8\u05d9\u05d8"})})}),(0,a.jsx)("th",{style:{width:"16%",cursor:"pointer",textAlign:"center",padding:"12px 8px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease"},onClick:()=>d("idNumber"),children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"})})}),(0,a.jsx)("th",{style:{width:"18%",cursor:"pointer",textAlign:"center",padding:"12px 8px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease"},onClick:()=>d("location"),children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\u05d4\u05e7\u05e6\u05d0\u05d4"})})}),(0,a.jsx)("th",{style:{width:"12%",textAlign:"center",padding:"12px 8px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05db\u05de\u05d5\u05ea"}),(0,a.jsx)("th",{style:{width:"10%",textAlign:"center",padding:"12px 8px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:u.map(((e,t)=>{var o,l,c;return(0,a.jsxs)("tr",{style:{transition:"all 0.2s ease",borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},children:[(0,a.jsx)("td",{style:{textAlign:"center",padding:"12px 8px"},children:(0,a.jsx)("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:t+1})}),(0,a.jsx)("td",{style:{padding:"12px 16px"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",direction:"rtl"},children:[(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:e.name}),e.requiresReporting&&(0,a.jsx)("span",{style:{marginLeft:"8px"},children:(0,a.jsx)("i",{className:"fas fa-shield-alt",style:{color:"#ef4444",fontSize:"14px"},title:"\u05e4\u05e8\u05d9\u05d8 \u05e6\u05d5\u05e4\u05df"})})]})}),(0,a.jsx)("td",{style:{textAlign:"center",padding:"12px 8px"},children:e.idNumber?(0,a.jsx)("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:e.idNumber}):(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"\u05dc\u05dc\u05d0"})}),(0,a.jsx)("td",{style:{textAlign:"center",padding:"12px 8px"},children:null!==(l=e.allocatedLocation)&&void 0!==l&&l.name?(0,a.jsx)("span",{style:{background:"rgba(168, 85, 247, 0.2)",color:"#a855f7",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:e.allocatedLocation.name}):(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"\u05dc\u05dc\u05d0 \u05d4\u05e7\u05e6\u05d0\u05d4"})}),(0,a.jsx)("td",{style:{textAlign:"center",padding:"12px 8px"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.quantity>1&&(0,a.jsx)("button",{type:"button",onClick:()=>{var t;(t=e).originalItems.length>0&&r(t.originalItems[0].id)},style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",border:"none",borderRadius:"4px",width:"24px",height:"24px",color:"white",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},title:"\u05d4\u05e4\u05d7\u05ea \u05db\u05de\u05d5\u05ea",children:"\u2212"}),(0,a.jsx)("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",minWidth:"32px"},children:e.quantity}),(c=e,i.filter((e=>{var t,r,a,i,s;const o=(null===(t=e.allocatedLocation)||void 0===t?void 0:t.id)||"no-location",l=(null===(r=c.allocatedLocation)||void 0===r?void 0:r.id)||"no-location",d=(null===(a=e.allocatedLocation)||void 0===a?void 0:a.name)||"no-allocation",u=(null===(i=c.allocatedLocation)||void 0===i?void 0:i.name)||"no-allocation",h=e.idNumber||"no-id",p=c.idNumber||"no-id",f=(null===(s=e.itemName)||void 0===s?void 0:s.name)===c.name&&h===p&&o===l&&d===u&&(e.requiresReporting||!1)===(c.requiresReporting||!1),m=!n.some((t=>t.id===e.id));return f&&m})).length>0&&(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{const t=i.find((t=>{var r,a,i,s,o;const l=(null===(r=t.allocatedLocation)||void 0===r?void 0:r.id)||"no-location",c=(null===(a=e.allocatedLocation)||void 0===a?void 0:a.id)||"no-location",d=(null===(i=t.allocatedLocation)||void 0===i?void 0:i.name)||"no-allocation",u=(null===(s=e.allocatedLocation)||void 0===s?void 0:s.name)||"no-allocation",h=t.idNumber||"no-id",p=e.idNumber||"no-id",f=(null===(o=t.itemName)||void 0===o?void 0:o.name)===e.name&&h===p&&l===c&&d===u&&(t.requiresReporting||!1)===(e.requiresReporting||!1),m=!n.some((e=>e.id===t.id));return f&&m}));t&&s(t)})(e),style:{background:"linear-gradient(135deg, #22c55e, #16a34a)",border:"none",borderRadius:"4px",width:"24px",height:"24px",color:"white",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},title:"\u05d4\u05d5\u05e1\u05e3 \u05db\u05de\u05d5\u05ea",children:"+"}))]})}),(0,a.jsx)("td",{style:{textAlign:"center",padding:"12px 8px"},children:(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{e.originalItems.forEach((e=>{r(e.id)}))})(e),title:"\u05d4\u05e1\u05e8 \u05e4\u05e8\u05d9\u05d8",style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",border:"none",borderRadius:"6px",width:"32px",height:"32px",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})})]},`${e.name}-${e.idNumber||"no-id"}-${(null===(o=e.allocatedLocation)||void 0===o?void 0:o.id)||"no-location"}-${t}`)}))})]})}),(0,a.jsx)("div",{style:{padding:"12px 20px",background:"rgba(255, 255, 255, 0.05)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"flex-end",direction:"rtl"},children:(0,a.jsxs)("small",{style:{color:"rgba(255, 255, 255, 0.6)",display:"flex",alignItems:"center"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle",style:{marginLeft:"6px"}}),'\u05e1\u05d4"\u05db ',c.length," \u05e1\u05d5\u05d2\u05d9 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd, ",n.length," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]})})]})},Uc=e=>{var n,r;let{onSuccess:i,onCancel:s,originalReceipt:o=null}=e;const{users:l}=Co(),{userProfile:c}=nc(),{availableItems:d,loading:u,error:h}=(()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),o=async()=>{try{a(!0),s(null);const e=await ao.getAvailableItems();n(Array.isArray(e)?e:[])}catch(e){s(e instanceof Error?e.message:"Failed to fetch available items"),n([])}finally{a(!1)}};return(0,t.useEffect)((()=>{o()}),[]),{availableItems:e,loading:r,error:i,refetch:o}})(),{updateReceipt:p,receipts:f}=Ro(),[m,g]=(0,t.useState)((null===o||void 0===o?void 0:o.signedById)||""),[b,v]=(0,t.useState)((null===o||void 0===o?void 0:o.note)||""),[y,x]=(0,t.useState)(!1),[w,j]=(0,t.useState)((null===o||void 0===o||null===(n=o.receiptItems)||void 0===n?void 0:n.map((e=>{var t,n,r,a;return{id:e.itemId,name:(null===(t=e.item)||void 0===t||null===(n=t.itemName)||void 0===n?void 0:n.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",idNumber:(null===(r=e.item)||void 0===r?void 0:r.idNumber)||void 0,requiresReporting:(null===(a=e.item)||void 0===a?void 0:a.requiresReporting)||!1,allocatedLocation:void 0,quantity:1}})))||[]),[k,N]=(0,t.useState)(""),[S,C]=(0,t.useState)(1),[E,I]=(0,t.useState)(""),[_,T]=(0,t.useState)(!1),[R,A]=(0,t.useState)(null),P=!!o,O=(0,t.useMemo)((()=>{if(!Array.isArray(f))return new Set;const e=new Set;return f.forEach((t=>{var n;P&&o&&t.id===o.id||null===(n=t.receiptItems)||void 0===n||n.forEach((t=>{t.itemId&&e.add(t.itemId)}))})),e}),[f,P,o]),L=(0,t.useMemo)((()=>{if(!Array.isArray(d))return[];const e=d.filter((e=>!O.has(e.id)));if(P&&o){var t;const n=[...(null===(t=o.receiptItems)||void 0===t?void 0:t.map((e=>{var t,n,r;return{id:e.itemId,idNumber:(null===(t=e.item)||void 0===t?void 0:t.idNumber)||void 0,itemName:(null===(n=e.item)||void 0===n?void 0:n.itemName)||{name:"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"},requiresReporting:(null===(r=e.item)||void 0===r?void 0:r.requiresReporting)||!1,allocatedLocation:void 0}})))||[]];return e.forEach((e=>{n.find((t=>t.id===e.id))||n.push({id:e.id,idNumber:e.idNumber||void 0,itemName:e.itemName||{name:"Unknown Item"},requiresReporting:e.requiresReporting||!1,allocatedLocation:e.allocatedLocation||void 0})})),n}return e.map((e=>({id:e.id,idNumber:e.idNumber||void 0,itemName:e.itemName||{name:"Unknown Item"},requiresReporting:e.requiresReporting||!1,allocatedLocation:e.allocatedLocation||void 0})))}),[d,P,o,O]),z=(0,t.useCallback)(((e,t)=>{const n=t||"no-location";return w.filter((t=>{var r;return t.name===e&&!t.requiresReporting&&((null===(r=t.allocatedLocation)||void 0===r?void 0:r.id)||"no-location")===n})).reduce(((e,t)=>e+(t.quantity||1)),0)}),[w]),D=(0,t.useMemo)((()=>{const e=L.filter((e=>!w.some((t=>t.id===e.id))));let t=e;if(E.trim()){const n=E.toLowerCase().normalize("NFC");t=e.filter((e=>{var t,r,a,i,s;return((null===(t=e.itemName)||void 0===t||null===(r=t.name)||void 0===r?void 0:r.toLowerCase().normalize("NFC"))||"").includes(n)||((null===(a=e.idNumber)||void 0===a?void 0:a.toLowerCase().normalize("NFC"))||"").includes(n)||((null===(i=e.allocatedLocation)||void 0===i||null===(s=i.name)||void 0===s?void 0:s.toLowerCase().normalize("NFC"))||"").includes(n)}))}const n=l.find((e=>e.id===m)),r=null===n||void 0===n?void 0:n.location;return t.sort(((e,t)=>{var n,a,i,s;const o=(null===(n=e.allocatedLocation)||void 0===n?void 0:n.name)===r,l=(null===(a=t.allocatedLocation)||void 0===a?void 0:a.name)===r;if(o&&!l)return-1;if(!o&&l)return 1;const c=Boolean(e.allocatedLocation),d=Boolean(t.allocatedLocation);if(c&&!d)return-1;if(!c&&d)return 1;const u=(null===(i=e.itemName)||void 0===i?void 0:i.name)||"",h=(null===(s=t.itemName)||void 0===s?void 0:s.name)||"";return u.localeCompare(h,"he")}))}),[L,E,w,l,m]),M=(0,t.useMemo)((()=>D.find((e=>e.id===k))),[D,k]),F=(0,t.useMemo)((()=>1),[]);t.useEffect((()=>{C(M&&F>0?e=>Math.min(e,F):1)}),[M,F]),t.useEffect((()=>{var e;if(!P||!o)return void x(!1);const t=m!==o.signedById,n=(b.trim()||null)!==(o.note||null),r=(null===(e=o.receiptItems)||void 0===e?void 0:e.map((e=>e.itemId)))||[],a=w.map((e=>e.id)),i=r.length!==a.length||!r.every((e=>a.includes(e)))||!a.every((e=>r.includes(e)));x(t||n||i)}),[m,b,w,P,o]);const B=function(e){var t;var n,r;if(O.has(e.id))return void A(`\u05d4\u05e4\u05e8\u05d9\u05d8 "${null===(n=e.itemName)||void 0===n?void 0:n.name}" \u05db\u05d1\u05e8 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05e8\u05ea \u05d5\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05d5\u05ea\u05d5 \u05e9\u05d5\u05d1`);if(w.some((t=>t.id===e.id)))return void A(`\u05d4\u05e4\u05e8\u05d9\u05d8 "${null===(r=e.itemName)||void 0===r?void 0:r.name}" \u05db\u05d1\u05e8 \u05e0\u05d1\u05d7\u05e8`);const a={id:e.id,name:(null===(t=e.itemName)||void 0===t?void 0:t.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",requiresReporting:e.requiresReporting||!1,idNumber:e.idNumber||void 0,allocatedLocation:e.allocatedLocation,quantity:1};j((e=>[...e,a])),N(""),C(1),I(""),A(null)};return(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"32px",backdropFilter:"blur(10px)",maxWidth:"900px",margin:"0 auto",direction:"rtl"},children:[(0,a.jsxs)("h3",{style:{marginBottom:"24px",color:"rgba(255, 255, 255, 0.9)",fontSize:"24px",fontWeight:"600",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("i",{className:"fas fa-file-plus",style:{color:"white",fontSize:"18px"}})}),P?"\u05e2\u05d3\u05db\u05d5\u05df \u05e7\u05d1\u05dc\u05d4":"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e7\u05d1\u05dc\u05d4 \u05d7\u05d3\u05e9\u05d4"]}),P&&y&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05))",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)",padding:"12px 16px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-edit",style:{color:"#f59e0b",fontSize:"16px"}}),(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"14px"},children:"\u05d9\u05e9 \u05dc\u05da \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd \u05e9\u05dc\u05d0 \u05e0\u05e9\u05de\u05e8\u05d5"})]}),(R||h)&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)",padding:"16px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"#ef4444",fontSize:"16px"}}),(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:R||h})]}),u&&(0,a.jsxs)("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",marginBottom:"24px"},children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin",style:{marginLeft:"8px"}}),"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd..."]}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m)if(0!==w.length)if(null!==c&&void 0!==c&&c.id){T(!0),A(null);try{const e=[];if(w.forEach((t=>{e.push(t.id)})),P&&o){var t;const n={};m!==o.signedById&&(n.signedById=m);const r=b.trim()||null;r!==(o.note||null)&&(n.note=r);const a=(null===(t=o.receiptItems)||void 0===t?void 0:t.map((e=>e.itemId)))||[],i=e;if((a.length!==i.length||!a.every((e=>i.includes(e)))||!i.every((e=>a.includes(e))))&&(n.items=e),0===Object.keys(n).length)return void A("\u05dc\u05d0 \u05e0\u05e2\u05e9\u05d5 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd \u05d1\u05e7\u05d1\u05dc\u05d4");await p(o.id,n)}else await io.create({createdById:c.id,signedById:m,note:b.trim()||null,items:e});i()}catch(n){A(n instanceof Error?n.message:P?"Failed to update receipt":"Failed to create receipt")}finally{T(!1)}}else A("User profile not loaded");else A("Please select at least one item");else A("Please select a user")},children:[(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05d1\u05d7\u05e8 \u05de\u05e9\u05ea\u05de\u05e9 ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsxs)("select",{value:m,onChange:e=>g(e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='rgba(255,255,255,0.5)' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"left 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px 16px",paddingLeft:"40px",cursor:"pointer"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor="rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"},children:[(0,a.jsx)("option",{value:"",style:{background:"#1f2937",color:"rgba(255, 255, 255, 0.7)"},children:"\u05d1\u05d7\u05e8 \u05de\u05e9\u05ea\u05de\u05e9..."}),l.map((e=>(0,a.jsxs)("option",{value:e.id,style:{background:"#1f2937",color:"rgba(255, 255, 255, 0.9)"},children:[e.name," (",e.personalNumber,")",e.id===(null===c||void 0===c?void 0:c.id)&&" - \u05d0\u05e0\u05d9"]},e.id)))]}),0===l.length&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd"]}),l.length>0&&1===l.length&&l[0].id===(null===c||void 0===c?void 0:c.id)&&(0,a.jsxs)("div",{style:{color:"#f59e0b",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle"}),"\u05e0\u05d9\u05ea\u05df \u05dc\u05d9\u05e6\u05d5\u05e8 \u05e7\u05d1\u05dc\u05d4 \u05e8\u05e7 \u05e2\u05d1\u05d5\u05e8 \u05e2\u05e6\u05de\u05da \u05db\u05e8\u05d2\u05e2"]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:"\u05d4\u05e2\u05e8\u05d4 (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)"}),(0,a.jsx)("textarea",{value:b,onChange:e=>v(e.target.value),maxLength:500,rows:3,placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d4\u05e2\u05e8\u05d4 \u05d0\u05d5 \u05d4\u05e1\u05d1\u05e8 \u05e0\u05d5\u05e1\u05e3 \u05e2\u05d1\u05d5\u05e8 \u05d4\u05e7\u05d1\u05dc\u05d4...",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",resize:"vertical",minHeight:"80px",fontFamily:"inherit",lineHeight:"1.5"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor="rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px"},children:[(0,a.jsx)("small",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d4\u05e2\u05e8\u05d4 \u05d6\u05d5 \u05ea\u05d5\u05e6\u05d2 \u05d1\u05e4\u05e8\u05d8\u05d9 \u05d4\u05e7\u05d1\u05dc\u05d4 \u05d5\u05d1\u05d3\u05d5\u05d7\u05d5\u05ea"}),(0,a.jsxs)("small",{style:{color:b.length>450?"#ef4444":"rgba(255, 255, 255, 0.6)",fontSize:"12px",fontWeight:b.length>450?"600":"normal"},children:[b.length,"/500 \u05ea\u05d5\u05d5\u05d9\u05dd"]})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),!u&&O.size>0&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05))",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)",padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"#f59e0b",fontSize:"16px"}}),(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"14px"},children:[(0,a.jsx)("strong",{children:"\u05e9\u05d9\u05dd \u05dc\u05d1:"})," \u05d7\u05dc\u05e7 \u05de\u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d0\u05d9\u05e0\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05db\u05d9\u05d5\u05d5\u05df \u05e9\u05d4\u05dd \u05db\u05d1\u05e8 \u05e0\u05de\u05e6\u05d0\u05d9\u05dd \u05d1\u05e7\u05d1\u05dc\u05d5\u05ea \u05d0\u05d7\u05e8\u05d5\u05ea. \u05db\u05dc \u05e4\u05e8\u05d9\u05d8 \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05e8\u05e7 \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05ea \u05d1\u05db\u05dc \u05d6\u05de\u05df \u05e0\u05ea\u05d5\u05df."]})]}),(0,a.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",border:"1px solid "+(k?"rgba(34, 197, 94, 0.5)":"rgba(255, 255, 255, 0.2)"),padding:"4px",transition:"all 0.2s ease"},children:[(0,a.jsx)("div",{style:{padding:"8px 12px",color:k?"#22c55e":"rgba(255, 255, 255, 0.5)"},children:(0,a.jsx)("i",{className:"fas "+(k?"fa-check":"fa-search")})}),(0,a.jsx)("input",{type:"text",placeholder:"\u05d7\u05e4\u05e9 \u05d5\u05d1\u05d7\u05e8 \u05e4\u05e8\u05d9\u05d8 \u05dc\u05e4\u05d9 \u05e9\u05dd \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8 \u05e6'...",value:E,onChange:e=>I(e.target.value),disabled:u,onFocus:()=>{k&&N("")},style:{flex:1,background:"none",border:"none",outline:"none",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",padding:"8px 4px"}}),(E||k)&&(0,a.jsx)("button",{type:"button",onClick:()=>{I(""),N("")},title:k?"\u05e0\u05e7\u05d4 \u05d1\u05d7\u05d9\u05e8\u05d4":"\u05e0\u05e7\u05d4 \u05d7\u05d9\u05e4\u05d5\u05e9",style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.7)",cursor:"pointer",padding:"8px 12px",borderRadius:"4px",transition:"all 0.2s ease"},children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),E&&!k&&(0,a.jsxs)("div",{style:{border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",maxHeight:"300px",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",marginTop:"8px"},children:[u&&(0,a.jsxs)("div",{style:{padding:"12px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center"},children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin",style:{marginLeft:"8px"}}),"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd..."]}),!u&&0===D.length&&E&&(0,a.jsxs)("div",{style:{padding:"12px",color:"#ef4444",textAlign:"center"},children:['\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05ea\u05d5\u05d0\u05de\u05d9\u05dd \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 "',E,'"']}),!u&&0===L.length&&!E&&(0,a.jsx)("div",{style:{padding:"12px",color:"#ef4444",textAlign:"center"},children:"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd"}),!u&&D.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{padding:"8px 12px",background:"rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:E?`\u05e0\u05de\u05e6\u05d0\u05d5 ${D.length} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05ea\u05d5\u05da ${L.length}`:`${L.length} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd`}),D.map((e=>{var t,n;const r=(null===(t=e.itemName)||void 0===t?void 0:t.name)||"\u05dc\u05dc\u05d0 \u05e9\u05dd";return(0,a.jsxs)("div",{style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",transition:"all 0.2s ease",color:"rgba(255, 255, 255, 0.9)"},onClick:()=>{const t=e.requiresReporting?1:S;B(e,t)},children:[(0,a.jsxs)("div",{style:{fontWeight:"600",marginBottom:"4px"},children:[r,e.requiresReporting&&(0,a.jsx)("span",{style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"4px",marginRight:"8px",fontWeight:"600"},children:"\u05e6\u05d5\u05e4\u05df"})]}),e.idNumber&&(0,a.jsxs)("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginBottom:"2px"},children:["\u05de\u05e1\u05e4\u05e8 \u05e6': ",e.idNumber]}),(null===(n=e.allocatedLocation)||void 0===n?void 0:n.name)&&(0,a.jsxs)("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:["\u05d4\u05e7\u05e6\u05d0\u05d4: ",e.allocatedLocation.name]})]},e.id)}))]})]})]}),M&&(0,a.jsxs)("div",{style:{marginTop:"16px"},children:[(0,a.jsx)("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(29, 78, 216, 0.05))",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.2)",padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle",style:{color:"#3b82f6",fontSize:"16px"}}),(0,a.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:["\u05e4\u05e8\u05d9\u05d8 \u05e0\u05d1\u05d7\u05e8: ",(0,a.jsx)("strong",{children:null===(r=M.itemName)||void 0===r?void 0:r.name}),M.requiresReporting&&(0,a.jsx)("span",{style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"4px",marginRight:"8px",fontWeight:"600"},children:"\u05e6\u05d5\u05e4\u05df"})]})]})}),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(!M)return;var e;if(O.has(M.id))return void A(`\u05d4\u05e4\u05e8\u05d9\u05d8 "${null===(e=M.itemName)||void 0===e?void 0:e.name}" \u05db\u05d1\u05e8 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05e8\u05ea \u05d5\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05d5\u05ea\u05d5 \u05e9\u05d5\u05d1`);if(Boolean(M.requiresReporting)){const e=L.filter((e=>{var t,n;return(null===(t=e.itemName)||void 0===t?void 0:t.name)===(null===(n=M.itemName)||void 0===n?void 0:n.name)&&e.requiresReporting&&!w.some((t=>t.id===e.id))&&!O.has(e.id)})),r=[];for(let a=0;a<S&&a<e.length;a++){var t;const i=e[a];var n;if(O.has(i.id))return void A(`\u05d4\u05e4\u05e8\u05d9\u05d8 "${null===(n=i.itemName)||void 0===n?void 0:n.name}" (${i.idNumber}) \u05db\u05d1\u05e8 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05e8\u05ea`);r.push({id:i.id,name:(null===(t=i.itemName)||void 0===t?void 0:t.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",requiresReporting:i.requiresReporting||!1,idNumber:i.idNumber||void 0,allocatedLocation:i.allocatedLocation,quantity:1})}j((e=>[...e,...r]))}else{const e=w.findIndex((e=>{var t,n,r;return e.name===(null===(t=M.itemName)||void 0===t?void 0:t.name)&&!e.requiresReporting&&((null===(n=e.allocatedLocation)||void 0===n?void 0:n.id)||"no-location")===((null===(r=M.allocatedLocation)||void 0===r?void 0:r.id)||"no-location")}));if(e>=0){var r,a,i;const t=(null===(r=M.allocatedLocation)||void 0===r?void 0:r.id)||"no-location",n=L.filter((e=>{var n,r,a;return(null===(n=e.itemName)||void 0===n?void 0:n.name)===(null===(r=M.itemName)||void 0===r?void 0:r.name)&&!e.requiresReporting&&((null===(a=e.allocatedLocation)||void 0===a?void 0:a.id)||"no-location")===t&&!O.has(e.id)})),s=z((null===(a=M.itemName)||void 0===a?void 0:a.name)||"",null===(i=M.allocatedLocation)||void 0===i?void 0:i.id);if(s+S>n.length)return void A(`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 ${S} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd. \u05d6\u05de\u05d9\u05df: ${n.length-s}`);const o=[...w];o[e]={...o[e],quantity:(o[e].quantity||1)+S},j(o)}else{var s,o;const e=(null===(s=M.allocatedLocation)||void 0===s?void 0:s.id)||"no-location",t=L.filter((t=>{var n,r,a;return(null===(n=t.itemName)||void 0===n?void 0:n.name)===(null===(r=M.itemName)||void 0===r?void 0:r.name)&&!t.requiresReporting&&((null===(a=t.allocatedLocation)||void 0===a?void 0:a.id)||"no-location")===e&&!O.has(t.id)}));if(S>t.length)return void A(`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 ${S} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd. \u05d6\u05de\u05d9\u05df: ${t.length}`);var l;if(O.has(M.id))return void A(`\u05d4\u05e4\u05e8\u05d9\u05d8 "${null===(l=M.itemName)||void 0===l?void 0:l.name}" \u05db\u05d1\u05e8 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d0\u05d7\u05e8\u05ea`);const n={id:M.id,name:(null===(o=M.itemName)||void 0===o?void 0:o.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",requiresReporting:M.requiresReporting||!1,idNumber:M.idNumber||void 0,allocatedLocation:M.allocatedLocation,quantity:S};j((e=>[...e,n]))}}N(""),C(1),A(null)},disabled:!M||u,style:{background:!M||u?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #3b82f6, #1d4ed8)",border:"none",borderRadius:"8px",padding:"12px 24px",color:"white",fontSize:"14px",fontWeight:"600",cursor:!M||u?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:!M||u?"none":"0 4px 16px rgba(59, 130, 246, 0.3)"},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{marginLeft:"8px"}}),"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d9\u05d8"]})]}),(0,a.jsx)("div",{style:{marginTop:"24px"},children:(0,a.jsx)(Bc,{items:w,onRemove:e=>{var t;t=e,j((e=>e.filter((e=>e.id!==t))))},availableItems:d||[],onAddItem:e=>{const t={id:e.id,idNumber:e.idNumber||void 0,itemName:e.itemName||{name:"Unknown Item"},requiresReporting:e.requiresReporting||!1,allocatedLocation:e.allocatedLocation||void 0};B(t,1)}})})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"32px",paddingTop:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,a.jsx)("button",{type:"button",onClick:s,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px 24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"submit",disabled:_||P&&!y,style:{background:_||P&&!y?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #3b82f6, #1d4ed8)",border:"none",borderRadius:"8px",padding:"12px 24px",color:"white",fontSize:"14px",fontWeight:"600",cursor:_||P&&!y?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:_||P&&!y?"none":"0 4px 16px rgba(59, 130, 246, 0.3)"},title:P&&!y?"\u05dc\u05d0 \u05d1\u05d5\u05e6\u05e2\u05d5 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":void 0,children:P?y?"\u05e2\u05d3\u05db\u05df \u05e7\u05d1\u05dc\u05d4":"\u05d0\u05d9\u05df \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":"\u05e6\u05d5\u05e8 \u05e7\u05d1\u05dc\u05d4"})]})]})]})};function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$c.apply(null,arguments)}function Wc(e){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(e)}function Hc(e){var t=function(e,t){if("object"!=Wc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wc(t)?t:t+""}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hc(r.key),r)}}function Vc(e,t){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vc(e,t)}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(e)}function Qc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qc=function(){return!!e})()}function Gc(e,t){if(t&&("object"==Wc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var Yc=n(173);function Jc(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function Xc(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function Zc(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var r,a,i,s=null,o=0;n||(n={});var l=function(){o=!1===n.leading?0:Date.now(),s=null,i=e.apply(r,a),s||(r=a=null)};return function(){var c=Date.now();o||!1!==n.leading||(o=c);var d=t-(c-o);return r=this,a=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),o=c,i=e.apply(r,a),s||(r=a=null)):s||!1===n.trailing||(s=setTimeout(l,d)),i}}(Zc.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Zc.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}Jc.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},Jc.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},Jc.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},Xc.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var a=r/10,i=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var o=i-t,l=s-n;e+=Math.sqrt(o*o+l*l)}t=i,n=s}return e},Xc.prototype._point=function(e,t,n,r,a){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+a*e*e*e},Zc.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},Zc.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,s=n.height||this._canvas.height/a;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,s)},this._isEmpty=!1},Zc.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},Zc.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},Zc.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},Zc.prototype.isEmpty=function(){return this._isEmpty},Zc.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"===typeof this.onBegin&&this.onBegin(e)},Zc.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],s=i&&r.distanceTo(i)<this.minDistance;if(!i||!s){var o=this._addPoint(r),l=o.curve,c=o.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},Zc.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(e)},Zc.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},Zc.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},Zc.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},Zc.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new Jc(e-r.left,t-r.top,n||(new Date).getTime())},Zc.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,r=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,a=new Xc(t[1],n,r,t[2]),i=this._calculateCurveWidths(a);return t.shift(),{curve:a,widths:i}}return{}},Zc.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,a=e.y-t.y,i=t.x-n.x,s=t.y-n.y,o=(e.x+t.x)/2,l=(e.y+t.y)/2,c=(t.x+n.x)/2,d=(t.y+n.y)/2,u=Math.sqrt(r*r+a*a),h=Math.sqrt(i*i+s*s),p=h/(u+h),f=c+(o-c)*p,m=d+(l-d)*p,g=t.x-f,b=t.y-m;return{c1:new Jc(o+g,l+b),c2:new Jc(c+g,d+b)}},Zc.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r},Zc.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},Zc.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},Zc.prototype._drawCurve=function(e,t,n){var r=this._ctx,a=n-t,i=Math.floor(e.length());r.beginPath();for(var s=0;s<i;s+=1){var o=s/i,l=o*o,c=l*o,d=1-o,u=d*d,h=u*d,p=h*e.startPoint.x;p+=3*u*o*e.control1.x,p+=3*d*l*e.control2.x,p+=c*e.endPoint.x;var f=h*e.startPoint.y;f+=3*u*o*e.control1.y,f+=3*d*l*e.control2.y,f+=c*e.endPoint.y;var m=t+c*a;this._drawPoint(p,f,m)}r.closePath(),r.fill()},Zc.prototype._drawDot=function(e){var t=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},Zc.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var a=e[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var s=a[i],o=new Jc(s.x,s.y,s.time),l=s.color;if(0===i)this.penColor=l,this._reset(),this._addPoint(o);else if(i!==a.length-1){var c=this._addPoint(o),d=c.curve,u=c.widths;d&&u&&t(d,u,l)}}else this._reset(),n(a[0])}},Zc.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=n.width/r,i=n.height/r,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",n.width),s.setAttributeNS(null,"height",n.height),this._fromData(t,(function(e,t,n){var r=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var a="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);r.setAttribute("d",a),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),s.appendChild(r)}}),(function(t){var n=document.createElement("circle"),r="function"===typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",r),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),s.appendChild(n)}));var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+a+" "+i+'" width="'+a+'" height="'+i+'">',l=s.innerHTML;if(void 0===l){var c=document.createElement("dummy"),d=s.childNodes;c.innerHTML="";for(var u=0;u<d.length;u+=1)c.appendChild(d[u].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+l+"</svg>")},Zc.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,(function(e,n){return t._drawCurve(e,n.start,n.end)}),(function(e){return t._drawDot(e)})),this._data=e},Zc.prototype.toData=function(){return this._data};const ed=Zc;var td=n(576),nd=["canvasProps","clearOnResize"],rd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vc(e,t)}(s,e);var n,r,a,i=function(e){var t=Qc();return function(){var n,r=Kc(e);if(t){var a=Kc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gc(this,n)}}(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=i.call.apply(i,[this].concat(r))).staticThis=e.constructor,e._sigPad=null,e._canvas=null,e.setRef=function(t){e._canvas=t,null===e._canvas&&(e._sigPad=null)},e._excludeOurProps=function(){var t=e.props;return t.canvasProps,t.clearOnResize,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,nd)},e.componentDidMount=function(){var t=e.getCanvas();e._sigPad=new ed(t,e._excludeOurProps()),e._resizeCanvas(),e.on()},e.componentWillUnmount=function(){e.off()},e.componentDidUpdate=function(){Object.assign(e._sigPad,e._excludeOurProps())},e.getCanvas=function(){if(null===e._canvas)throw e.staticThis.refNullError;return e._canvas},e.getTrimmedCanvas=function(){var t=e.getCanvas(),n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),td(n)},e.getSignaturePad=function(){if(null===e._sigPad)throw e.staticThis.refNullError;return e._sigPad},e._checkClearOnResize=function(){e.props.clearOnResize&&e._resizeCanvas()},e._resizeCanvas=function(){var t,n,r=null!==(t=e.props.canvasProps)&&void 0!==t?t:{},a=r.width,i=r.height;if("undefined"===typeof a||"undefined"===typeof i){var s=e.getCanvas(),o=Math.max(null!==(n=window.devicePixelRatio)&&void 0!==n?n:1,1);"undefined"===typeof a&&(s.width=s.offsetWidth*o),"undefined"===typeof i&&(s.height=s.offsetHeight*o),s.getContext("2d").scale(o,o),e.clear()}},e.render=function(){var n=e.props.canvasProps;return t.createElement("canvas",$c({ref:e.setRef},n))},e.on=function(){return window.addEventListener("resize",e._checkClearOnResize),e.getSignaturePad().on()},e.off=function(){return window.removeEventListener("resize",e._checkClearOnResize),e.getSignaturePad().off()},e.clear=function(){return e.getSignaturePad().clear()},e.isEmpty=function(){return e.getSignaturePad().isEmpty()},e.fromDataURL=function(t,n){return e.getSignaturePad().fromDataURL(t,n)},e.toDataURL=function(t,n){return e.getSignaturePad().toDataURL(t,n)},e.fromData=function(t){return e.getSignaturePad().fromData(t)},e.toData=function(){return e.getSignaturePad().toData()},e}return n=s,r&&qc(n.prototype,r),a&&qc(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}(t.Component);rd.propTypes={velocityFilterWeight:Yc.number,minWidth:Yc.number,maxWidth:Yc.number,minDistance:Yc.number,dotSize:Yc.oneOfType([Yc.number,Yc.func]),penColor:Yc.string,throttle:Yc.number,onEnd:Yc.func,onBegin:Yc.func,canvasProps:Yc.object,clearOnResize:Yc.bool},rd.defaultProps={clearOnResize:!0},rd.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const ad=e=>{let{onSave:n}=e;const r=(0,t.useRef)(null),i=(0,t.useRef)(null),[s,o]=(0,t.useState)({width:450,height:120});(0,t.useEffect)((()=>{const e=()=>{if(i.current){const e=i.current.offsetWidth-40,t=Math.max(300,e);o({width:t,height:120}),r.current&&setTimeout((()=>{r.current&&(r.current.getCanvas().width=t,r.current.getCanvas().height=120,r.current.getCanvas().style.width=`${t}px`,r.current.getCanvas().style.height="120px")}),10)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const l=e=>null!==e;return(0,a.jsxs)("div",{className:"signature-pad-container",ref:i,children:[(0,a.jsx)("div",{className:"text-center mb-2",children:(0,a.jsxs)("small",{className:"text-muted",children:[(0,a.jsx)("i",{className:"fas fa-info-circle me-1"}),"\u05d7\u05ea\u05d5\u05dd \u05d1\u05d0\u05d6\u05d5\u05e8 \u05d4\u05dc\u05d1\u05df \u05dc\u05de\u05d8\u05d4"]})}),(0,a.jsx)("div",{className:"signature-canvas-wrapper",children:(0,a.jsx)(rd,{ref:r,penColor:"black",onEnd:()=>{if(l(r.current)&&!r.current.isEmpty()){const e=r.current.toDataURL("image/png");n(e)}},canvasProps:{width:s.width,height:s.height,className:"signature-canvas",style:{cursor:"crosshair",width:`${s.width}px`,height:`${s.height}px`,touchAction:"none",border:"2px solid #667eea",borderRadius:"8px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}})}),(0,a.jsx)("div",{className:"text-center mt-3",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-sm",onClick:()=>{l(r.current)&&(r.current.clear(),n(""))},style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid #ffc107",color:"#ffc107",padding:"8px 16px",borderRadius:"6px",fontSize:"13px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 193, 7, 0.2)",e.currentTarget.style.color="#ffcd39"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 193, 7, 0.1)",e.currentTarget.style.color="#ffc107"},children:[(0,a.jsx)("i",{className:"fas fa-eraser me-2"}),"\u05e0\u05e7\u05d4 \u05d7\u05ea\u05d9\u05de\u05d4"]})})]})},id={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function sd(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const od={date:sd({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:sd({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:sd({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ld={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function cd(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function dd(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}var ud;const hd={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=id[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:od,formatRelative:(e,t,n,r)=>ld[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:cd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:cd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:cd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:cd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:cd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(ud={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(ud.matchPattern);if(!n)return null;const r=n[0],a=e.match(ud.parsePattern);if(!a)return null;let i=ud.valueCallback?ud.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:dd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:dd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:dd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:dd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:dd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let pd={};function fd(){return pd}Math.pow(10,8);const md=6048e5,gd=Symbol.for("constructDateFrom");function bd(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&gd in e?e[gd](t):e instanceof Date?new e.constructor(t):new Date(t)}function vd(e,t){return bd(t||e,e)}function yd(e){const t=vd(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xd(e,t){const n=vd(e,t?.in);return n.setHours(0,0,0,0),n}function wd(e,t,n){const[r,a]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=bd.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(a)}(n?.in,e,t),i=xd(r),s=xd(a),o=+i-yd(i),l=+s-yd(s);return Math.round((o-l)/864e5)}function jd(e,t){const n=vd(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kd(e,t){const n=vd(e,t?.in);return wd(n,jd(n))+1}function Nd(e,t){const n=fd(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=vd(e,t?.in),i=a.getDay(),s=(i<r?7:0)+i-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Sd(e,t){return Nd(e,{...t,weekStartsOn:1})}function Cd(e,t){const n=vd(e,t?.in),r=n.getFullYear(),a=bd(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Sd(a),s=bd(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Sd(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Ed(e,t){const n=Cd(e,t),r=bd(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Sd(r)}function Id(e,t){const n=vd(e,t?.in),r=+Sd(n)-+Ed(n);return Math.round(r/md)+1}function _d(e,t){const n=vd(e,t?.in),r=n.getFullYear(),a=fd(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=bd(t?.in||e,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const o=Nd(s,t),l=bd(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Nd(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function Td(e,t){const n=fd(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=_d(e,t),i=bd(t?.in||e,0);i.setFullYear(a,0,r),i.setHours(0,0,0,0);return Nd(i,t)}function Rd(e,t){const n=vd(e,t?.in),r=+Nd(n,t)-+Td(n,t);return Math.round(r/md)+1}function Ad(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Pd={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ad("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Ad(n+1,2)},d:(e,t)=>Ad(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Ad(e.getHours()%12||12,t.length),H:(e,t)=>Ad(e.getHours(),t.length),m:(e,t)=>Ad(e.getMinutes(),t.length),s:(e,t)=>Ad(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Ad(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Od="midnight",Ld="noon",zd="morning",Dd="afternoon",Md="evening",Fd="night",Bd={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Pd.y(e,t)},Y:function(e,t,n,r){const a=_d(e,r),i=a>0?a:1-a;if("YY"===t){return Ad(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Ad(i,t.length)},R:function(e,t){return Ad(Cd(e),t.length)},u:function(e,t){return Ad(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ad(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ad(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Pd.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ad(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Rd(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Ad(a,t.length)},I:function(e,t,n){const r=Id(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ad(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Pd.d(e,t)},D:function(e,t,n){const r=kd(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ad(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ad(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ad(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Ad(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?Ld:0===r?Od:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?Md:r>=12?Dd:r>=4?zd:Fd,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Pd.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Pd.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ad(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ad(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pd.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Pd.s(e,t)},S:function(e,t){return Pd.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return $d(r);case"XXXX":case"XX":return Wd(r);default:return Wd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return $d(r);case"xxxx":case"xx":return Wd(r);default:return Wd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ud(r,":");default:return"GMT"+Wd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ud(r,":");default:return"GMT"+Wd(r,":")}},t:function(e,t,n){return Ad(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Ad(+e,t.length)}};function Ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+Ad(i,2)}function $d(e,t){if(e%60===0){return(e>0?"-":"+")+Ad(Math.abs(e)/60,2)}return Wd(e,t)}function Wd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Ad(Math.trunc(r/60),2)+t+Ad(r%60,2)}const Hd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qd=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Vd={p:qd,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Hd(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Hd(r,t)).replace("{{time}}",qd(a,t))}},Kd=/^D+$/,Qd=/^Y+$/,Gd=["D","DD","YY","YYYY"];function Yd(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Jd(e){return!(!Yd(e)&&"number"!==typeof e||isNaN(+vd(e)))}const Xd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eu=/^'([^]*?)'?$/,tu=/''/g,nu=/[a-zA-Z]/;function ru(e,t,n){const r=fd(),a=n?.locale??r.locale??hd,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=vd(e,n?.in);if(!Jd(o))throw new RangeError("Invalid time value");let l=t.match(Zd).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Vd[t])(e,a.formatLong)}return e})).join("").match(Xd).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:au(e)};if(Bd[t])return{isToken:!0,value:e};if(t.match(nu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return Qd.test(e)}(i)||!n?.useAdditionalDayOfYearTokens&&function(e){return Kd.test(e)}(i))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Gd.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,Bd[i[0]])(o,i,a.localize,c)})).join("")}function au(e){const t=e.match(eu);return t?t[1].replace(tu,"'"):e}const iu=e=>{var n,r,i,s;let{receipt:o,isOpen:l,onClose:c,isAdmin:d=!1,onUpdate:u,onDelete:h,onDownload:p,downloadingReceiptId:f,onSign:m,currentUserId:g,isPendingReceipt:b=!1}=e;const v=(0,t.useMemo)((()=>null!==o&&void 0!==o&&o.receiptItems?o.receiptItems.map((e=>{var t,n,r,a,i;return{name:(null===(t=e.item)||void 0===t||null===(n=t.itemName)||void 0===n?void 0:n.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",idNumber:(null===(r=e.item)||void 0===r?void 0:r.idNumber)||void 0,requiresReporting:(null===(a=e.item)||void 0===a?void 0:a.requiresReporting)||!1,note:(null===(i=e.item)||void 0===i?void 0:i.note)||void 0}})):[]),[null===o||void 0===o?void 0:o.receiptItems]),y=(0,t.useMemo)((()=>(e=>{const t=new Map;return e.forEach((e=>{const n=e.idNumber||"no-id",r=e.note||"no-note",a=`${e.name}-${n}-${e.requiresReporting}-${r}`;if(t.has(a)){const n=t.get(a);n.quantity+=1,n.originalItems.push(e)}else t.set(a,{name:e.name,idNumber:e.idNumber,requiresReporting:e.requiresReporting,note:e.note,quantity:1,originalItems:[e]})})),Array.from(t.values())})(v)),[v]);if(!o)return null;const x=e=>ru(new Date(e),"dd/MM/yyyy HH:mm:ss");return(0,a.jsx)(pc,{isOpen:l,onClose:c,title:`\u05e4\u05e8\u05d8\u05d9 \u05e7\u05d1\u05dc\u05d4 #${o.id}`,size:"lg",children:(0,a.jsxs)("div",{style:{direction:"rtl",padding:"16px",unicodeBidi:"embed",textRendering:"optimizeLegibility"},children:[(0,a.jsxs)("div",{className:"receipt-summary",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px",padding:"16px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",direction:"rtl",unicodeBidi:"isolate"},children:"\u05de\u05e0\u05e4\u05d9\u05e7:"}),(0,a.jsx)("div",{style:{fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",direction:"rtl",unicodeBidi:"isolate"},children:(null===(n=o.createdBy)||void 0===n?void 0:n.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}),(0,a.jsx)("small",{style:{color:"rgba(255, 255, 255, 0.7)"},children:(null===(r=o.createdBy)||void 0===r?void 0:r.personalNumber)&&`\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9: ${o.createdBy.personalNumber}`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05de\u05e7\u05d1\u05dc:"}),(0,a.jsx)("div",{style:{fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)"},children:(null===(i=o.signedBy)||void 0===i?void 0:i.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}),(0,a.jsx)("small",{style:{color:"rgba(255, 255, 255, 0.7)"},children:(null===(s=o.signedBy)||void 0===s?void 0:s.personalNumber)&&`\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9: ${o.signedBy.personalNumber}`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d9\u05d7\u05d9\u05d3\u05d4:"}),(0,a.jsx)("div",{style:{fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)"},children:(e=>{var t,n,r,a,i,s;return(null===(t=e.signedBy)||void 0===t||null===(n=t.location)||void 0===n||null===(r=n.unit)||void 0===r?void 0:r.name)||(null===(a=e.createdBy)||void 0===a||null===(i=a.location)||void 0===i||null===(s=i.unit)||void 0===s?void 0:s.name)||"\u2014"})(o)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4:"}),(0,a.jsx)("div",{style:{fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)"},children:x(o.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05e2\u05d3\u05db\u05d5\u05df:"}),(0,a.jsx)("div",{style:{fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)"},children:x(o.updatedAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05e1\u05d8\u05d8\u05d5\u05e1:"}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{style:{background:o.isSigned?"linear-gradient(135deg, #4caf50, #388e3c)":"linear-gradient(135deg, #ffc107, #ffb300)",color:o.isSigned?"white":"black",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:o.isSigned?"\u05d7\u05ea\u05d5\u05dd":"\u05de\u05de\u05ea\u05d9\u05df \u05dc\u05d7\u05ea\u05d9\u05de\u05d4"})})]})]}),(0,a.jsxs)("div",{className:"receipt-items",style:{background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"12px",overflow:"hidden",backdropFilter:"blur(10px)"},children:[(0,a.jsxs)("div",{className:"items-header",style:{padding:"12px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)("h6",{style:{margin:0,fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)"},children:[(0,a.jsx)("i",{className:"fas fa-list me-2",style:{color:"#64b5f6"}}),"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05e7\u05d1\u05dc\u05d4"]}),(0,a.jsxs)("span",{style:{background:"linear-gradient(135deg, #64b5f6, #42a5f5)",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:[y.length," \u05e1\u05d5\u05d2\u05d9\u05dd, ",v.length," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]})]}),(0,a.jsx)("div",{className:"items-table-container",style:{maxHeight:"400px",overflowY:"auto"},children:0===v.length?(0,a.jsxs)("div",{style:{textAlign:"center",padding:"32px 16px",color:"rgba(255, 255, 255, 0.6)"},children:[(0,a.jsx)("i",{className:"fas fa-inbox fa-2x mb-2",style:{color:"rgba(255, 255, 255, 0.4)"}}),(0,a.jsx)("div",{children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05e7\u05d1\u05dc\u05d4 \u05d6\u05d5"})]}):(0,a.jsxs)("table",{className:"table mb-0",style:{backgroundColor:"transparent"},children:[(0,a.jsx)("thead",{style:{background:"rgba(255, 255, 255, 0.05)",position:"sticky",top:0},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{width:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"#"}),(0,a.jsx)("th",{style:{color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05e9\u05dd \u05d4\u05e4\u05e8\u05d9\u05d8"}),(0,a.jsx)("th",{style:{width:"130px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"}),(0,a.jsx)("th",{style:{width:"80px",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05e6\u05d5\u05e4\u05df"}),(0,a.jsx)("th",{style:{width:"80px",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05db\u05de\u05d5\u05ea"}),(0,a.jsx)("th",{style:{color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:"\u05d4\u05e2\u05e8\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:y.map(((e,t)=>(0,a.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,a.jsx)("td",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:t+1}),(0,a.jsx)("td",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.name,e.requiresReporting&&(0,a.jsx)("span",{style:{marginLeft:"8px"},children:(0,a.jsx)("i",{className:"fas fa-shield-alt",style:{color:"#ef4444",fontSize:"14px"},title:"\u05e4\u05e8\u05d9\u05d8 \u05e6\u05d5\u05e4\u05df"})})]})}),(0,a.jsx)("td",{style:{fontFamily:"monospace",fontSize:"14px",color:e.idNumber?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.5)"},children:e.idNumber?(0,a.jsx)("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:e.idNumber}):(0,a.jsx)("span",{children:"\u2014"})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("span",{style:{background:e.requiresReporting?"linear-gradient(135deg, #ffc107, #ffb300)":"linear-gradient(135deg, #4caf50, #388e3c)",color:e.requiresReporting?"black":"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:e.requiresReporting?"\u05db\u05df":"\u05dc\u05d0"})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"600"},children:e.quantity})}),(0,a.jsx)("td",{style:{color:e.note?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.5)",fontSize:"14px"},children:e.note||"\u2014"})]},`${e.name}-${e.idNumber||"no-id"}-${t}`)))})]})})]}),o.isSigned&&o.signature&&(0,a.jsxs)("div",{className:"receipt-signature mt-4",style:{padding:"16px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)"},children:[(0,a.jsxs)("h6",{style:{marginBottom:"12px",color:"rgba(255, 255, 255, 0.9)"},children:[(0,a.jsx)("i",{className:"fas fa-signature me-2",style:{color:"#64b5f6"}}),"\u05d7\u05ea\u05d9\u05de\u05d4 \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05ea:"]}),(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px",maxHeight:"150px",overflow:"hidden"},children:(0,a.jsx)("img",{src:o.signature,alt:"\u05d7\u05ea\u05d9\u05de\u05d4 \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05ea",style:{maxWidth:"100%",maxHeight:"120px",objectFit:"contain"}})})]}),(0,a.jsxs)("div",{className:"modal-actions mt-4",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",paddingTop:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[d&&u&&(0,a.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:()=>{u(),c()},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-edit"}),"\u05e2\u05d3\u05db\u05df \u05e7\u05d1\u05dc\u05d4"]}),d&&h&&(0,a.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:()=>{h(),c()},style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-trash"}),"\u05de\u05d7\u05e7 \u05e7\u05d1\u05dc\u05d4"]}),b&&m&&o&&(e=>!(!g||!b)&&e.signedById===g)(o)&&(0,a.jsxs)("button",{type:"button",className:"btn btn-success",onClick:()=>{m(),c()},style:{background:"linear-gradient(135deg, #4ade80 0%, #22c55e 100%)",border:"none",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-signature"}),"\u05d7\u05ea\u05d5\u05dd \u05d5\u05e7\u05d1\u05dc"]}),!b&&p&&(0,a.jsx)("button",{type:"button",className:"btn btn-info",onClick:async()=>{await p()},disabled:f===(null===o||void 0===o?void 0:o.id),style:{background:f===(null===o||void 0===o?void 0:o.id)?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px",opacity:f===(null===o||void 0===o?void 0:o.id)?.7:1},children:f===(null===o||void 0===o?void 0:o.id)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\u05de\u05d5\u05e8\u05d9\u05d3..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-download"}),"\u05d4\u05d5\u05e8\u05d3 PDF"]})})]}),(0,a.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:c,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.9)",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-times"}),"\u05e1\u05d2\u05d5\u05e8"]})]})]})})},su=e=>{let{isOpen:n,onClose:r,onConfirm:i,receiptId:s,isLoading:o=!1}=e;const[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null),h=()=>{c(""),u(null),r()};return(0,a.jsx)(pc,{isOpen:n,onClose:h,title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e7\u05d1\u05dc\u05d4",size:"md",children:(0,a.jsxs)("div",{style:{direction:"rtl",padding:"20px"},children:[(0,a.jsxs)("div",{className:"alert alert-danger",style:{marginBottom:"20px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,a.jsx)("strong",{children:"\u05d0\u05d6\u05d4\u05e8\u05d4:"})," \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5 \u05ea\u05de\u05d7\u05e7 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4 \u05dc\u05e6\u05de\u05d9\u05ea\u05d5\u05ea \u05d5\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05d9\u05d4\u05d9\u05d4 \u05dc\u05e9\u05d7\u05d6\u05e8 \u05d0\u05d5\u05ea\u05d4."]}),(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"\u05de\u05d6\u05d4\u05d4 \u05e7\u05d1\u05dc\u05d4:"})," ",s]}),(0,a.jsx)("p",{children:"\u05d4\u05d0\u05dd \u05d0\u05ea/\u05d4 \u05d1\u05d8\u05d5\u05d7/\u05d4 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05e7\u05d1\u05dc\u05d4 \u05d6\u05d5?"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"\u05de\u05d7\u05e7"===l.trim()?(u(null),i()):u('\u05d9\u05e9 \u05dc\u05d4\u05e7\u05dc\u05d9\u05d3 "\u05de\u05d7\u05e7" \u05d1\u05d3\u05d9\u05d5\u05e7 \u05db\u05d3\u05d9 \u05dc\u05d0\u05e9\u05e8 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4')},children:[(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsxs)("label",{className:"form-label required",children:["\u05d0\u05e0\u05d0 \u05d4\u05e7\u05dc\u05d3/\u05d9 ",(0,a.jsx)("strong",{children:'"\u05de\u05d7\u05e7"'})," \u05db\u05d3\u05d9 \u05dc\u05d0\u05e9\u05e8 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4:"]}),(0,a.jsx)("input",{type:"text",className:"form-control "+(d?"is-invalid":""),value:l,onChange:e=>{c(e.target.value),d&&u(null)},placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05de\u05d7\u05e7",required:!0,disabled:o,autoFocus:!0}),d&&(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:d})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:h,disabled:o,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-danger",disabled:o||"\u05de\u05d7\u05e7"!==l.trim(),children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"\u05de\u05d5\u05d7\u05e7..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-trash me-2"}),"\u05de\u05d7\u05e7 \u05e7\u05d1\u05dc\u05d4"]})})]})]})]})})},ou=e=>{var n,r,i;let{pendingReceipts:s,onRefresh:o,isAdmin:l,currentUserId:c,signPendingReceipt:d,deleteReceipt:u}=e;const{decrementPendingCount:h,refreshPendingCount:p}=uc(),[f,m]=(0,t.useState)(null),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1),[I,_]=(0,t.useState)(null),[T,R]=(0,t.useState)(1),[A,P]=(0,t.useState)(""),[O,L]=(0,t.useState)(null),[z,D]=(0,t.useState)(null),[M,F]=(0,t.useState)({isOpen:!1,type:"info",message:""}),B=(e,t,n)=>{F({isOpen:!0,type:e,message:t,title:n})},U=e=>!!c&&e.signedById===c,$=e=>{let t="asc";O&&O.key===e&&"asc"===O.direction&&(t="desc"),L({key:e,direction:t})},W=(0,t.useMemo)((()=>{const e=A.toLowerCase().normalize("NFC");let t=s.filter((t=>{var n,r,a,i,s,o;const l=((null===(n=t.createdBy)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase())||"").normalize("NFC"),c=((null===(a=t.signedBy)||void 0===a||null===(i=a.name)||void 0===i?void 0:i.toLowerCase())||"").normalize("NFC"),d=uo(t).toLowerCase().normalize("NFC"),u=ho(t).toLowerCase().normalize("NFC"),h=((null===(s=t.receiptItems)||void 0===s?void 0:s.length)||0).toString(),p=co(t.createdAt),f=((null===(o=t.note)||void 0===o?void 0:o.toLowerCase())||"").normalize("NFC"),m=po(t,e);return l.includes(e)||c.includes(e)||d.includes(e)||u.includes(e)||h.includes(e)||p.includes(e)||f.includes(e)||m}));if(O){const{key:e,direction:n}=O;t=[...t].sort(((t,r)=>{var a,i,s,o,l,c;let d,u;switch(e){case"createdBy":d=(null===(a=t.createdBy)||void 0===a?void 0:a.name)||"",u=(null===(i=r.createdBy)||void 0===i?void 0:i.name)||"";break;case"signedBy":d=(null===(s=t.signedBy)||void 0===s?void 0:s.name)||"",u=(null===(o=r.signedBy)||void 0===o?void 0:o.name)||"";break;case"unit":d=uo(t)||"",u=uo(r)||"";break;case"location":d=ho(t)||"",u=ho(r)||"";break;case"itemCount":d=(null===(l=t.receiptItems)||void 0===l?void 0:l.length)||0,u=(null===(c=r.receiptItems)||void 0===c?void 0:c.length)||0;break;case"createdAt":d=new Date(t.createdAt).getTime(),u=new Date(r.createdAt).getTime();break;case"note":d=t.note||"",u=r.note||"";break;default:return 0}return fo(d,u,n)}))}return t}),[s,A,O]),{paginatedItems:H,totalPages:q}=yo(W,T,Zs),V=()=>{b(!1),y(!1),w(!1),m(null),k(""),_(null)};return 0===s.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("i",{className:"fas fa-clock"}),(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea"}),(0,a.jsx)("p",{children:"\u05db\u05dc \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05e0\u05d7\u05ea\u05de\u05d5 \u05d0\u05d5 \u05e9\u05d0\u05d9\u05df \u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"pending-receipts-list",style:{direction:"rtl"},children:[(0,a.jsx)("div",{className:"management-header-compact",children:(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:A,onChange:e=>(P({target:{value:e}}.target.value),void R(1)),placeholder:"\u05d7\u05e4\u05e9 \u05dc\u05e4\u05d9 \u05de\u05e0\u05e4\u05d9\u05e7, \u05de\u05e7\u05d1\u05dc, \u05d9\u05d7\u05d9\u05d3\u05d4, \u05de\u05d9\u05e7\u05d5\u05dd, \u05d4\u05e2\u05e8\u05d4, \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d0\u05d5 \u05ea\u05d0\u05e8\u05d9\u05da...",resultsCount:W.length,resultsLabel:"\u05e7\u05d1\u05dc\u05d5\u05ea"})})}),(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("createdBy"),"data-sorted":"createdBy"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e0\u05e4\u05d9\u05e7"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("signedBy"),"data-sorted":"signedBy"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e7\u05d1\u05dc"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("unit"),"data-sorted":"unit"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d9\u05d7\u05d9\u05d3\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("location"),"data-sorted":"location"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("itemCount"),"data-sorted":"itemCount"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05db\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("createdAt"),"data-sorted":"createdAt"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("note"),"data-sorted":"note"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d4\u05e2\u05e8\u05d4"})})})]})}),(0,a.jsx)("tbody",{children:H.map(((e,t)=>{var n,r,i;const s=U(e);return(0,a.jsxs)("tr",{className:"unified-table-row",onClick:()=>{D(e)},style:{cursor:"pointer",opacity:l||s?1:.6},title:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd \u05d5\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea",children:[(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(n=e.createdBy)||void 0===n?void 0:n.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:(null===(r=e.signedBy)||void 0===r?void 0:r.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"})})}),(0,a.jsx)("td",{className:"unified-table-cell",children:uo(e)}),(0,a.jsx)("td",{className:"unified-table-cell",children:ho(e)}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(i=e.receiptItems)||void 0===i?void 0:i.length)||0}),(0,a.jsx)("td",{className:"unified-table-cell",children:co(e.createdAt)}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.note?(0,a.jsx)("span",{title:e.note,style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block"},children:e.note}):(0,a.jsx)("span",{className:"receipt-note-placeholder",children:"\u2014"})})]},e.id)}))})]})}),q>1&&(0,a.jsx)(vc,{currentPage:T,totalPages:q,onPageChange:R})]}),(0,a.jsx)(iu,{receipt:z,isOpen:!!z,onClose:()=>D(null),isAdmin:l,onUpdate:z&&l?()=>(m(z),void y(!0)):void 0,onDelete:z&&l?()=>(m(z),void w(!0)):void 0,onSign:z&&U(z)?()=>{var e;U(e=z)?(m(e),b(!0),k(""),_(null)):B("error","\u05d0\u05d9\u05df \u05dc\u05da \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05d7\u05ea\u05d5\u05dd \u05e2\u05dc \u05e7\u05d1\u05dc\u05d4 \u05d6\u05d5. \u05d4\u05e7\u05d1\u05dc\u05d4 \u05de\u05d9\u05d5\u05e2\u05d3\u05ea \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d7\u05e8.")}:void 0,currentUserId:c,isPendingReceipt:!0}),(0,a.jsx)(pc,{isOpen:g,onClose:V,title:`\u05d7\u05ea\u05d9\u05de\u05d4 \u05e2\u05dc \u05e7\u05d1\u05dc\u05d4 #${null===f||void 0===f?void 0:f.id}`,size:"lg",children:(0,a.jsxs)("div",{className:"receipts-modal",style:{direction:"rtl",padding:"20px"},children:[I&&(0,a.jsx)("div",{className:"alert alert-danger",children:I}),(0,a.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,a.jsxs)("h5",{style:{color:"#ffffff",marginBottom:"20px",fontSize:"20px",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,a.jsx)("i",{className:"fas fa-receipt",style:{color:"#64b5f6",fontSize:"22px"}}),"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05e7\u05d1\u05dc\u05d4 \u05dc\u05d7\u05ea\u05d9\u05de\u05d4"]}),f&&(0,a.jsxs)("div",{className:"receipt-summary-card",style:{border:"2px solid rgba(100, 181, 246, 0.3)",borderRadius:"16px",padding:"24px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",marginBottom:"24px",backdropFilter:"blur(15px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},children:[(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"24px"},children:[(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-hashtag",style:{marginLeft:"6px"}}),"\u05de\u05d6\u05d4\u05d4 \u05e7\u05d1\u05dc\u05d4"]}),(0,a.jsxs)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#64b5f6"},children:["#",f.id]})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-boxes",style:{marginLeft:"6px"}}),'\u05e1\u05d4"\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd']}),(0,a.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#4ade80"},children:(null===(n=f.receiptItems)||void 0===n?void 0:n.length)||0})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(168, 85, 247, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-user",style:{marginLeft:"6px"}}),"\u05de\u05e0\u05e4\u05d9\u05e7"]}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#a855f7"},children:(null===(r=f.createdBy)||void 0===r?void 0:r.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(245, 101, 101, 0.15) 0%, rgba(245, 101, 101, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(245, 101, 101, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-user-check",style:{marginLeft:"6px"}}),"\u05de\u05e7\u05d1\u05dc"]}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#f56565"},children:(null===(i=f.signedBy)||void 0===i?void 0:i.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(251, 191, 36, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(251, 191, 36, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-building",style:{marginLeft:"6px"}}),"\u05d9\u05d7\u05d9\u05d3\u05d4"]}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#fbbf24"},children:uo(f)})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(14, 165, 233, 0.15) 0%, rgba(14, 165, 233, 0.05) 100%)",padding:"16px",borderRadius:"12px",border:"1px solid rgba(14, 165, 233, 0.2)",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-map-marker-alt",style:{marginLeft:"6px"}}),"\u05de\u05d9\u05e7\u05d5\u05dd"]}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#0ea5e9"},children:ho(f)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{margin:"0 0 20px 0",fontWeight:"700",fontSize:"18px",color:"#ffffff",display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",background:"linear-gradient(135deg, rgba(100, 181, 246, 0.2) 0%, rgba(100, 181, 246, 0.1) 100%)",borderRadius:"12px",border:"1px solid rgba(100, 181, 246, 0.3)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:[(0,a.jsx)("i",{className:"fas fa-list-ul",style:{color:"#64b5f6",fontSize:"20px"}}),"\u05e8\u05e9\u05d9\u05de\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05e7\u05d1\u05dc\u05d4"]}),(0,a.jsx)("div",{className:"items-grid",style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.receiptItems&&f.receiptItems.length>0?f.receiptItems.reduce(((e,t)=>{var n,r,a;const i=(null===(n=t.item)||void 0===n||null===(r=n.itemName)||void 0===r?void 0:r.name)||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2";if(!(null===(a=t.item)||void 0===a||!a.requiresReporting))e.push({name:i,items:[t],count:1,requiresReporting:!0});else{const n=e.find((e=>e.name===i&&!e.requiresReporting));n?(n.items.push(t),n.count++):e.push({name:i,items:[t],count:1,requiresReporting:!1})}return e}),[]).map(((e,t)=>{var n,r;return(0,a.jsxs)("div",{className:"receipt-item-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"12px",backdropFilter:"blur(10px)"},children:[(0,a.jsxs)("div",{style:{flex:1},children:[(0,a.jsxs)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-box me-2",style:{color:"#64b5f6"}}),e.name,e.count>1&&(0,a.jsxs)("span",{className:"quantity-badge",style:{background:"linear-gradient(135deg, #4caf50, #388e3c)",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",marginRight:"8px"},children:["\u05db\u05de\u05d5\u05ea: ",e.count]})]}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:e.requiresReporting?e.items.map(((e,t)=>{var n;return(0,a.jsx)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:(null===(n=e.item)||void 0===n?void 0:n.idNumber)&&(0,a.jsxs)("span",{children:[(0,a.jsx)("i",{className:"fas fa-hashtag me-1"}),"\u05de\u05e1\u05e4\u05e8 \u05e6': ",e.item.idNumber]})},t)})):(null===(n=e.items[0])||void 0===n||null===(r=n.item)||void 0===r?void 0:r.idNumber)&&(0,a.jsxs)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:[(0,a.jsx)("i",{className:"fas fa-hashtag me-1"}),"\u05de\u05e1\u05e4\u05e8 \u05e6': ",e.items[0].item.idNumber,e.count>1&&" (\u05d5\u05e2\u05d5\u05d3)"]})})]}),(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsxs)("span",{className:"cipher-badge "+(e.requiresReporting?"cipher-yes":"cipher-no"),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",background:e.requiresReporting?"linear-gradient(135deg, #f44336, #d32f2f)":"linear-gradient(135deg, #4caf50, #388e3c)",color:"white"},children:["\u05e6\u05d5\u05e4\u05df: ",e.requiresReporting?"\u05db\u05df":"\u05dc\u05d0"]})})]},`${e.name}-${t}`)})):(0,a.jsxs)("div",{className:"no-items-message",style:{textAlign:"center",padding:"40px 20px",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px",color:"rgba(255, 255, 255, 0.8)"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle fa-2x mb-3",style:{color:"#f59e0b"}}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold"},children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e2\u05d1\u05d5\u05e8 \u05e7\u05d1\u05dc\u05d4 \u05d6\u05d5"})]})})]})]})]}),(0,a.jsx)("div",{style:{marginBottom:"32px"},children:(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",border:"2px solid rgba(100, 181, 246, 0.3)",borderRadius:"16px",padding:"24px",backdropFilter:"blur(15px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},children:[(0,a.jsxs)("label",{className:"form-label required",style:{fontSize:"18px",fontWeight:"700",color:"#64b5f6",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-signature",style:{color:"#64b5f6",fontSize:"20px"}}),"\u05d7\u05ea\u05d9\u05de\u05d4 \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e7\u05d1\u05dc\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(100, 181, 246, 0.1) 0%, rgba(100, 181, 246, 0.05) 100%)",border:"2px dashed rgba(100, 181, 246, 0.4)",borderRadius:"16px",padding:"24px",textAlign:"center",transition:"all 0.3s ease",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,a.jsxs)("div",{style:{marginBottom:"16px",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",fontWeight:"500"},children:[(0,a.jsx)("i",{className:"fas fa-pen-fancy me-2",style:{color:"#64b5f6"}}),"\u05d0\u05e0\u05d0 \u05d7\u05ea\u05de\u05d5 \u05d1\u05de\u05e1\u05d2\u05e8\u05ea \u05d6\u05d5 \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e7\u05d1\u05dc\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"]}),(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",padding:"8px",margin:"0 auto",maxWidth:"100%",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)"},children:(0,a.jsx)(ad,{onSave:k})}),(0,a.jsxs)("div",{style:{marginTop:"16px",fontSize:"13px",color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle me-1",style:{color:"#64b5f6"}}),"\u05d4\u05d7\u05ea\u05d9\u05de\u05d4 \u05de\u05d4\u05d5\u05d5\u05d4 \u05d0\u05d9\u05e9\u05d5\u05e8 \u05d7\u05d5\u05e7\u05d9 \u05e2\u05dc \u05e7\u05d1\u05dc\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05e8\u05e9\u05d5\u05de\u05d9\u05dd \u05dc\u05e2\u05d9\u05dc"]})]})]})}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:V,disabled:N,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"button",className:"btn-sign",onClick:async()=>{if(f&&j){S(!0),_(null);try{await d(f.id,{signature:j})&&(h(f.id),b(!1),m(null),k(""),o(),await p())}catch(e){_(e instanceof Error?e.message:"Failed to sign receipt")}finally{S(!1)}}else _("\u05e0\u05d3\u05e8\u05e9\u05ea \u05d7\u05ea\u05d9\u05de\u05d4")},disabled:N||!j,children:N?"\u05d7\u05d5\u05ea\u05dd...":"\u05d7\u05ea\u05d5\u05dd \u05d5\u05e7\u05d1\u05dc"})]})]})}),v&&f&&(0,a.jsx)(pc,{isOpen:v,onClose:V,title:`\u05e2\u05d3\u05db\u05d5\u05df \u05e7\u05d1\u05dc\u05d4 #${f.id}`,size:"lg",children:(0,a.jsx)(Uc,{originalReceipt:f,onSuccess:()=>{V(),o()},onCancel:V})}),x&&f&&(0,a.jsx)(su,{isOpen:x,onClose:V,onConfirm:async()=>{if(f){E(!0);try{await u(f.id)&&(h(f.id),V(),o(),B("success","\u05d4\u05e7\u05d1\u05dc\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),await p())}catch(I){B("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4")}finally{E(!1)}}},receiptId:f.id,isLoading:C}),(0,a.jsx)(bc,{isOpen:M.isOpen,onClose:()=>{F((e=>({...e,isOpen:!1})))},type:M.type,message:M.message,title:M.title})]})},lu=(0,t.forwardRef)(((e,n)=>{let{userProfile:r,isAdmin:i}=e;const{receipts:s,pendingReceipts:o,deleteReceipt:l,fetchReceipts:c,signPendingReceipt:d}=Ro(),[u,h]=(0,t.useState)(1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[k,N]=(0,t.useState)(null),[S,C]=(0,t.useState)("create"),[E,I]=(0,t.useState)("signed"),[_,T]=(0,t.useState)({isOpen:!1,message:"",type:"error"}),R=[{id:"signed",label:i?"\u05db\u05dc \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05d7\u05ea\u05d5\u05de\u05d5\u05ea":"\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05de\u05d9\u05e7\u05d5\u05dd \u05e9\u05dc\u05d9",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 21l1.5-1.5L6 21l1.5-1.5L9 21l1.5-1.5L12 21l1.5-1.5L15 21l1.5-1.5L18 21l1.5-1.5L21 21V3l-1.5 1.5L18 3l-1.5 1.5L15 3l-1.5 1.5L12 3L10.5 4.5 9 3 7.5 4.5 6 3 4.5 4.5 3 3v18z"})})},{id:"pending",label:i?"\u05db\u05dc \u05d4\u05e7\u05d1\u05dc\u05d5\u05ea \u05d4\u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea":"\u05e7\u05d1\u05dc\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea \u05d1\u05de\u05d9\u05e7\u05d5\u05dd \u05e9\u05dc\u05d9",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.7L16.2,16.2Z"})})}];(0,t.useImperativeHandle)(n,(()=>({switchToPendingTab:()=>{I("pending"),h(1)}})),[]);const[A,P]=(0,t.useState)(""),[O,L]=(0,t.useState)(null),[z,D]=(0,t.useState)(null),M=(0,t.useMemo)((()=>i?s:s.filter((e=>{var t,n,a,i;const s=null===(t=e.signedBy)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.name,o=null===(a=e.createdBy)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.name,l=r.location;return s===l||o===l}))),[s,i,r.location]),F=(0,t.useMemo)((()=>i?o:o.filter((e=>{var t,n,a,i;const s=null===(t=e.signedBy)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.name,o=null===(a=e.createdBy)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.name,l=r.location;return s===l||o===l}))),[o,i,r.location]),B=e=>{let t="asc";O&&O.key===e&&"asc"===O.direction&&(t="desc"),L({key:e,direction:t})},U=(0,t.useMemo)((()=>{const e=A.toLowerCase().normalize("NFC");let t=M.filter((t=>{var n,r,a,i,s,o;const l=((null===(n=t.createdBy)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase())||"").normalize("NFC"),c=((null===(a=t.signedBy)||void 0===a||null===(i=a.name)||void 0===i?void 0:i.toLowerCase())||"").normalize("NFC"),d=uo(t).toLowerCase().normalize("NFC"),u=ho(t).toLowerCase().normalize("NFC"),h=((null===(s=t.receiptItems)||void 0===s?void 0:s.length)||0).toString(),p=co(t.updatedAt.toString()).normalize("NFC"),f=((null===(o=t.note)||void 0===o?void 0:o.toLowerCase())||"").normalize("NFC"),m=po(t,e);return l.includes(e)||c.includes(e)||d.includes(e)||u.includes(e)||h.includes(e)||p.includes(e)||f.includes(e)||m}));if(O){const{key:e,direction:n}=O;t=[...t].sort(((t,r)=>{var a,i,s,o,l,c;let d,u;switch(e){case"createdBy":d=(null===(a=t.createdBy)||void 0===a?void 0:a.name)||"",u=(null===(i=r.createdBy)||void 0===i?void 0:i.name)||"";break;case"signedBy":d=(null===(s=t.signedBy)||void 0===s?void 0:s.name)||"",u=(null===(o=r.signedBy)||void 0===o?void 0:o.name)||"";break;case"unit":d=uo(t)||"",u=uo(r)||"";break;case"location":d=ho(t)||"",u=ho(r)||"";break;case"itemCount":d=(null===(l=t.receiptItems)||void 0===l?void 0:l.length)||0,u=(null===(c=r.receiptItems)||void 0===c?void 0:c.length)||0;break;case"note":d=t.note||"",u=r.note||"";break;case"updatedAt":d=new Date(t.updatedAt).getTime(),u=new Date(r.updatedAt).getTime();break;default:return 0}return fo(d,u,n)}))}return t}),[M,A,O]),{paginatedItems:$,totalPages:W}=yo(U,u,Zs),H=async()=>{await c()},q=()=>{f(null),C("create"),g(!0)},V=()=>{f(null),g(!1),v(!1),x(!1)};return r.location?(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsx)(yc,{tabs:R,activeTab:E,onTabChange:e=>{I(e),h(1)},variant:"primary",size:"md"}),(0,a.jsx)("div",{className:"tab-content",children:(()=>{switch(E){case"signed":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:A,onChange:e=>(P({target:{value:e}}.target.value),void h(1)),placeholder:"\u05d7\u05e4\u05e9 \u05dc\u05e4\u05d9 \u05de\u05e0\u05e4\u05d9\u05e7, \u05de\u05e7\u05d1\u05dc, \u05d9\u05d7\u05d9\u05d3\u05d4, \u05de\u05d9\u05e7\u05d5\u05dd, \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd, \u05d4\u05e2\u05e8\u05d4 \u05d0\u05d5 \u05ea\u05d0\u05e8\u05d9\u05da...",resultsCount:U.length,resultsLabel:"\u05e7\u05d1\u05dc\u05d5\u05ea"})}),i&&(0,a.jsx)("div",{className:"management-action-section",children:(0,a.jsxs)("button",{onClick:q,className:"btn btn-primary unified-action-btn",style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"500",padding:"10px 16px",borderRadius:"8px",border:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(99, 102, 241, 0.15)",transition:"all 0.2s ease"},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{fontSize:"12px"}}),(0,a.jsx)("span",{children:"\u05e6\u05d5\u05e8 \u05e7\u05d1\u05dc\u05d4 \u05d7\u05d3\u05e9\u05d4"})]})})]}),0===$.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("i",{className:"fas fa-receipt"}),(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05e7\u05d1\u05dc\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4"}),(0,a.jsx)("p",{children:i?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e7\u05d1\u05dc\u05d5\u05ea \u05d1\u05de\u05e2\u05e8\u05db\u05ea":"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e7\u05d1\u05dc\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 \u05d4\u05de\u05d9\u05e7\u05d5\u05dd \u05e9\u05dc\u05da"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("createdBy"),"data-sorted":"createdBy"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e0\u05e4\u05d9\u05e7"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("signedBy"),"data-sorted":"signedBy"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e7\u05d1\u05dc"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("unit"),"data-sorted":"unit"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d9\u05d7\u05d9\u05d3\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("location"),"data-sorted":"location"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("itemCount"),"data-sorted":"itemCount"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05db\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("updatedAt"),"data-sorted":"updatedAt"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d7\u05ea\u05d9\u05de\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>B("note"),"data-sorted":"note"===(null===O||void 0===O?void 0:O.key),children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d4\u05e2\u05e8\u05d4"})})})]})}),(0,a.jsx)("tbody",{children:$.map((e=>{var t,n,r;return(0,a.jsxs)("tr",{className:"unified-table-row",onClick:()=>D(e),style:{cursor:"pointer"},children:[(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(t=e.createdBy)||void 0===t?void 0:t.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(n=e.signedBy)||void 0===n?void 0:n.name)||"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}),(0,a.jsx)("td",{className:"unified-table-cell",children:uo(e)}),(0,a.jsx)("td",{className:"unified-table-cell",children:ho(e)}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(r=e.receiptItems)||void 0===r?void 0:r.length)||0}),(0,a.jsx)("td",{className:"unified-table-cell",children:co(e.updatedAt.toString())}),(0,a.jsx)("td",{className:"unified-table-cell",style:{maxWidth:"200px"},children:e.note?(0,a.jsx)("span",{title:e.note,style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.note}):(0,a.jsx)("span",{style:{color:"var(--color-text-muted)",fontStyle:"italic"},children:"\u05dc\u05dc\u05d0 \u05d4\u05e2\u05e8\u05d4"})})]},e.id)}))})]})}),W>1&&(0,a.jsx)(vc,{currentPage:u,totalPages:W,onPageChange:h})]})]});case"pending":return(0,a.jsx)(ou,{pendingReceipts:F,onRefresh:H,isAdmin:i,currentUserId:null===r||void 0===r?void 0:r.id,signPendingReceipt:d,deleteReceipt:l});default:return null}})()}),(0,a.jsx)(iu,{receipt:z,isOpen:!!z,onClose:()=>D(null),isAdmin:i,onUpdate:z?()=>(f(z),C("update"),void v(!0)):void 0,onDelete:z?()=>(f(z),void x(!0)):void 0,onDownload:z?()=>(async e=>{try{var t,n,r,a;N(e.id);const i=await io.downloadReceiptPDF(e.id),s=window.URL.createObjectURL(i),o=document.createElement("a");o.href=s;const l=new Date(e.createdAt).toLocaleDateString("he-IL").replace(/\//g,"-"),c=(null===(t=e.createdBy)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.replace(/\s+/g,"-"))||"\u05dc\u05d0-\u05d9\u05d3\u05d5\u05e2",d=(null===(r=e.signedBy)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.replace(/\s+/g,"-"))||"\u05dc\u05d0-\u05d9\u05d3\u05d5\u05e2";o.download=`\u05e7\u05d1\u05dc\u05d4-${l}-${c}-\u05d0\u05dc-${d}.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s)}catch(o){var i,s;if(console.error("Error downloading receipt PDF:",o),o.response){const e=o.response.status;let t="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4";404===e?t="\u05e7\u05d1\u05dc\u05d4 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea":401===e||403===e?t="\u05d0\u05d9\u05df \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4":500===e&&(t="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05e4\u05e0\u05d9\u05de\u05d9\u05ea \u05d1\u05e9\u05e8\u05ea \u05d1\u05e2\u05ea \u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4"),T({isOpen:!0,message:t,type:"error"})}else"ECONNABORTED"===o.code||null!==(i=o.message)&&void 0!==i&&i.includes("timeout")?T({isOpen:!0,message:"\u05e4\u05d2 \u05d4\u05d6\u05de\u05df \u05d4\u05e7\u05e6\u05d5\u05d1 \u05dc\u05d7\u05d9\u05d1\u05d5\u05e8 - \u05d4\u05e7\u05d1\u05dc\u05d4 \u05e2\u05e9\u05d5\u05d9\u05d4 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05de\u05d3\u05d9",type:"error"}):null!==(s=o.message)&&void 0!==s&&s.includes("Network Error")?T({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea - \u05d0\u05e0\u05d0 \u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8",type:"error"}):T({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4 \u05d1\u05d4\u05d5\u05e8\u05d3\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4",type:"error"})}finally{N(null)}})(z):void 0,downloadingReceiptId:k}),m&&(0,a.jsx)(pc,{isOpen:m,onClose:V,children:"create"===S?(0,a.jsx)(Uc,{onSuccess:()=>{V(),H()},onCancel:V}):null}),b&&p&&(0,a.jsx)(pc,{isOpen:b,onClose:V,children:(0,a.jsx)(Uc,{originalReceipt:p,onSuccess:()=>{V(),H()},onCancel:V})}),y&&p&&(0,a.jsx)(su,{isOpen:y,onClose:V,onConfirm:async()=>{if(p){j(!0);try{await l(p.id)&&V()}catch(e){}finally{j(!1)}}},receiptId:p.id,isLoading:w}),(0,a.jsx)(bc,{isOpen:_.isOpen,onClose:()=>T({isOpen:!1,message:"",type:"error"}),message:_.message,type:_.type})]}):(0,a.jsx)("div",{style:{padding:"20px"},children:(0,a.jsxs)("div",{className:"alert alert-warning",children:[(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsx)("p",{children:"\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da \u05dc\u05d0 \u05e9\u05d5\u05d9\u05d9\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05db\u05d3\u05d9 \u05dc\u05e9\u05d9\u05d9\u05da \u05d0\u05d5\u05ea\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd."})]})})})),cu=lu,du=["\u05d8\u05d5\u05e8\u05d0\u05d9",'\u05e8\u05d1"\u05d8',"\u05e1\u05de\u05dc",'\u05e1\u05de"\u05e8','\u05e8\u05e1"\u05dc','\u05e8\u05e1"\u05e8','\u05e8\u05e1"\u05dd','\u05e8\u05e1"\u05d1','\u05e8\u05e0"\u05d2','\u05e7\u05de"\u05d0','\u05e7\u05d0"\u05d1','\u05e7\u05d0"\u05dd','\u05e1\u05d2"\u05de',"\u05e1\u05d2\u05df","\u05e1\u05e8\u05df",'\u05e8\u05e1"\u05df','\u05e1\u05d0"\u05dc','\u05d0\u05dc"\u05de','\u05ea\u05d0"\u05dc',"\u05d0\u05dc\u05d5\u05e3",'\u05e8\u05d0"\u05dc'],uu=e=>{let{user:n,isAdmin:r=!1,onSuccess:i,onCancel:s}=e;const{createUser:o,updateUser:l}=Co(),{locations:c,loading:d,loadLocations:u}=lc(),[h,p]=(0,t.useState)({name:"",personalNumber:0,phoneNumber:"",locationId:"",rank:"",isAdmin:!1,isAdminInUnit:!1}),[f,m]=(0,t.useState)({}),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)({isOpen:!1,type:"info",message:""}),N=(e,t,n)=>{k({isOpen:!0,type:e,message:t,title:n})},S=c;(0,t.useEffect)((()=>{u()}),[u]),(0,t.useEffect)((()=>{if(n){const e=c.find((e=>e.name===n.location));p({name:n.name,personalNumber:n.personalNumber,phoneNumber:n.phoneNumber,locationId:(null===e||void 0===e?void 0:e.id)||"",rank:n.rank,isAdmin:n.isAdmin,isAdminInUnit:n.isAdminInUnit||!1})}}),[n,c]);const C=(e,t)=>{p((n=>({...n,[e]:"name"===e?t:"personalNumber"===e?""===t?0:parseInt(t,10)||0:"isAdmin"===e||"isAdminInUnit"===e?t:vo(t)}))),f[e]&&m((t=>({...t,[e]:void 0})))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"32px",backdropFilter:"blur(10px)",maxWidth:"600px",margin:"0 auto"},children:(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return bo(h.name)||(e.name="\u05e9\u05dd \u05d7\u05d5\u05d1\u05d4"),go(h.personalNumber)||(e.personalNumber="\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d1\u05d3\u05d9\u05d5\u05e7 7 \u05e1\u05e4\u05e8\u05d5\u05ea"),mo(h.phoneNumber)||(e.phoneNumber="\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df"),!r||h.locationId&&bo(h.locationId)||(e.locationId="\u05de\u05d9\u05e7\u05d5\u05dd \u05d7\u05d5\u05d1\u05d4"),bo(h.rank)||(e.rank="\u05d3\u05e8\u05d2\u05d4 \u05d7\u05d5\u05d1\u05d4"),m(e),0===Object.keys(e).length})()){b(!0);try{var t,a;let e;if(null!==n&&void 0!==n&&n.id){const t={name:h.name,personalNumber:h.personalNumber,phoneNumber:h.phoneNumber,rank:h.rank};r&&h.locationId&&(t.locationId=h.locationId),r&&void 0!==h.isAdmin&&(t.isAdmin=h.isAdmin),r&&void 0!==h.isAdminInUnit&&(t.isAdminInUnit=h.isAdminInUnit),e=await l(n.id,t)}else{const t={name:h.name,personalNumber:h.personalNumber,phoneNumber:h.phoneNumber,rank:h.rank};r&&h.locationId&&(t.locationId=h.locationId),e=await o(t)}e.success?i():409===(null===(t=e.error)||void 0===t?void 0:t.status)?y(!0):403===(null===(a=e.error)||void 0===a?void 0:a.status)?w(!0):N("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9")}catch(s){N("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9")}finally{b(!1)}}},children:[(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05e9\u05dd ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsx)("input",{type:"text",value:h.name,onChange:e=>C("name",e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid "+(f.name?"#ef4444":"rgba(255, 255, 255, 0.2)"),borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor=f.name?"#ef4444":"rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),f.name&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),f.name]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsx)("input",{type:"number",value:h.personalNumber||"",onChange:e=>{const t=e.target.value;(""===t||/^[0-9]{1,7}$/.test(t)&&t.length<=7)&&C("personalNumber",t)},onInput:e=>{const t=e.target;t.value.length>7&&(t.value=t.value.slice(0,7))},placeholder:"\u05d4\u05d6\u05df 7 \u05e1\u05e4\u05e8\u05d5\u05ea",min:"1000000",max:"9999999",required:!0,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid "+(f.personalNumber?"#ef4444":"rgba(255, 255, 255, 0.2)"),borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",textAlign:"right",direction:"rtl"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor=f.personalNumber?"#ef4444":"rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),f.personalNumber&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),f.personalNumber]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsx)("input",{type:"text",value:h.phoneNumber,onChange:e=>C("phoneNumber",e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid "+(f.phoneNumber?"#ef4444":"rgba(255, 255, 255, 0.2)"),borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor=f.phoneNumber?"#ef4444":"rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),f.phoneNumber&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),f.phoneNumber]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"var(--color-text)",marginBottom:"8px"},children:["\u05d3\u05e8\u05d2\u05d4 ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsxs)("select",{value:h.rank,onChange:e=>C("rank",e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",background:"var(--color-surface)",border:"1px solid "+(f.rank?"#ef4444":"var(--color-border)"),borderRadius:"8px",color:"var(--color-text)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",appearance:"none",paddingLeft:"16px",cursor:"pointer"},onFocus:e=>{e.target.style.borderColor="var(--color-primary)",e.target.style.background="var(--color-bg-hover)"},onBlur:e=>{e.target.style.borderColor=f.rank?"#ef4444":"var(--color-border)",e.target.style.background="var(--color-surface)"},children:[(0,a.jsx)("option",{value:"",style:{background:"var(--color-surface)",color:"var(--color-text-muted)"},children:"\u05d1\u05d7\u05e8 \u05d3\u05e8\u05d2\u05d4"}),du.map((e=>(0,a.jsx)("option",{value:e,style:{background:"var(--color-surface)",color:"var(--color-text)"},children:e},e)))]}),f.rank&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),f.rank]})]}),r&&(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"var(--color-text)",marginBottom:"8px"},children:"\u05de\u05d9\u05e7\u05d5\u05dd"}),(0,a.jsxs)("select",{value:h.locationId,onChange:e=>C("locationId",e.target.value),disabled:d,style:{width:"100%",padding:"12px 16px",background:"var(--color-surface)",border:"1px solid "+(f.locationId?"#ef4444":"var(--color-border)"),borderRadius:"8px",color:"var(--color-text)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",appearance:"none",paddingLeft:"16px",cursor:"pointer"},onFocus:e=>{e.target.style.borderColor="var(--color-primary)",e.target.style.background="var(--color-bg-hover)"},onBlur:e=>{e.target.style.borderColor=f.locationId?"#ef4444":"var(--color-border)",e.target.style.background="var(--color-surface)"},children:[(0,a.jsx)("option",{value:"",style:{background:"var(--color-surface)",color:"var(--color-text-muted)"},children:"\u05d1\u05d7\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd"}),S.map((e=>(0,a.jsx)("option",{value:e.id,style:{background:"var(--color-surface)",color:"var(--color-text)"},children:e.name},e.id)))]}),f.locationId&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),f.locationId]}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",marginTop:"4px"},children:"\u05e8\u05e7 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05d9\u05db\u05d5\u05dc\u05d9\u05dd \u05dc\u05d4\u05e7\u05e6\u05d5\u05ea \u05de\u05d9\u05e7\u05d5\u05dd \u05dc\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})]}),!r&&n&&n.location&&(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:"\u05de\u05d9\u05e7\u05d5\u05dd \u05e0\u05d5\u05db\u05d7\u05d9"}),(0,a.jsx)("input",{type:"text",value:n.location,disabled:!0,readOnly:!0,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",cursor:"not-allowed"}}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",marginTop:"4px"},children:"\u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05dc\u05e9\u05d9\u05e0\u05d5\u05d9 \u05de\u05d9\u05e7\u05d5\u05dd"})]}),!r&&n&&!n.location&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05))",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)",padding:"16px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"#f59e0b",fontSize:"16px"}}),(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:"\u05dc\u05d0 \u05d4\u05d5\u05e7\u05e6\u05d4 \u05de\u05d9\u05e7\u05d5\u05dd \u05e2\u05d3\u05d9\u05d9\u05df. \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05dc\u05d4\u05e7\u05e6\u05d0\u05ea \u05de\u05d9\u05e7\u05d5\u05dd."})]}),r&&n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{marginBottom:"24px"},children:(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px",transition:"all 0.2s ease"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"12px"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:h.isAdmin||!1,onChange:e=>C("isAdmin",e.target.checked),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid rgba(255, 255, 255, 0.3)",background:h.isAdmin?"linear-gradient(135deg, #ef4444, #dc2626)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:h.isAdmin&&(0,a.jsx)("i",{className:"fas fa-check",style:{color:"white",fontSize:"12px"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"600",fontSize:"14px"},children:"\u05de\u05e0\u05d4\u05dc \u05de\u05e2\u05e8\u05db\u05ea?"}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d4\u05d0\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05d5\u05d0 \u05de\u05e0\u05d4\u05dc \u05de\u05e2\u05e8\u05db\u05ea?"})]})]})})}),(0,a.jsx)("div",{style:{marginBottom:"24px"},children:(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px",transition:"all 0.2s ease"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"12px"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:h.isAdminInUnit||!1,onChange:e=>C("isAdminInUnit",e.target.checked),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid rgba(255, 255, 255, 0.3)",background:h.isAdminInUnit?"linear-gradient(135deg, #3b82f6, #1d4ed8)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:h.isAdminInUnit&&(0,a.jsx)("i",{className:"fas fa-check",style:{color:"white",fontSize:"12px"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"600",fontSize:"14px"},children:"\u05de\u05e0\u05d4\u05dc \u05d9\u05d7\u05d9\u05d3\u05d4?"}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d4\u05d0\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05d5\u05d0 \u05de\u05e0\u05d4\u05dc \u05d1\u05d9\u05d7\u05d9\u05d3\u05d4 \u05e9\u05dc\u05d5?"})]})]})})})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"32px",paddingTop:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,a.jsx)("button",{type:"button",onClick:s,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px 24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.15)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.1)"},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"submit",disabled:g,style:{background:g?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #3b82f6, #1d4ed8)",border:"none",borderRadius:"8px",padding:"12px 24px",color:"white",fontSize:"14px",fontWeight:"600",cursor:g?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:g?"none":"0 4px 16px rgba(59, 130, 246, 0.3)"},children:g?"\u05e9\u05d5\u05de\u05e8...":"\u05e9\u05de\u05d5\u05e8"})]})]})}),(0,a.jsx)(fc,{isOpen:v,onClose:()=>y(!1),title:"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",message:"\u05de\u05e9\u05ea\u05de\u05e9 \u05e2\u05dd \u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea \u05d0\u05d5 \u05e9\u05d0\u05d9\u05df \u05dc\u05da \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05e2\u05d3\u05db\u05d5\u05df.",resolutionMessage:"\u05d1\u05d3\u05d5\u05e7 \u05d0\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea \u05e2\u05dd \u05d0\u05d5\u05ea\u05d5 \u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9.\n\u05d1\u05de\u05d9\u05d3\u05ea \u05d4\u05e6\u05d5\u05e8\u05da, \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05db\u05d3\u05d9 \u05dc\u05e7\u05d1\u05dc \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05de\u05ea\u05d0\u05d9\u05de\u05d5\u05ea.",type:"user"}),(0,a.jsx)(fc,{isOpen:x,onClose:()=>w(!1),title:"\u05e9\u05d2\u05d9\u05d0\u05ea \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea",message:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e1\u05d9\u05e8 \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05de\u05e0\u05d4\u05dc \u05de\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e2\u05dc \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05de\u05e0\u05d4\u05dc \u05d1\u05de\u05e2\u05e8\u05db\u05ea.",resolutionMessage:"\u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05e9\u05d0\u05e8 \u05dc\u05e4\u05d7\u05d5\u05ea \u05de\u05e0\u05d4\u05dc \u05d0\u05d7\u05d3 \u05d1\u05de\u05e2\u05e8\u05db\u05ea. \u05d4\u05d5\u05e1\u05e3 \u05de\u05e0\u05d4\u05dc \u05e0\u05d5\u05e1\u05e3 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e1\u05e8\u05ea \u05d4\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05de\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05e0\u05d5\u05db\u05d7\u05d9.",type:"user"}),(0,a.jsx)(bc,{isOpen:j.isOpen,onClose:()=>{k((e=>({...e,isOpen:!1})))},type:j.type,message:j.message,title:j.title})]})},hu=e=>{let{isAdmin:n=!1}=e;const{users:r,loading:i,error:s,deleteManyUsers:o,refetch:l}=Co(),[c,d]=(0,t.useState)(1),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[b,v]=(0,t.useState)(null),[y,x]=(0,t.useState)({isOpen:!1,message:"",userName:""}),[w,j]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),[k,N]=(0,t.useState)({isOpen:!1,type:"info",message:""}),S=e=>{let t="asc";b&&b.key===e&&"asc"===b.direction&&(t="desc"),v({key:e,direction:t})},C=(()=>{const e=m.toLowerCase().normalize("NFC");let t=r.filter((t=>t.name.toLowerCase().normalize("NFC").includes(e)||t.personalNumber.toString().includes(m)||t.phoneNumber.toLowerCase().normalize("NFC").includes(e)||t.location.toLowerCase().normalize("NFC").includes(e)||t.unit.toLowerCase().normalize("NFC").includes(e)||t.rank.toLowerCase().normalize("NFC").includes(e)||t.isAdmin&&"\u05de\u05e0\u05d4\u05dc".normalize("NFC").includes(e)||!t.isAdmin&&"\u05de\u05e9\u05ea\u05de\u05e9".normalize("NFC").includes(e)));return b&&(t=[...t].sort(((e,t)=>{let n,r;switch(b.key){case"name":n=e.name,r=t.name;break;case"personalNumber":n=e.personalNumber,r=t.personalNumber;break;case"phoneNumber":n=e.phoneNumber,r=t.phoneNumber;break;case"location":n=e.location,r=t.location;break;case"unit":n=e.unit,r=t.unit;break;case"rank":n=e.rank,r=t.rank;break;case"isAdmin":n=e.isAdmin?1:0,r=t.isAdmin?1:0;break;default:return 0}return"string"===typeof n&&"string"===typeof r?"asc"===b.direction?n.localeCompare(r,"he"):r.localeCompare(n,"he"):"asc"===b.direction?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}))),t})(),{paginatedItems:E,totalPages:I}=yo(C,c,Zs),{selectedIds:_,toggleSelection:T,clearSelection:R,selectAll:A,hasSelection:P}=ic({items:C,onSelectionChange:e=>{}}),O=()=>{f(!1),h(null)};return i?(0,a.jsx)(xc,{message:"\u05d8\u05d5\u05e2\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd..."}):s?(0,a.jsx)(hc,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"management-header-compact",children:(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:m,onChange:e=>(g({target:{value:e}}.target.value),d(1),void R()),placeholder:"\u05d7\u05e4\u05e9 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05dc\u05e4\u05d9 \u05e9\u05dd, \u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9, \u05d8\u05dc\u05e4\u05d5\u05df, \u05d3\u05e8\u05d2\u05d4, \u05de\u05d9\u05e7\u05d5\u05dd, \u05de\u05e1\u05d2\u05e8\u05ea \u05d0\u05d5 \u05e1\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9...",resultsCount:C.length,resultsLabel:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})})}),(0,a.jsx)(jc,{selectedCount:_.length,totalCount:E.length,onDelete:_.length>0?async()=>{if(0===_.length)return;const e=r.filter((e=>_.includes(e.id))).map((e=>e.name)).join(", ");if(!window.confirm(`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd?\n\n${e}\n\n(${_.length} \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd)`))return;const t=await o(_);t.success?R():t.isConflict&&t.bulkError?(j({isOpen:!0,message:t.bulkError.message,deletedCount:t.bulkError.deletedCount,totalCount:_.length,errors:t.bulkError.errors}),R()):t.isConflict?x({isOpen:!0,message:t.error||"\u05e9\u05d2\u05d9\u05d0\u05ea \u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",userName:`${_.length} \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd`}):((e,t,n)=>{N({isOpen:!0,type:e,message:t,title:n})})("error",`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ${t.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2\u05d4"}`)}:void 0,onClear:R,onSelectAll:A,isVisible:P,deleteLabel:"\u05de\u05d7\u05e7 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",isDeleting:!1}),(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("name"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd","data-sorted":"name"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05e9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("personalNumber"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9","data-sorted":"personalNumber"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("phoneNumber"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d8\u05dc\u05e4\u05d5\u05df","data-sorted":"phoneNumber"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d8\u05dc\u05e4\u05d5\u05df"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("rank"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d3\u05e8\u05d2\u05d4","data-sorted":"rank"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05d3\u05e8\u05d2\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("unit"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05e1\u05d2\u05e8\u05ea","data-sorted":"unit"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05d2\u05e8\u05ea"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("location"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9\u05e7\u05d5\u05dd","data-sorted":"location"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>S("isAdmin"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9","data-sorted":"isAdmin"===(null===b||void 0===b?void 0:b.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05e1\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:E.map(((e,t)=>(0,a.jsxs)("tr",{className:"unified-table-row selectable "+(_.includes(e.id)?"selected":""),onClick:n=>{n.target.closest(".unified-action-btn")||T(e.id,n,t)},title:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4 \u2022 Ctrl+\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4",children:[(0,a.jsx)("td",{className:"unified-table-cell",children:e.name}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.personalNumber}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.phoneNumber}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.rank}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.unit}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.location}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("span",{className:"unified-badge "+(e.isAdmin?"unified-badge-success":"unified-badge-secondary"),children:e.isAdmin?"\u05de\u05e0\u05d4\u05dc":"\u05de\u05e9\u05ea\u05de\u05e9"})}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("button",{className:"unified-action-btn unified-action-btn-primary",onClick:t=>{t.stopPropagation(),(e=>{h(e),f(!0)})(e)},children:"\u05e2\u05d3\u05db\u05df"})})]},e.id)))})]})}),I>1&&(0,a.jsx)(vc,{currentPage:c,totalPages:I,onPageChange:d}),(0,a.jsx)(pc,{isOpen:p,onClose:O,title:u?"\u05e2\u05d3\u05db\u05df \u05de\u05e9\u05ea\u05de\u05e9":"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d3\u05e9",size:"md",children:(0,a.jsx)(uu,{user:u,isAdmin:n,onSuccess:async()=>{O(),await l()},onCancel:O})}),(0,a.jsx)(fc,{isOpen:y.isOpen,onClose:()=>x({isOpen:!1,message:"",userName:""}),title:`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9 "${y.userName}"`,message:y.message,resolutionMessage:No("user"),type:"user"}),(0,a.jsx)(mc,{isOpen:w.isOpen,onClose:()=>j({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),title:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4 - \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",message:w.message,deletedCount:w.deletedCount,totalCount:w.totalCount,errors:w.errors,type:"user"}),(0,a.jsx)(bc,{isOpen:k.isOpen,onClose:()=>{N((e=>({...e,isOpen:!1})))},type:k.type,message:k.message,title:k.title})]})},pu=e=>{let{item:n,isAdmin:r,onSuccess:i,onCancel:s}=e;const{createItem:o,updateItem:l}=Eo(),{itemNames:c,locations:d,loading:u,loadItemNames:h,loadLocations:p}=lc(),[f,m]=(0,t.useState)({name:"",idNumber:"",note:"",isOperational:!0,requiresReporting:!1,allocatedLocationId:""}),[g,b]=(0,t.useState)(1),[v,y]=(0,t.useState)({}),[x,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)({isOpen:!1,message:"",itemName:""}),[N,S]=(0,t.useState)({isOpen:!1,type:"info",message:""}),C=(e,t,n)=>{S({isOpen:!0,type:e,message:t,title:n})};(0,t.useEffect)((()=>{h(),p()}),[h,p]),(0,t.useEffect)((()=>{var e,t,r;n?(m({name:(null===(e=n.itemName)||void 0===e?void 0:e.name)||"",idNumber:n.idNumber||"",note:n.note||"",isOperational:null===(t=n.isOperational)||void 0===t||t,requiresReporting:null!==(r=n.requiresReporting)&&void 0!==r&&r,allocatedLocationId:n.allocatedLocationId||""}),b(1)):(m({name:"",idNumber:"",note:"",isOperational:!0,requiresReporting:!1,allocatedLocationId:""}),b(1))}),[n]);const E=(e,t)=>{m((n=>({...n,[e]:"note"===e||"name"===e||"allocatedLocationId"===e?t:vo(t)}))),v[e]&&y((t=>({...t,[e]:void 0})))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"32px",backdropFilter:"blur(10px)",maxWidth:"600px",margin:"0 auto"},children:[!n&&!r&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05))",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)",padding:"16px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"#f59e0b",fontSize:"16px"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{style:{color:"rgba(255, 255, 255, 0.9)"},children:"\u05d4\u05e2\u05e8\u05d4:"}),(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.8)",marginRight:"8px"},children:"\u05e8\u05e7 \u05de\u05e0\u05d4\u05dc\u05d9 \u05de\u05e2\u05e8\u05db\u05ea \u05d9\u05db\u05d5\u05dc\u05d9\u05dd \u05dc\u05d9\u05e6\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d7\u05d3\u05e9\u05d9\u05dd."})]})]}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return bo(f.name||"")||(e.name="\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8 \u05d7\u05d5\u05d1\u05d4"),f.requiresReporting&&!bo(f.idNumber||"")&&(e.idNumber="\u05de\u05e1\u05e4\u05e8 \u05e6' \u05d7\u05d5\u05d1\u05d4 \u05e2\u05d1\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05d3\u05d5\u05e8\u05e9\u05d9\u05dd \u05d3\u05d9\u05d5\u05d5\u05d7"),y(e),0===Object.keys(e).length})()){w(!0);try{if(null!==n&&void 0!==n&&n.id){const{quantity:e,...t}=f;t.requiresReporting||delete t.idNumber,""===t.allocatedLocationId&&(t.allocatedLocationId=null);const r=await l(n.id,t);r.success?i():r.isConflict?k({isOpen:!0,message:r.error||"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d3\u05db\u05df \u05e4\u05e8\u05d9\u05d8 \u05d4\u05e7\u05e9\u05d5\u05e8 \u05dc\u05e7\u05d1\u05dc\u05d4 \u05d7\u05ea\u05d5\u05de\u05d4",itemName:f.name||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}):C("error",r.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e4\u05e8\u05d9\u05d8")}else{if(!r)return C("error","\u05e8\u05e7 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05d9\u05db\u05d5\u05dc\u05d9\u05dd \u05dc\u05d9\u05e6\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d7\u05d3\u05e9\u05d9\u05dd"),void w(!1);const e={...f,...!f.requiresReporting&&g>1?{quantity:g}:{}};e.requiresReporting||delete e.idNumber,""===e.allocatedLocationId&&(e.allocatedLocationId=null);const t=await o(e);t.success?(!f.requiresReporting&&g>1&&C("success",`\u05e0\u05d5\u05e6\u05e8\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 ${g} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd`),i()):t.isConflict?k({isOpen:!0,message:t.error||"\u05e4\u05e8\u05d9\u05d8 \u05e2\u05dd \u05de\u05e1\u05e4\u05e8 \u05e6' \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",itemName:f.name||"\u05e4\u05e8\u05d9\u05d8 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}):C("error",t.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8")}}catch(t){C("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8")}finally{w(!1)}}},children:[(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"var(--color-text)",marginBottom:"8px"},children:["\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8 ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsxs)("select",{value:f.name,onChange:e=>E("name",e.target.value),required:!0,disabled:u,style:{width:"100%",padding:"12px 16px",background:"var(--color-surface)",border:"1px solid "+(v.name?"#ef4444":"var(--color-border)"),borderRadius:"8px",color:"var(--color-text)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",appearance:"none",paddingLeft:"16px",cursor:"pointer"},onFocus:e=>{e.target.style.borderColor="var(--color-primary)",e.target.style.background="var(--color-bg-hover)"},onBlur:e=>{e.target.style.borderColor=v.name?"#ef4444":"var(--color-border)",e.target.style.background="var(--color-surface)"},children:[(0,a.jsx)("option",{value:"",style:{background:"var(--color-surface)",color:"var(--color-text-muted)"},children:"\u05d1\u05d7\u05e8 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"}),c.map((e=>(0,a.jsx)("option",{value:e.name,style:{background:"var(--color-surface)",color:"var(--color-text)"},children:e.name},e.id)))]}),v.name&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),v.name]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"var(--color-text)",marginBottom:"8px"},children:"\u05de\u05d9\u05e7\u05d5\u05dd \u05de\u05d5\u05e7\u05e6\u05d4 (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)"}),(0,a.jsxs)("select",{value:f.allocatedLocationId||"",onChange:e=>E("allocatedLocationId",e.target.value),disabled:u,style:{width:"100%",padding:"12px 16px",background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"8px",color:"var(--color-text)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",appearance:"none",paddingLeft:"16px",cursor:"pointer"},onFocus:e=>{e.target.style.borderColor="var(--color-primary)",e.target.style.background="var(--color-bg-hover)"},onBlur:e=>{e.target.style.borderColor="var(--color-border)",e.target.style.background="var(--color-surface)"},children:[(0,a.jsx)("option",{value:"",style:{background:"var(--color-surface)",color:"var(--color-text-muted)"},children:"\u05dc\u05dc\u05d0 \u05de\u05d9\u05e7\u05d5\u05dd \u05de\u05d5\u05e7\u05e6\u05d4"}),d.map((e=>(0,a.jsx)("option",{value:e.id,style:{background:"var(--color-surface)",color:"var(--color-text)"},children:e.name},e.id)))]})]}),(0,a.jsx)("div",{style:{marginBottom:"24px"},children:(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px",transition:"all 0.2s ease"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"12px"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:f.isOperational,onChange:e=>m((t=>({...t,isOperational:e.target.checked}))),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid rgba(255, 255, 255, 0.3)",background:f.isOperational?"linear-gradient(135deg, #10b981, #059669)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:f.isOperational&&(0,a.jsx)("i",{className:"fas fa-check",style:{color:"white",fontSize:"12px"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"600",fontSize:"14px"},children:"\u05ea\u05e7\u05d9\u05df?"}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d4\u05d0\u05dd \u05d4\u05e4\u05e8\u05d9\u05d8 \u05ea\u05e7\u05d9\u05df?"})]})]})})}),(0,a.jsx)("div",{style:{marginBottom:"24px"},children:(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px",transition:"all 0.2s ease"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"12px"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:f.requiresReporting,onChange:e=>m((t=>({...t,requiresReporting:e.target.checked,idNumber:e.target.checked?t.idNumber:""}))),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid rgba(255, 255, 255, 0.3)",background:f.requiresReporting?"linear-gradient(135deg, #3b82f6, #1d4ed8)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:f.requiresReporting&&(0,a.jsx)("i",{className:"fas fa-check",style:{color:"white",fontSize:"12px"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontWeight:"600",fontSize:"14px"},children:"\u05e6\u05d5\u05e4\u05df?"}),(0,a.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px"},children:"\u05d4\u05d0\u05dd \u05d4\u05e4\u05e8\u05d9\u05d8 \u05d3\u05d5\u05e8\u05e9 \u05d3\u05d9\u05d5\u05d5\u05d7?"})]})]})})}),f.requiresReporting&&(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:["\u05de\u05e1\u05e4\u05e8 \u05e6' ",(0,a.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,a.jsx)("input",{type:"text",value:f.idNumber||"",onChange:e=>E("idNumber",e.target.value),placeholder:"\u05d4\u05d6\u05df \u05de\u05e1\u05e4\u05e8 \u05e6'",required:f.requiresReporting,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid "+(v.idNumber?"#ef4444":"rgba(255, 255, 255, 0.2)"),borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor=v.idNumber?"#ef4444":"rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),v.idNumber&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),v.idNumber]})]}),!n&&!f.requiresReporting&&(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:"\u05db\u05de\u05d5\u05ea \u05dc\u05d9\u05e6\u05d9\u05e8\u05d4"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("input",{type:"number",value:g,onChange:e=>{const t=parseInt(e.target.value)||1;b(Math.max(1,Math.min(100,t)))},min:"1",max:"100",placeholder:"1",style:{width:"100px",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",textAlign:"center",direction:"ltr"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor="rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),(0,a.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd (1-100)"})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px"},children:"\u05d4\u05e2\u05e8\u05d4"}),(0,a.jsx)("textarea",{value:f.note||"",onChange:e=>E("note",e.target.value),rows:3,style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid "+(v.note?"#ef4444":"rgba(255, 255, 255, 0.2)"),borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",transition:"all 0.2s ease",outline:"none",resize:"vertical",minHeight:"80px",maxHeight:"120px",fontFamily:"inherit"},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.5)",e.target.style.background="rgba(255, 255, 255, 0.15)"},onBlur:e=>{e.target.style.borderColor=v.note?"#ef4444":"rgba(255, 255, 255, 0.2)",e.target.style.background="rgba(255, 255, 255, 0.1)"}}),v.note&&(0,a.jsxs)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),v.note]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"32px",paddingTop:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,a.jsx)("button",{type:"button",onClick:s,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px 24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.15)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.1)"},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"submit",disabled:x,style:{background:x?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #3b82f6, #1d4ed8)",border:"none",borderRadius:"8px",padding:"12px 24px",color:"white",fontSize:"14px",fontWeight:"600",cursor:x?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:x?"none":"0 4px 16px rgba(59, 130, 246, 0.3)"},children:x?"\u05e9\u05d5\u05de\u05e8...":n?"\u05e2\u05d3\u05db\u05df":!f.requiresReporting&&g>1?`\u05e6\u05d5\u05e8 ${g} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd`:"\u05e6\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8"})]})]})]}),(0,a.jsx)(fc,{isOpen:j.isOpen,onClose:()=>k({isOpen:!1,message:"",itemName:""}),title:`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05de\u05d5\u05e8 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 "${j.itemName}"`,message:j.message,resolutionMessage:No("item"),type:"item"}),(0,a.jsx)(bc,{isOpen:N.isOpen,onClose:()=>{S((e=>({...e,isOpen:!1})))},type:N.type,message:N.message,title:N.title})]})},fu=e=>{let{userProfile:n,isAdmin:r}=e;const{items:i,loading:s,error:o,refetch:l,deleteManyItems:c}=Eo(),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(1),[g,b]=(0,t.useState)(""),[v,y]=(0,t.useState)(null),[x,w]=(0,t.useState)({}),[j,k]=(0,t.useState)(!1),[N,S]=(0,t.useState)({isOpen:!1,message:"",itemName:""}),[C,E]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),[I,_]=(0,t.useState)({isOpen:!1,type:"info",message:""}),T=e=>{let t="asc";v&&v.key===e&&"asc"===v.direction&&(t="desc"),y({key:e,direction:t})},R=e=>{var t,n,r;return(null===(t=e.receiptInfo)||void 0===t||null===(n=t.signedBy)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.name)||"\u2014"},A=(()=>{let e=i.filter((e=>{if(g){var t,n,r;const a=e.isOperational?null!==(t=e.isAvailable)&&void 0!==t&&t?"\u05d6\u05de\u05d9\u05df":"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df":"\u05ea\u05e7\u05d5\u05dc",i=(null===(n=e.allocatedLocation)||void 0===n?void 0:n.name)||"\u05dc\u05d0 \u05de\u05d5\u05e7\u05e6\u05d4",s=R(e);if(!((null===(r=e.itemName)||void 0===r?void 0:r.name)&&e.itemName.name.toLowerCase().includes(g.toLowerCase())||e.idNumber&&e.idNumber.toLowerCase().includes(g.toLowerCase())||e.note&&e.note.toLowerCase().includes(g.toLowerCase())||a.toLowerCase().includes(g.toLowerCase())||i.toLowerCase().includes(g.toLowerCase())||s.toLowerCase().includes(g.toLowerCase())))return!1}if(x.itemNameId&&e.nameId!==x.itemNameId)return!1;if(x.allocatedLocationId&&e.allocatedLocationId!==x.allocatedLocationId)return!1;if(x.receiptLocationName){if(R(e)!==x.receiptLocationName)return!1}if(x.status){var a;const t=e.isOperational,n=null!==(a=e.isAvailable)&&void 0!==a&&a;switch(x.status){case"operational":if(!t)return!1;break;case"non-operational":if(t)return!1;break;case"available":if(!n||!t)return!1;break;case"not-available":if(n||!t)return!1}}if(void 0!==x.hasIdNumber){if(Boolean(e.idNumber&&e.idNumber.trim())!==x.hasIdNumber)return!1}if(x.noteText){if(!(e.note||"").toLowerCase().includes(x.noteText.toLowerCase()))return!1}return!0}));return v&&(e=[...e].sort(((e,t)=>{var n,r,a,i,s,o,l,c;let d,u;switch(v.key){case"name":d=(null===(n=e.itemName)||void 0===n?void 0:n.name)||"",u=(null===(r=t.itemName)||void 0===r?void 0:r.name)||"";break;case"idNumber":d=e.idNumber||"",u=t.idNumber||"";break;case"allocatedLocation":d=(null===(a=e.allocatedLocation)||void 0===a?void 0:a.name)||"",u=(null===(i=t.allocatedLocation)||void 0===i?void 0:i.name)||"";break;case"receiptLocation":d=R(e)||"",u=R(t)||"";break;case"status":d=e.isOperational?null!==(s=e.isAvailable)&&void 0!==s&&s?2:1:0,u=t.isOperational?null!==(o=t.isAvailable)&&void 0!==o&&o?2:1:0;break;case"note":d=e.note||"",u=t.note||"";break;case"isOperational":d=e.isOperational,u=t.isOperational;break;case"isAvailable":d=null!==(l=e.isAvailable)&&void 0!==l&&l,u=null!==(c=t.isAvailable)&&void 0!==c&&c;break;default:return 0}return"string"===typeof d&&"string"===typeof u?"asc"===v.direction?d.localeCompare(u,"he"):u.localeCompare(d,"he"):"asc"===v.direction?d<u?-1:d>u?1:0:d>u?-1:d<u?1:0}))),e})(),{paginatedItems:P,totalPages:O}=yo(A,f,Zs),{selectedIds:L,isSelected:z,toggleSelection:D,clearSelection:M,selectAll:F,selectedCount:B}=ic({items:A,multiSelect:!0}),U=()=>{p(!1),u(null),l()};return n.location?s?(0,a.jsx)(xc,{message:"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d9\u05d8\u05d9 \u05e6\u05d9\u05d5\u05d3..."}):o?(0,a.jsx)(hc,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:g,onChange:e=>(b({target:{value:e}}.target.value),m(1),void M()),placeholder:"\u05d7\u05e4\u05e9 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05e4\u05d9 \u05e9\u05dd, \u05de\u05e1\u05e4\u05e8 \u05e6', \u05d4\u05e7\u05e6\u05d0\u05d4, \u05de\u05d9\u05e7\u05d5\u05dd \u05d0\u05d5 \u05d4\u05e2\u05e8\u05d4...",resultsCount:A.length,resultsLabel:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"})}),(0,a.jsx)("div",{className:"management-actions-compact",children:(0,a.jsx)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{u(null),p(!0)},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{marginLeft:"6px"}}),"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d9\u05d8 \u05d7\u05d3\u05e9"]})})})]}),(0,a.jsx)(Nc,{items:i,filters:x,onFiltersChange:e=>{w(e),m(1),M()},isOpen:j,onToggle:()=>{k(!j)},isAdmin:r,resultsCount:A.length}),(0,a.jsx)(jc,{selectedCount:B,totalCount:A.length,onDelete:async()=>{if(0===L.length)return;const e=i.filter((e=>L.includes(e.id))).map((e=>{var t;return(null===(t=e.itemName)||void 0===t?void 0:t.name)||"\u05d0\u05d9\u05df \u05e9\u05dd"})).join(", ");if(!window.confirm(`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd?\n\n${e}\n\n(${L.length} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd)`))return;const t=await c(L);t.success?M():t.isConflict&&t.bulkError?(E({isOpen:!0,message:t.bulkError.message,deletedCount:t.bulkError.deletedCount,totalCount:L.length,errors:t.bulkError.errors}),M()):t.isConflict?S({isOpen:!0,message:t.error||"\u05e9\u05d2\u05d9\u05d0\u05ea \u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",itemName:`${L.length} \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd`}):((e,t,n)=>{_({isOpen:!0,type:e,message:t,title:n})})("error",`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd: ${t.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2\u05d4"}`)},onClear:M,onSelectAll:F,isDeleting:!1,isVisible:B>0}),(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-first sortable",onClick:()=>T("name"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05e4\u05e8\u05d9\u05d8","data-sorted":"name"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>T("idNumber"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05e1\u05e4\u05e8 \u05e6'","data-sorted":"idNumber"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05e1\u05e4\u05e8 \u05e6'"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>T("allocatedLocation"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d4\u05e7\u05e6\u05d0\u05d4","data-sorted":"allocatedLocation"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d4\u05e7\u05e6\u05d0\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>T("receiptLocation"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05de\u05d9\u05e7\u05d5\u05dd","data-sorted":"receiptLocation"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>T("status"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e1\u05d8\u05d8\u05d5\u05e1","data-sorted":"status"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>T("note"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d4\u05e2\u05e8\u05d4","data-sorted":"note"===(null===v||void 0===v?void 0:v.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d4\u05e2\u05e8\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})})})]})}),(0,a.jsx)("tbody",{children:P.map(((e,t)=>{var n,r,i,s;return(0,a.jsxs)("tr",{className:"unified-table-row modern-table-row "+(z(e.id)?"selected":""),onClick:t=>D(e.id,t),title:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4",children:[(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-first",children:(null===(n=e.itemName)||void 0===n?void 0:n.name)||"\u05d0\u05d9\u05df \u05ea\u05e2\u05e8\u05db\u05d4"}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-badge",children:(0,a.jsx)("span",{className:"unified-badge "+(e.idNumber?"unified-badge-primary":"unified-badge-secondary"),children:e.idNumber||"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df"})}),(0,a.jsx)("td",{className:"unified-table-cell",children:(null===(r=e.allocatedLocation)||void 0===r?void 0:r.name)||"\u05dc\u05d0 \u05de\u05d5\u05e7\u05e6\u05d4"}),(0,a.jsx)("td",{className:"unified-table-cell",children:R(e)}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-badge",children:(0,a.jsx)("span",{className:"unified-badge "+(e.isOperational?null!==(i=e.isAvailable)&&void 0!==i&&i?"unified-badge-success":"unified-badge-danger":"unified-badge-warning"),children:e.isOperational?null!==(s=e.isAvailable)&&void 0!==s&&s?"\u05d6\u05de\u05d9\u05df":"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df":"\u05ea\u05e7\u05d5\u05dc"})}),(0,a.jsx)("td",{className:"unified-table-cell",children:e.note||"\u05d0\u05d9\u05df \u05d4\u05e2\u05e8\u05d4"}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-actions",children:(0,a.jsx)("button",{className:"unified-action-btn unified-action-btn-primary unified-action-btn-sm",onClick:t=>{t.stopPropagation(),(e=>{u(e),p(!0)})(e)},children:"\u05e2\u05d3\u05db\u05df"})})]},e.id)}))})]})}),O>1&&(0,a.jsx)(vc,{currentPage:f,totalPages:O,onPageChange:m}),(0,a.jsx)(pc,{isOpen:h,onClose:U,title:d?"\u05e2\u05d3\u05db\u05df \u05e4\u05e8\u05d9\u05d8":"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d9\u05d8 \u05d7\u05d3\u05e9",size:"md",children:(0,a.jsx)(pu,{item:d,isAdmin:r,onSuccess:U,onCancel:U},(null===d||void 0===d?void 0:d.id)||"new")}),(0,a.jsx)(fc,{isOpen:N.isOpen,onClose:()=>S({isOpen:!1,message:"",itemName:""}),title:`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 "${N.itemName}"`,message:N.message,resolutionMessage:No("item"),type:"item"}),(0,a.jsx)(mc,{isOpen:C.isOpen,onClose:()=>E({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),title:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4 - \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",message:C.message,deletedCount:C.deletedCount,totalCount:C.totalCount,errors:C.errors,type:"item"}),(0,a.jsx)(bc,{isOpen:I.isOpen,onClose:()=>{_((e=>({...e,isOpen:!1})))},type:I.type,message:I.message,title:I.title})]}):(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{className:"mb-0",children:"\u05e6\u05d9\u05d5\u05d3"})}),(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"alert alert-warning",children:[(0,a.jsx)("h4",{children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsx)("p",{children:"\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da \u05dc\u05d0 \u05e9\u05d5\u05d9\u05d9\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05db\u05d3\u05d9 \u05dc\u05e9\u05d9\u05d9\u05da \u05d0\u05d5\u05ea\u05da \u05dc\u05de\u05d9\u05e7\u05d5\u05dd."})]})})]})},mu=()=>{const[e,n]=(0,t.useState)("units"),r=[{id:"units",label:"\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})})},{id:"locations",label:"\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})},{id:"itemNames",label:"\u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"})})},{id:"allocations",label:"\u05e9\u05d1\u05e6\u05e7",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})})},{id:"backup",label:"\u05d2\u05d9\u05d1\u05d5\u05d9 \u05d5\u05e9\u05d7\u05d6\u05d5\u05e8",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 3L2 12h3v8h14v-8h3L12 3zm2 12h-1v-2h-2v2H9v-2H7v2H6v-6h12v6z"})})},{id:"settings",label:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})})}];return(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsx)(yc,{tabs:r,activeTab:e,onTabChange:e=>{n(e)},variant:"primary",size:"md"}),(0,a.jsx)("div",{className:"tab-content",children:(()=>{switch(e){case"units":default:return(0,a.jsx)(bu,{});case"locations":return(0,a.jsx)(yu,{});case"itemNames":return(0,a.jsx)(xu,{});case"allocations":return(0,a.jsx)(wu,{});case"backup":return(0,a.jsx)(ku,{});case"settings":return(0,a.jsx)(ju,{})}})()})]})};function gu(e){let{title:n,items:r,loading:i,error:s,onAdd:o,onEdit:l,onDelete:c,onRefresh:d}=e;const[u,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(1),[b,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(""),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),[E,I]=(0,t.useState)({isOpen:!1,message:"",itemName:""}),[_,T]=(0,t.useState)({isOpen:!1,message:"",type:"error"}),R=r.filter((e=>e.name.toLowerCase().normalize("NFC").includes(b.toLowerCase().normalize("NFC")))),A=[...R].sort(((e,t)=>{if(!S)return 0;const{key:n,direction:r}=S;let a=e[n],i=t[n];if("createdAt"===n||"updatedAt"===n){const e=new Date(a).getTime(),t=new Date(i).getTime();return"asc"===r?e<t?-1:e>t?1:0:e>t?-1:e<t?1:0}return"string"===typeof a&&"string"===typeof i?"asc"===r?a.localeCompare(i,"he"):i.localeCompare(a,"he"):"asc"===r?a<i?-1:a>i?1:0:a>i?-1:a<i?1:0})),{paginatedItems:P,totalPages:O}=yo(A,m,Zs),{selectedIds:L,toggleSelection:z,clearSelection:D,selectAll:M,hasSelection:F}=ic({items:A,onSelectionChange:e=>{}}),B=e=>{let t="asc";S&&S.key===e&&"asc"===S.direction&&(t="desc"),C({key:e,direction:t}),g(1)},U=async()=>{if(y.trim()){N(!0);try{const e=await o(y.trim());e.success?(x(""),h(!1)):e.isConflict?I({isOpen:!0,message:e.error||`${n} \u05e2\u05dd \u05e9\u05dd \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea`,itemName:y.trim()}):T({isOpen:!0,message:e.error||`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea ${n}`,type:"error"})}finally{N(!1)}}},$=async()=>{if(p&&w.trim()){N(!0);try{const e=await l(p.id,w.trim());e.success?(f(null),j("")):e.isConflict?I({isOpen:!0,message:e.error||`${n} \u05e2\u05dd \u05e9\u05dd \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea`,itemName:w.trim()}):T({isOpen:!0,message:e.error||`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df ${n}`,type:"error"})}finally{N(!1)}}};return i?(0,a.jsx)(xc,{message:`\u05d8\u05d5\u05e2\u05df ${n}...`}):s?(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("strong",{children:"\u05e9\u05d2\u05d9\u05d0\u05d4:"})," ",s,(0,a.jsx)("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:d,children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:b,onChange:e=>{v(e),g(1)},placeholder:`\u05d7\u05d9\u05e4\u05d5\u05e9 ${n}...`,resultsCount:R.length,resultsLabel:n})}),(0,a.jsx)("div",{className:"management-actions-compact",children:(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>h(!0),disabled:i,title:`\u05d4\u05d5\u05e1\u05e3 ${n} \u05d7\u05d3\u05e9`,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px"},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05d3\u05e9"})]})})]}),(0,a.jsx)(jc,{selectedCount:L.length,totalCount:P.length,onDelete:L.length>0?async()=>{if(0===L.length)return;if(window.confirm(`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 ${L.length} ${n}?`))try{const e=await c(L);e.success?D():T({isOpen:!0,message:e.error||`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea ${n}`,type:"error"})}catch(s){T({isOpen:!0,message:`\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea ${n}`,type:"error"})}}:void 0,onClear:D,onSelectAll:M,isVisible:F,deleteLabel:`\u05de\u05d7\u05e7 ${n}`,isDeleting:k}),i?(0,a.jsx)(xc,{message:`\u05d8\u05d5\u05e2\u05df ${n}...`,padding:"80px 20px",minHeight:"400px"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>B("name"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd","data-sorted":"name"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05e9\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>B("createdAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4","data-sorted":"createdAt"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",onClick:()=>B("updatedAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05e2\u05d3\u05db\u05d5\u05df","data-sorted":"updatedAt"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05e2\u05d3\u05db\u05d5\u05df"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:P.map(((e,t)=>(0,a.jsxs)("tr",{className:"unified-table-row selectable "+(L.includes(e.id)?"selected":""),onClick:n=>{n.target.closest(".unified-action-btn")||z(e.id,n,t)},title:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4 \u2022 Ctrl+\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4",children:[(0,a.jsx)("td",{className:"unified-table-cell",children:e.name}),(0,a.jsx)("td",{className:"unified-table-cell",children:new Date(e.createdAt).toLocaleDateString("he-IL")}),(0,a.jsx)("td",{className:"unified-table-cell",children:new Date(e.updatedAt).toLocaleDateString("he-IL")}),(0,a.jsx)("td",{className:"unified-table-cell",children:(0,a.jsx)("button",{className:"unified-action-btn unified-action-btn-primary",onClick:t=>{t.stopPropagation(),(e=>{f(e),j(e.name)})(e)},title:"\u05e2\u05e8\u05d9\u05db\u05d4",children:"\u05e2\u05d3\u05db\u05df"})})]},e.id)))})]})}),O>1&&(0,a.jsx)("div",{className:"pagination-container",children:(0,a.jsx)(vc,{currentPage:m,totalPages:O,onPageChange:g})})]}),(0,a.jsx)(pc,{isOpen:u,onClose:()=>{h(!1),x("")},title:`\u05d4\u05d5\u05e1\u05e3 ${n}`,size:"md",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{className:"form-label",children:["\u05e9\u05dd ",n]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:y,onChange:e=>x(e.target.value),placeholder:`\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd ${n}`,onKeyPress:e=>{"Enter"===e.key&&U()}})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{h(!1),x("")},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:U,disabled:!y.trim()||k,children:k?"\u05e9\u05d5\u05de\u05e8...":"\u05d4\u05d5\u05e1\u05e3"})]})]})}),(0,a.jsx)(pc,{isOpen:!!p,onClose:()=>{f(null),j("")},title:`\u05e2\u05e8\u05d5\u05da ${n}`,size:"md",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{className:"form-label",children:["\u05e9\u05dd ",n]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:w,onChange:e=>j(e.target.value),placeholder:`\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd ${n}`,onKeyPress:e=>{"Enter"===e.key&&$()}})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{f(null),j("")},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:$,disabled:!w.trim()||k,children:k?"\u05e9\u05d5\u05de\u05e8...":"\u05e2\u05d3\u05db\u05df"})]})]})}),(0,a.jsx)(fc,{isOpen:E.isOpen,onClose:()=>I({isOpen:!1,message:"",itemName:""}),title:`\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05de\u05d5\u05e8 \u05d0\u05ea ${n} "${E.itemName}"`,message:E.message,resolutionMessage:`\u05d1\u05d7\u05e8 \u05e9\u05dd \u05d0\u05d7\u05e8 \u05e2\u05d1\u05d5\u05e8 ${n} \u05d0\u05d5 \u05e2\u05e8\u05d5\u05da \u05d0\u05ea \u05d4\u05e7\u05d9\u05d9\u05dd.`,type:"item"}),(0,a.jsx)(bc,{isOpen:_.isOpen,onClose:()=>T({isOpen:!1,message:"",type:"error"}),message:_.message,type:_.type})]})}const bu=()=>{const{units:e,loading:n,error:r,createUnit:i,updateUnit:s,deleteUnits:o,loadUnits:l}=lc(),[c,d]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]});return(0,t.useEffect)((()=>{e&&0!==e.length||l()}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gu,{title:"\u05d9\u05d7\u05d9\u05d3\u05d4",items:e,loading:n,error:r,onAdd:async e=>{const t=await i({name:e});return{success:t.success,error:t.error,isConflict:t.isConflict}},onEdit:async(e,t)=>{const n=await s(e,{name:t});return n.success&&await l(),{success:n.success,error:n.error,isConflict:n.isConflict}},onDelete:async e=>{var t,n,r,a;const i=await o({ids:e}),s=null!==(t=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.deleted)&&void 0!==t?t:0,c=null!==(r=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.errors)&&void 0!==r?r:[];return i.success&&await l(),i.success&&(s<e.length||c.length>0)?(d({isOpen:!0,message:i.error||"\u05d7\u05dc\u05e7 \u05de\u05d4\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea \u05dc\u05d0 \u05e0\u05de\u05d7\u05e7\u05d5 \u05e2\u05e7\u05d1 \u05e9\u05d9\u05d5\u05da \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05dc\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05d1\u05d9\u05d7\u05d9\u05d3\u05d4.",deletedCount:s,totalCount:e.length,errors:c}),{success:!0}):(i.success||d({isOpen:!0,message:i.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea",deletedCount:s,totalCount:e.length,errors:c}),{success:i.success,error:i.error})},onRefresh:()=>{l()}}),(0,a.jsx)(mc,{isOpen:c.isOpen,onClose:()=>d({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),title:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4 - \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea",message:c.message,deletedCount:c.deletedCount,totalCount:c.totalCount,errors:c.errors,type:"unit"})]})},vu=e=>{let{locations:n,units:r,loading:i,error:s,onAdd:o,onEdit:l,onDelete:c,onRefresh:d}=e;const[u,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(1),[b,v]=(0,t.useState)(""),[y,x]=(0,t.useState)({name:"",unitId:""}),[w,j]=(0,t.useState)({name:"",unitId:""}),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),[E,I]=(0,t.useState)({isOpen:!1,message:"",itemName:""}),[_,T]=(0,t.useState)({isOpen:!1,message:"",type:"error"}),R=e=>{const t=r.find((t=>t.id===e));return t?t.name:"\u05d9\u05d7\u05d9\u05d3\u05d4 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4"},A=n.filter((e=>e.name.toLowerCase().normalize("NFC").includes(b.toLowerCase().normalize("NFC"))||R(e.unitId).toLowerCase().normalize("NFC").includes(b.toLowerCase().normalize("NFC")))),P=[...A].sort(((e,t)=>{if(!S)return 0;const{key:n,direction:r}=S;let a,i;return"unitName"===n?(a=R(e.unitId),i=R(t.unitId)):"createdAt"===n||"updatedAt"===n?(a=new Date(e[n]).getTime(),i=new Date(t[n]).getTime()):(a=e[n],i=t[n]),"string"===typeof a&&"string"===typeof i?"asc"===r?a.localeCompare(i,"he"):i.localeCompare(a,"he"):"asc"===r?a<i?-1:a>i?1:0:a>i?-1:a<i?1:0})),{paginatedItems:O,totalPages:L}=yo(P,m,Zs),{selectedIds:z,isSelected:D,toggleSelection:M,clearSelection:F,selectAll:B,selectedCount:U}=ic({items:P,multiSelect:!0}),$=e=>{let t="asc";S&&S.key===e&&"asc"===S.direction&&(t="desc"),C({key:e,direction:t}),g(1)},W=()=>{x({name:"",unitId:""}),h(!1)},H=()=>{j({name:"",unitId:""}),f(null)};return s?(0,a.jsxs)("div",{className:"error-container",children:[(0,a.jsx)("p",{className:"error-message",children:s}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:d,children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:b,onChange:e=>{v(e),g(1)},placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05d0\u05d5 \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea...",resultsCount:A.length,resultsLabel:"\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd"})}),(0,a.jsx)("div",{className:"management-actions-compact",children:(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>h(!0),disabled:i,title:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d9\u05e7\u05d5\u05dd \u05d7\u05d3\u05e9",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px"},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05d3\u05e9"})]})})]}),(0,a.jsx)(jc,{selectedCount:U,totalCount:P.length,onDelete:async()=>{if(0===z.length)return;const e=`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 ${z.length} \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd?`;if(window.confirm(e)){N(!0);try{const e=await c(z);e.success?F():T({isOpen:!0,message:e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",type:"error"})}catch(s){T({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",type:"error"})}finally{N(!1)}}},onClear:F,onSelectAll:B,isDeleting:k,isVisible:U>0}),i?(0,a.jsx)(xc,{message:"\u05d8\u05d5\u05e2\u05df \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd...",padding:"80px 20px",minHeight:"400px"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-first sortable",onClick:()=>$("name"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05d4\u05de\u05d9\u05e7\u05d5\u05dd","data-sorted":"name"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e9\u05dd \u05d4\u05de\u05d9\u05e7\u05d5\u05dd"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("unitName"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05d9\u05d7\u05d9\u05d3\u05d4","data-sorted":"unitName"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05d9\u05d7\u05d9\u05d3\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("createdAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4","data-sorted":"createdAt"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05e8\u05d4"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>$("updatedAt"),title:"\u05dc\u05d7\u05e5 \u05dc\u05de\u05d9\u05d5\u05df \u05dc\u05e4\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05e2\u05d3\u05db\u05d5\u05df","data-sorted":"updatedAt"===(null===S||void 0===S?void 0:S.key)?"true":"false",children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05e2\u05d3\u05db\u05d5\u05df"})})}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular",style:{width:"100px"},children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})})})]})}),(0,a.jsx)("tbody",{children:O.map((e=>(0,a.jsxs)("tr",{className:"unified-table-row modern-table-row "+(D(e.id)?"selected":""),onClick:t=>M(e.id,t),title:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4",children:[(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-first",children:e.name}),(0,a.jsx)("td",{className:"unified-table-cell",children:R(e.unitId)}),(0,a.jsx)("td",{className:"unified-table-cell",children:new Date(e.createdAt).toLocaleDateString("he-IL")}),(0,a.jsx)("td",{className:"unified-table-cell",children:new Date(e.updatedAt).toLocaleDateString("he-IL")}),(0,a.jsx)("td",{className:"unified-table-cell unified-table-cell-actions",children:(0,a.jsx)("button",{className:"unified-action-btn unified-action-btn-primary unified-action-btn-sm",onClick:t=>{t.stopPropagation(),(e=>{f(e),j({name:e.name,unitId:e.unitId})})(e)},children:"\u05e2\u05d3\u05db\u05df"})})]},e.id)))})]})}),L>1&&(0,a.jsx)("div",{className:"pagination-container",children:(0,a.jsx)(vc,{currentPage:m,totalPages:L,onPageChange:g})})]}),(0,a.jsxs)(pc,{isOpen:u,onClose:W,title:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d9\u05e7\u05d5\u05dd \u05d7\u05d3\u05e9",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05e9\u05dd \u05d4\u05de\u05d9\u05e7\u05d5\u05dd"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:y.name,onChange:e=>x((t=>({...t,name:e.target.value}))),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05d9\u05e7\u05d5\u05dd"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05d9\u05d7\u05d9\u05d3\u05d4"}),(0,a.jsxs)("select",{className:"form-control",value:y.unitId,onChange:e=>x((t=>({...t,unitId:e.target.value}))),children:[(0,a.jsx)("option",{value:"",children:"\u05d1\u05d7\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4"}),r.map((e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,a.jsxs)("div",{className:"btn-group btn-group-end",children:[(0,a.jsx)("button",{className:"btn btn-ghost",onClick:W,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(y.name.trim()&&y.unitId){N(!0);try{const e=await o(y);e.success?W():e.isConflict?I({isOpen:!0,message:e.error||"\u05de\u05d9\u05e7\u05d5\u05dd \u05e2\u05dd \u05e9\u05dd \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05d9\u05d7\u05d9\u05d3\u05d4 \u05d6\u05d5",itemName:y.name}):T({isOpen:!0,message:e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05d9\u05e7\u05d5\u05dd",type:"error"})}catch(s){T({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05d9\u05e7\u05d5\u05dd",type:"error"})}finally{N(!1)}}},disabled:k||!y.name.trim()||!y.unitId,children:k?"\u05d9\u05d5\u05e6\u05e8...":"\u05e6\u05d5\u05e8"})]})]}),(0,a.jsxs)(pc,{isOpen:!!p,onClose:H,title:"\u05e2\u05e8\u05d5\u05da \u05de\u05d9\u05e7\u05d5\u05dd",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05e9\u05dd \u05d4\u05de\u05d9\u05e7\u05d5\u05dd"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:w.name,onChange:e=>j((t=>({...t,name:e.target.value}))),placeholder:null===p||void 0===p?void 0:p.name})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05d9\u05d7\u05d9\u05d3\u05d4"}),(0,a.jsxs)("select",{className:"form-control",value:w.unitId,onChange:e=>j((t=>({...t,unitId:e.target.value}))),children:[(0,a.jsx)("option",{value:"",children:"\u05d4\u05e9\u05d0\u05e8 \u05dc\u05dc\u05d0 \u05e9\u05d9\u05e0\u05d5\u05d9"}),r.map((e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,a.jsxs)("div",{className:"btn-group btn-group-end",children:[(0,a.jsx)("button",{className:"btn btn-ghost",onClick:H,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(p&&(w.name.trim()||w.unitId)){N(!0);try{const e={};w.name.trim()&&(e.name=w.name.trim()),w.unitId&&(e.unitId=w.unitId);const t=await l(p.id,e);t.success?H():t.isConflict?I({isOpen:!0,message:t.error||"\u05de\u05d9\u05e7\u05d5\u05dd \u05e2\u05dd \u05e9\u05dd \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05d9\u05d7\u05d9\u05d3\u05d4 \u05d6\u05d5",itemName:w.name||p.name}):T({isOpen:!0,message:t.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d9\u05e7\u05d5\u05dd",type:"error"})}catch(s){T({isOpen:!0,message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d9\u05e7\u05d5\u05dd",type:"error"})}finally{N(!1)}}},disabled:k||!w.name.trim()&&!w.unitId,children:k?"\u05de\u05e2\u05d3\u05db\u05df...":"\u05e2\u05d3\u05db\u05df"})]})]}),(0,a.jsx)(fc,{isOpen:E.isOpen,onClose:()=>I({isOpen:!1,message:"",itemName:""}),title:"\u05de\u05d9\u05e7\u05d5\u05dd \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd",message:E.message,resolutionMessage:"\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05e9\u05dd \u05d0\u05d7\u05e8 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd \u05d0\u05d5 \u05d9\u05d7\u05d9\u05d3\u05d4 \u05d0\u05d7\u05e8\u05ea.",type:"item"}),(0,a.jsx)(bc,{isOpen:_.isOpen,onClose:()=>T({isOpen:!1,message:"",type:"error"}),message:_.message,type:_.type})]})},yu=()=>{const{locations:e,units:n,loading:r,error:i,createLocation:s,updateLocation:o,deleteLocations:l,loadLocations:c,loadUnits:d}=lc(),[u,h]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]});return(0,t.useEffect)((()=>{e&&0!==e.length||c(),n&&0!==n.length||d()}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(vu,{locations:e,units:n,loading:r,error:i,onAdd:async e=>{const t=await s(e);return{success:t.success,error:t.error,isConflict:t.isConflict}},onEdit:async(e,t)=>{const n=await o(e,t);return n.success&&await c(),{success:n.success,error:n.error,isConflict:n.isConflict}},onDelete:async e=>{var t,n,r,a;const i=await l({ids:e}),s=null!==(t=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.deleted)&&void 0!==t?t:0,o=null!==(r=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.errors)&&void 0!==r?r:[];return i.success&&await c(),i.success&&(s<e.length||o.length>0)?(h({isOpen:!0,message:i.error||"\u05d7\u05dc\u05e7 \u05de\u05d4\u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05dc\u05d0 \u05e0\u05de\u05d7\u05e7\u05d5 \u05e2\u05e7\u05d1 \u05e9\u05d9\u05d5\u05da \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05dc\u05de\u05d9\u05e7\u05d5\u05dd.",deletedCount:s,totalCount:e.length,errors:o}),{success:!0}):(i.success||h({isOpen:!0,message:i.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",deletedCount:s,totalCount:e.length,errors:o}),{success:i.success,error:i.error})},onRefresh:()=>{c()}}),(0,a.jsx)(mc,{isOpen:u.isOpen,onClose:()=>h({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),title:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4 - \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",message:u.message,deletedCount:u.deletedCount,totalCount:u.totalCount,errors:u.errors,type:"location"})]})},xu=()=>{const{itemNames:e,loading:n,error:r,createItemName:i,updateItemName:s,deleteItemNames:o,loadItemNames:l}=lc(),[c,d]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]});return(0,t.useEffect)((()=>{e&&0!==e.length||l()}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gu,{title:"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8",items:e,loading:n,error:r,onAdd:async e=>{const t=await i({name:e});return{success:t.success,error:t.error,isConflict:t.isConflict}},onEdit:async(e,t)=>{const n=await s(e,{name:t});return n.success&&await l(),{success:n.success,error:n.error,isConflict:n.isConflict}},onDelete:async e=>{var t,n,r,a,i,s;const c=await o({ids:e}),u=null!==(t=null!==(n=null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.deleted)&&void 0!==n?n:null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.deletedCount)&&void 0!==t?t:0,h=null!==(i=null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.errors)&&void 0!==i?i:[];return c.success&&await l(),c.success&&(u<e.length||h.length>0)?(d({isOpen:!0,message:c.error||"\u05d7\u05dc\u05e7 \u05de\u05e9\u05de\u05d5\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05d0 \u05e0\u05de\u05d7\u05e7\u05d5 \u05e2\u05e7\u05d1 \u05ea\u05dc\u05d5\u05ea \u05d1\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e7\u05d9\u05d9\u05de\u05d9\u05dd.",deletedCount:u,totalCount:e.length,errors:h}),{success:!0}):(c.success||d({isOpen:!0,message:c.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",deletedCount:u,totalCount:e.length,errors:h}),{success:c.success,error:c.error})},onRefresh:()=>{l()}}),(0,a.jsx)(mc,{isOpen:c.isOpen,onClose:()=>d({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),title:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05d7\u05d9\u05e7\u05d4 \u05de\u05e8\u05d5\u05d1\u05d4 - \u05e9\u05de\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",message:c.message,deletedCount:c.deletedCount,totalCount:c.totalCount,errors:c.errors,type:"itemName"})]})},wu=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[g,b]=(0,t.useState)({unit:"",secondaryUnit:"",owner:"",vehicleType:"",idNumber:"",standard:"",isIssued:!1,form624:"",is624Issued:!1,note:""}),[v,y]=(0,t.useState)({isOpen:!1,message:"",deletedCount:0,totalCount:0,errors:[]}),[x,w]=(0,t.useState)(null),[j,k]=(0,t.useState)({isOpen:!1,type:"info",message:""}),N=(e,t,n)=>{k({isOpen:!0,type:e,message:t,title:n})};(0,t.useEffect)((()=>{S()}),[]);const S=async()=>{i(!0),o(null);try{const e=await oo.getAllAllocations();e.success&&e.data?n(e.data):o(e.error||'\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e9\u05d1\u05e6"\u05e7')}catch(e){o('\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e9\u05d1\u05e6"\u05e7')}finally{i(!1)}},C=e=>{let t="asc";x&&x.key===e&&"asc"===x.direction&&(t="desc"),w({key:e,direction:t})},E=(0,t.useMemo)((()=>{let t=e.filter((e=>{const t=l.toLowerCase().normalize("NFC");return e.unit.toLowerCase().normalize("NFC").includes(t)||e.secondaryUnit.toLowerCase().normalize("NFC").includes(t)||e.owner.toLowerCase().normalize("NFC").includes(t)||e.standard.toLowerCase().normalize("NFC").includes(t)||e.vehicleType&&e.vehicleType.toLowerCase().normalize("NFC").includes(t)||e.idNumber&&e.idNumber.toLowerCase().normalize("NFC").includes(t)||e.form624&&e.form624.toLowerCase().normalize("NFC").includes(t)||e.note&&e.note.toLowerCase().normalize("NFC").includes(t)}));return x&&t.sort(((e,t)=>{let n=e[x.key],r=t[x.key];if(null===n&&(n=""),null===r&&(r=""),"boolean"===typeof n&&(n=n.toString()),"boolean"===typeof r&&(r=r.toString()),"string"===typeof n&&"string"===typeof r){const e=n.localeCompare(r,"he");return"asc"===x.direction?e:-e}return n<r?"asc"===x.direction?-1:1:n>r?"asc"===x.direction?1:-1:0})),t}),[e,l,x]),{selectedIds:I,isSelected:_,toggleSelection:T,clearSelection:R,selectAll:A,selectedCount:P}=ic({items:E,multiSelect:!0}),O=(e,t)=>{"id"!==t&&"createdAt"!==t&&"updatedAt"!==t&&u({id:e.id,field:t,value:e[t]||""})},L=async()=>{if(d)try{const e={[d.field]:d.value},t=await oo.updateAllocation(d.id,e);t.success?(n((e=>e.map((e=>e.id===d.id?{...e,[d.field]:d.value}:e)))),u(null)):N("error",t.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e9\u05d1\u05e6\u05e7")}catch(e){N("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e9\u05d1\u05e6\u05e7")}},z=e=>{"Enter"===e.key?L():"Escape"===e.key&&u(null)},D=(e,t)=>{const n=(null===d||void 0===d?void 0:d.id)===e.id&&(null===d||void 0===d?void 0:d.field)===t,r=e[t];return"id"===t||"createdAt"===t||"updatedAt"===t?(0,a.jsx)("span",{children:String(r)}):n?"isIssued"===t||"is624Issued"===t?(0,a.jsx)("input",{type:"checkbox",checked:Boolean(d.value),onChange:e=>u({...d,value:e.target.checked}),onBlur:L,onKeyDown:z,autoFocus:!0,className:"form-check-input"}):(0,a.jsx)("input",{type:"text",value:String(d.value),onChange:e=>u({...d,value:e.target.value}),onBlur:L,onKeyDown:z,autoFocus:!0,className:"form-control form-control-sm",style:{minWidth:"100px"}}):"isIssued"===t||"is624Issued"===t?(0,a.jsx)("span",{className:"badge "+(r?"bg-success":"bg-secondary"),onClick:()=>O(e,t),style:{cursor:"pointer"},children:r?"\u05db\u05df":"\u05dc\u05d0"}):(0,a.jsx)("span",{onClick:()=>O(e,t),style:{cursor:"pointer",minHeight:"20px",display:"block"},title:"\u05dc\u05d7\u05e5 \u05dc\u05e2\u05e8\u05d9\u05db\u05d4",children:r||"-"})};return r?(0,a.jsx)(xc,{}):s?(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),s,(0,a.jsx)("button",{className:"btn btn-outline-danger btn-sm ms-2",onClick:S,children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsx)(kc,{value:l,onChange:e=>c(e),placeholder:"\u05d7\u05e4\u05e9 \u05dc\u05e4\u05d9 \u05de\u05e1\u05d2\u05e8\u05ea, \u05de\u05e1\u05d2\u05e8\u05ea \u05de\u05e9\u05e0\u05d4, \u05d1\u05e2\u05dc, \u05e1\u05d5\u05d2 \u05d4\u05db\u05dc\u05d9, \u05ea\u05e7\u05df...",resultsCount:E.length,resultsLabel:"\u05d4\u05e7\u05e6\u05d0\u05d5\u05ea"})}),(0,a.jsx)("div",{className:"management-actions-compact",children:(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>p(!0),disabled:r,title:"\u05d4\u05d5\u05e1\u05e3 \u05e9\u05d1\u05e6\u05e7 \u05d7\u05d3\u05e9",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px"},children:[(0,a.jsx)("i",{className:"fas fa-plus",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05d3\u05e9"})]})})]}),(0,a.jsx)(jc,{selectedCount:P,totalCount:E.length,onDelete:async()=>{if(0!==I.length){if(window.confirm(`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 ${I.length} \u05e9\u05d1\u05e6\u05e7?`))try{const e=await oo.deleteAllocations({ids:I});e.success&&e.data?e.data.deleted?(n((e=>e.filter((e=>!I.includes(e.id))))),R(),N("success",`\u05e0\u05de\u05d7\u05e7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 ${e.data.deletedCount} \u05e9\u05d1\u05e6\u05e7`)):y({isOpen:!0,message:e.data.message,deletedCount:e.data.deletedCount,totalCount:I.length,errors:[]}):N("error",e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05e9\u05d1\u05e6\u05e7")}catch(e){N("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05e9\u05d1\u05e6\u05e7")}}else N("warning","\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05de\u05d7\u05d9\u05e7\u05d4")},onClear:R,onSelectAll:A,isDeleting:f,isVisible:P>0}),(0,a.jsx)("div",{className:"unified-table-container",children:(0,a.jsxs)("table",{className:"unified-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("unit"),style:{cursor:"pointer"},children:"\u05de\u05e1\u05d2\u05e8\u05ea"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("secondaryUnit"),style:{cursor:"pointer"},children:"\u05de\u05e1\u05d2\u05e8\u05ea \u05de\u05e9\u05e0\u05d4"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("owner"),style:{cursor:"pointer"},children:'\u05d1\u05e2"\u05ea'}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("vehicleType"),style:{cursor:"pointer"},children:"\u05e1\u05d5\u05d2 \u05d4\u05db\u05dc\u05d9"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("idNumber"),style:{cursor:"pointer"},children:"\u05e6'"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("standard"),style:{cursor:"pointer"},children:"\u05ea\u05e7\u05df"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("isIssued"),style:{cursor:"pointer"},children:"\u05d4\u05d5\u05e0\u05e4\u05e7 \u05e7\u05e9\u05e8"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("form624"),style:{cursor:"pointer"},children:"624"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("is624Issued"),style:{cursor:"pointer"},children:"\u05d4\u05d5\u05e0\u05e4\u05e7 624"}),(0,a.jsx)("th",{className:"unified-table-header unified-table-header-regular sortable",onClick:()=>C("note"),style:{cursor:"pointer"},children:"\u05d4\u05e2\u05e8\u05d5\u05ea"})]})}),(0,a.jsx)("tbody",{children:E.map((e=>(0,a.jsxs)("tr",{className:"unified-table-row modern-table-row "+(_(e.id)?"selected":""),onClick:t=>T(e.id,t),children:[(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"unit")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"secondaryUnit")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"owner")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"vehicleType")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"idNumber")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"standard")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"isIssued")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"form624")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"is624Issued")}),(0,a.jsx)("td",{className:"unified-table-cell",children:D(e,"note")})]},e.id)))})]})}),0===E.length&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("i",{className:"fas fa-inbox fa-3x text-muted mb-3"}),(0,a.jsx)("h5",{className:"text-muted",children:'\u05d0\u05d9\u05df \u05e9\u05d1\u05e6"\u05e7 \u05dc\u05d4\u05e6\u05d2\u05d4'}),(0,a.jsx)("p",{className:"text-muted",children:l?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9":'\u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05e0\u05d5\u05e1\u05e4\u05d5 \u05e9\u05d1\u05e6"\u05e7 \u05dc\u05de\u05e2\u05e8\u05db\u05ea'})]}),(0,a.jsx)(pc,{isOpen:h,onClose:()=>{p(!1),b({unit:"",secondaryUnit:"",owner:"",vehicleType:"",idNumber:"",standard:"",isIssued:!1,form624:"",is624Issued:!1,note:""})},title:"\u05d4\u05d5\u05e1\u05e3 \u05e9\u05d1\u05e6\u05e7 \u05d7\u05d3\u05e9",size:"lg",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("label",{className:"form-label",children:["\u05de\u05e1\u05d2\u05e8\u05ea ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.unit,onChange:e=>b({...g,unit:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05d2\u05e8\u05ea"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("label",{className:"form-label",children:["\u05de\u05e1\u05d2\u05e8\u05ea \u05de\u05e9\u05e0\u05d4 ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.secondaryUnit,onChange:e=>b({...g,secondaryUnit:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05d2\u05e8\u05ea \u05de\u05e9\u05e0\u05d4"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("label",{className:"form-label",children:['\u05d1\u05e2"\u05ea ',(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.owner,onChange:e=>b({...g,owner:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d1\u05e2\u05ea"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05e1\u05d5\u05d2 \u05d4\u05db\u05dc\u05d9"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.vehicleType||"",onChange:e=>b({...g,vehicleType:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d5\u05d2 \u05d4\u05db\u05dc\u05d9"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("label",{className:"form-label",children:["\u05ea\u05e7\u05df ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.standard,onChange:e=>b({...g,standard:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05ea\u05e7\u05df"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05e6'"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.idNumber||"",onChange:e=>b({...g,idNumber:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e6'"})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("label",{className:"form-label",children:"624"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:g.form624||"",onChange:e=>b({...g,form624:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 624"})]}),(0,a.jsxs)("div",{className:"col-md-12",children:[(0,a.jsx)("label",{className:"form-label",children:"\u05d4\u05e2\u05e8\u05d5\u05ea"}),(0,a.jsx)("textarea",{className:"form-control",rows:3,value:g.note||"",onChange:e=>b({...g,note:e.target.value}),placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d4\u05e2\u05e8\u05d5\u05ea"})]}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("div",{className:"custom-checkbox-wrapper",children:(0,a.jsxs)("label",{className:"custom-checkbox "+(g.isIssued?"checked":""),children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:g.isIssued,onChange:e=>b({...g,isIssued:e.target.checked}),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{className:"custom-checkbox-checkmark",children:g.isIssued&&(0,a.jsx)("i",{className:"fas fa-check checkmark-icon"})})]}),(0,a.jsxs)("div",{className:"custom-checkbox-label",children:[(0,a.jsx)("strong",{children:"\u05d4\u05d5\u05e0\u05e4\u05e7 \u05e7\u05e9\u05e8"}),(0,a.jsx)("div",{className:"checkbox-description",children:"\u05de\u05e6\u05d9\u05d9\u05df \u05d4\u05d0\u05dd \u05d4\u05e7\u05e9\u05e8 \u05db\u05d1\u05e8 \u05d4\u05d5\u05e0\u05e4\u05e7"})]})]})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("div",{className:"custom-checkbox-wrapper",children:(0,a.jsxs)("label",{className:"custom-checkbox "+(g.is624Issued?"checked":""),children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"checkbox",checked:g.is624Issued,onChange:e=>b({...g,is624Issued:e.target.checked}),style:{position:"absolute",opacity:0,cursor:"pointer"}}),(0,a.jsx)("div",{className:"custom-checkbox-checkmark",children:g.is624Issued&&(0,a.jsx)("i",{className:"fas fa-check checkmark-icon"})})]}),(0,a.jsxs)("div",{className:"custom-checkbox-label",children:[(0,a.jsx)("strong",{children:"\u05d4\u05d5\u05e0\u05e4\u05e7 624"}),(0,a.jsx)("div",{className:"checkbox-description",children:"\u05de\u05e6\u05d9\u05d9\u05df \u05d4\u05d0\u05dd 624 \u05db\u05d1\u05e8 \u05d4\u05d5\u05e0\u05e4\u05e7"})]})]})})})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{p(!1),b({unit:"",secondaryUnit:"",owner:"",vehicleType:"",idNumber:"",standard:"",isIssued:!1,form624:"",is624Issued:!1,note:""})},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(g.unit&&g.secondaryUnit&&g.owner&&g.standard){m(!0);try{const e=await oo.createAllocation(g);e.success&&e.data?(n((t=>[...t,e.data])),b({unit:"",secondaryUnit:"",owner:"",vehicleType:"",idNumber:"",standard:"",isIssued:!1,form624:"",is624Issued:!1,note:""}),p(!1)):N("error",e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e9\u05d1\u05e6\u05e7")}catch(e){N("error","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e9\u05d1\u05e6\u05e7")}finally{m(!1)}}else N("warning","\u05d9\u05e9 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea \u05d4\u05d3\u05e8\u05d5\u05e9\u05d9\u05dd: \u05de\u05e1\u05d2\u05e8\u05ea, \u05de\u05e1\u05d2\u05e8\u05ea \u05de\u05e9\u05e0\u05d4, \u05d1\u05e2\u05ea, \u05ea\u05e7\u05df")},disabled:!g.unit||!g.secondaryUnit||!g.owner||!g.standard||f,children:f?"\u05e9\u05d5\u05de\u05e8...":"\u05d4\u05d5\u05e1\u05e3"})]})]})}),(0,a.jsx)(mc,{isOpen:v.isOpen,onClose:()=>y({...v,isOpen:!1}),title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05e9\u05d1\u05e6\u05e7",message:v.message,deletedCount:v.deletedCount,totalCount:v.totalCount,errors:v.errors,type:"item"}),(0,a.jsx)(bc,{isOpen:j.isOpen,onClose:()=>{k((e=>({...e,isOpen:!1})))},type:j.type,message:j.message,title:j.title})]})},ju=()=>{const[e,n]=(0,t.useState)({emailNotificationsEnabled:!1}),[r,i]=(0,t.useState)({enabled:!1,dayOfWeek:0}),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(null);(0,t.useEffect)((()=>{f()}),[]);const f=async()=>{try{o(!0),u(null);const[e,t]=await Promise.all([oo.getSettings(),oo.getNotificationSettings()]);e.success&&e.data?n(e.data):u(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"),t.success&&t.data?i(t.data):console.warn("Failed to load notification settings:",t.error)}catch(e){u("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea")}finally{o(!1)}};return s?(0,a.jsx)(xc,{message:"\u05d8\u05d5\u05e2\u05df \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",color:"var(--color-text-secondary)",fontSize:"14px"},children:[(0,a.jsx)("i",{className:"fas fa-cog",style:{fontSize:"16px"}}),(0,a.jsx)("span",{children:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc"})]})}),(0,a.jsx)("div",{className:"management-actions-compact",children:(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:async()=>{try{c(!0),u(null),p(null);const[t,a]=await Promise.all([oo.updateSettings(e),oo.updateNotificationSettings(r)]);t.success&&t.data&&a.success&&a.data?(n(t.data),i(a.data),p("\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05e0\u05e9\u05de\u05e8\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),await f(),setTimeout((()=>p(null)),3e3)):u(t.error||a.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea")}catch(t){u("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea")}finally{c(!1)}},disabled:l,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px"},children:[l?(0,a.jsx)("div",{className:"saving-spinner",style:{width:"13px",height:"13px"}}):(0,a.jsx)("i",{className:"fas fa-save",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:l?"\u05e9\u05d5\u05de\u05e8...":"\u05e9\u05de\u05d5\u05e8"})]})})]}),d&&(0,a.jsxs)("div",{style:{padding:"12px 16px",margin:"16px 0",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",color:"#ef4444",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,a.jsx)("span",{children:d})]}),h&&(0,a.jsxs)("div",{style:{padding:"12px 16px",margin:"16px 0",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"8px",color:"#22c55e",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-check-circle"}),(0,a.jsx)("span",{children:h})]}),(0,a.jsxs)("div",{style:{background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"12px",padding:"0",overflow:"hidden"},children:[(0,a.jsx)("div",{style:{padding:"24px 28px",borderBottom:"1px solid var(--color-border)"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-envelope",style:{color:"var(--color-text-secondary)",fontSize:"18px"}}),(0,a.jsx)("span",{style:{fontSize:"16px",fontWeight:"600",color:"var(--color-text)"},children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05d1\u05de\u05d9\u05d9\u05dc"})]}),(0,a.jsx)("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)",margin:"0",paddingRight:"30px"},children:"\u05e7\u05d1\u05dc \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05e2\u05dc \u05e4\u05e2\u05d9\u05dc\u05d5\u05d9\u05d5\u05ea \u05d7\u05e9\u05d5\u05d1\u05d5\u05ea \u05d1\u05de\u05e2\u05e8\u05db\u05ea"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"500",color:e.emailNotificationsEnabled?"#22c55e":"var(--color-text-muted)"},children:e.emailNotificationsEnabled?"\u05e4\u05e2\u05d9\u05dc":"\u05db\u05d1\u05d5\u05d9"}),(0,a.jsx)("button",{onClick:()=>{n({...e,emailNotificationsEnabled:!e.emailNotificationsEnabled})},disabled:l,style:{position:"relative",width:"48px",height:"24px",borderRadius:"12px",border:"none",cursor:l?"not-allowed":"pointer",background:e.emailNotificationsEnabled?"linear-gradient(45deg, #22c55e, #16a34a)":"var(--color-surface-alt)",transition:"all 0.3s ease",outline:"none",opacity:l?.6:1},children:(0,a.jsx)("div",{style:{position:"absolute",top:"2px",left:e.emailNotificationsEnabled?"26px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"#ffffff",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}})})]})]})}),(0,a.jsxs)("div",{style:{padding:"24px 28px",borderBottom:"1px solid var(--color-border)"},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"column":"row",alignItems:window.innerWidth<=768?"flex-start":"center",justifyContent:"space-between",gap:"16px",marginBottom:"16px"},children:[(0,a.jsxs)("div",{style:{flex:1},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"6px"},children:[(0,a.jsx)("i",{className:"fas fa-calendar-alt",style:{color:"var(--color-text-secondary)",fontSize:"18px"}}),(0,a.jsx)("span",{style:{fontSize:"16px",fontWeight:"600",color:"var(--color-text)"},children:"\u05ea\u05d6\u05de\u05d5\u05df \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05e9\u05d1\u05d5\u05e2\u05d9\u05d5\u05ea"})]}),(0,a.jsx)("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)",margin:"0 0 8px 0",paddingRight:window.innerWidth<=768?"0":"30px"},children:"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05d9\u05d5\u05dd \u05d1\u05e9\u05d1\u05d5\u05e2 \u05d1\u05d5 \u05db\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d9\u05e7\u05d1\u05dc\u05d5 \u05d4\u05ea\u05e8\u05d0\u05ea \u05de\u05d9\u05d9\u05dc"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",alignSelf:(window.innerWidth,"flex-start"),marginTop:window.innerWidth<=768?"0":"4px"},children:[(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"500",color:r.enabled?"#22c55e":"var(--color-text-muted)"},children:r.enabled?"\u05e4\u05e2\u05d9\u05dc":"\u05db\u05d1\u05d5\u05d9"}),(0,a.jsx)("button",{onClick:()=>{i({...r,enabled:!r.enabled})},disabled:l,style:{position:"relative",width:"48px",height:"24px",borderRadius:"12px",border:"none",cursor:l?"not-allowed":"pointer",background:r.enabled?"linear-gradient(45deg, #22c55e, #16a34a)":"var(--color-surface-alt)",transition:"all 0.3s ease",outline:"none",opacity:l?.6:1},children:(0,a.jsx)("div",{style:{position:"absolute",top:"2px",left:r.enabled?"26px":"2px",width:"20px",height:"20px",borderRadius:"50%",background:"#ffffff",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}})})]})]}),(0,a.jsx)("div",{style:{paddingRight:window.innerWidth<=768?"0":"30px",marginTop:"16px"},children:(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=480?"repeat(2, 1fr)":window.innerWidth<=768?"repeat(3, 1fr)":"repeat(auto-fit, minmax(100px, 1fr))",gap:"8px"},children:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"].map(((e,t)=>(0,a.jsx)("button",{onClick:()=>{return e=t,void i({...r,dayOfWeek:e});var e},disabled:l||!r.enabled,style:{padding:window.innerWidth<=480?"10px 8px":"8px 12px",border:"2px solid",borderColor:r.dayOfWeek===t?"#3b82f6":"var(--color-border)",borderRadius:"8px",background:r.dayOfWeek===t?"#3b82f6":"var(--color-surface)",color:r.dayOfWeek===t?"#ffffff":"var(--color-text)",fontSize:window.innerWidth<=480?"12px":"13px",fontWeight:"500",cursor:l||!r.enabled?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:r.enabled?1:.5,minHeight:"36px",display:"flex",alignItems:"center",justifyContent:"center"},children:e},t)))})})]}),(0,a.jsxs)("div",{style:{padding:"20px 28px",textAlign:"center",color:"var(--color-text-muted)",fontSize:"14px"},children:[(0,a.jsx)("i",{className:"fas fa-plus-circle",style:{marginLeft:"8px",fontSize:"16px",opacity:.6}}),"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05d9\u05ea\u05d5\u05d5\u05e1\u05e4\u05d5 \u05d1\u05e2\u05ea\u05d9\u05d3"]})]})]})},ku=()=>{var e,n,r,i;const[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[g,b]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[x,w]=(0,t.useState)(null),[j,k]=(0,t.useState)(null),{loadAllData:N}=lc(),S=async e=>{try{c(null),u(null);const t=await e.text(),n=JSON.parse(t);m(n),b(e.name||"backup.json"),p(!0)}catch(t){c("\u05e7\u05d5\u05d1\u05e5 \u05d2\u05d9\u05d1\u05d5\u05d9 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df. \u05d5\u05d3\u05d0 \u05e9\u05d4\u05e7\u05d5\u05d1\u05e5 \u05d4\u05d5\u05d0 JSON \u05ea\u05e7\u05d9\u05df.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"management-header-compact",children:[(0,a.jsx)("div",{className:"management-search-section",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",color:"var(--color-text-secondary)",fontSize:"14px"},children:[(0,a.jsx)("i",{className:"fas fa-database",style:{fontSize:"16px"}}),(0,a.jsx)("span",{children:"\u05d2\u05d9\u05d1\u05d5\u05d9 \u05d5\u05e9\u05d7\u05d6\u05d5\u05e8 \u05de\u05e1\u05d3 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"})]})}),(0,a.jsxs)("div",{className:"management-actions-compact",children:[(0,a.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:async()=>{try{o(!0),c(null),u(null),w(null),k(null);const e=await oo.exportDatabase();if(!e.success)return o(!1),void c(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05e6\u05d5\u05d0");w(e.data);const t=new Blob([JSON.stringify(e.data.data,null,2)],{type:"application/json;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`backup-${(new Date).toISOString().replace(/[:.]/g,"-")}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),u("\u05d9\u05d9\u05e6\u05d5\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd \u05d5\u05d4\u05e7\u05d5\u05d1\u05e5 \u05d4\u05d5\u05e8\u05d3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),o(!1)}catch(e){o(!1),c((null===e||void 0===e?void 0:e.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05e6\u05d5\u05d0")}},disabled:s,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px"},children:[(0,a.jsx)("i",{className:"fas fa-download",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d9\u05d9\u05e6\u05d5\u05d0"})]}),(0,a.jsxs)("label",{className:"btn btn-secondary btn-sm",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"0 16px",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,background:"var(--color-surface)",color:"var(--color-text)",border:"1px solid var(--color-border)",transition:"all 0.2s ease"},onMouseEnter:e=>{s||(e.currentTarget.style.background="var(--color-bg-hover)",e.currentTarget.style.borderColor="var(--color-border-hover)")},onMouseLeave:e=>{s||(e.currentTarget.style.background="var(--color-surface)",e.currentTarget.style.borderColor="var(--color-border)")},children:[(0,a.jsx)("i",{className:"fas fa-upload",style:{fontSize:"13px"}}),(0,a.jsx)("span",{style:{fontSize:"13px",fontWeight:"600"},children:"\u05d9\u05d9\u05d1\u05d5\u05d0"}),(0,a.jsx)("input",{type:"file",accept:"application/json,.json",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&S(n)},style:{display:"none"},disabled:s})]})]})]}),l&&(0,a.jsxs)("div",{style:{padding:"12px 16px",margin:"16px 0",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",color:"#ef4444",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,a.jsx)("span",{children:l})]}),d&&(0,a.jsxs)("div",{style:{padding:"12px 16px",margin:"16px 0",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"8px",color:"#22c55e",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-check-circle"}),(0,a.jsx)("span",{children:d})]}),s&&(0,a.jsxs)("div",{style:{padding:"16px",margin:"16px 0",background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",color:"var(--color-text-secondary)"},children:[(0,a.jsx)("div",{className:"saving-spinner"}),(0,a.jsx)("span",{children:j?"\u05de\u05d1\u05e6\u05e2 \u05e4\u05e2\u05d5\u05dc\u05d4...":null!==d&&void 0!==d&&d.includes("\u05d9\u05d9\u05d1\u05d5\u05d0 \u05d4\u05d7\u05dc")?"\u05de\u05d1\u05e6\u05e2 \u05d9\u05d9\u05d1\u05d5\u05d0 - \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5 \u05e2\u05dc\u05d5\u05dc\u05d4 \u05dc\u05e7\u05d7\u05ea \u05de\u05e1\u05e4\u05e8 \u05d3\u05e7\u05d5\u05ea...":"\u05de\u05d1\u05e6\u05e2 \u05e4\u05e2\u05d5\u05dc\u05d4..."})]}),x&&(0,a.jsxs)("div",{style:{margin:"20px 0",background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"8px",overflow:"hidden"},children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",background:"rgba(34, 197, 94, 0.15)",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-download",style:{color:"#22c55e",fontSize:"16px"}}),(0,a.jsx)("span",{style:{color:"var(--color-text)",fontWeight:"600",fontSize:"14px"},children:"\u05d9\u05d9\u05e6\u05d5\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd"}),(0,a.jsxs)("span",{style:{color:"var(--color-text-secondary)",fontSize:"13px"},children:[(null===(e=x.statistics)||void 0===e||null===(n=e.summary)||void 0===n?void 0:n.totalRecords)||0," \u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u2022 ",(null===(r=x.statistics)||void 0===r||null===(i=r.summary)||void 0===i?void 0:i.totalTables)||0," \u05d8\u05d1\u05dc\u05d0\u05d5\u05ea"]})]}),(0,a.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:[(0,a.jsx)("i",{className:"fas fa-check-circle",style:{marginLeft:"4px"}}),"\u05d4\u05e6\u05dc\u05d7\u05d4"]})]}),(0,a.jsx)("div",{style:{padding:"16px 20px",color:"var(--color-text-secondary)",fontSize:"14px"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle",style:{color:"var(--color-text-muted)"}}),(0,a.jsx)("span",{children:"\u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d9\u05d5\u05e6\u05d0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05d5\u05d4\u05d5\u05e8\u05d3\u05d5 \u05db\u05e7\u05d5\u05d1\u05e5 JSON"})]})})]}),j&&(0,a.jsxs)("div",{style:{margin:"20px 0",background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"8px",overflow:"hidden"},children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",background:"rgba(59, 130, 246, 0.15)",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-upload",style:{color:"#3b82f6",fontSize:"16px"}}),(0,a.jsx)("span",{style:{color:"var(--color-text)",fontWeight:"600",fontSize:"14px"},children:"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd"}),(0,a.jsxs)("span",{style:{color:"var(--color-text-secondary)",fontSize:"13px"},children:[Object.values(j||{}).reduce(((e,t)=>e+((null===t||void 0===t?void 0:t.success)||0)),0)," \u05d9\u05d5\u05d1\u05d0\u05d5 \u2022",Object.keys(j||{}).length," \u05d8\u05d1\u05dc\u05d0\u05d5\u05ea"]})]}),(0,a.jsxs)("div",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:[(0,a.jsx)("i",{className:"fas fa-check-circle",style:{marginLeft:"4px"}}),"\u05d4\u05e6\u05dc\u05d7\u05d4"]})]}),(0,a.jsx)("div",{style:{padding:"16px 20px",color:"var(--color-text-secondary)",fontSize:"14px"},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-info-circle",style:{color:"var(--color-text-muted)"}}),(0,a.jsx)("span",{children:"\u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d9\u05d5\u05d1\u05d0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05dc\u05de\u05e1\u05d3 \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"})]})})]}),(0,a.jsx)(pc,{isOpen:h,onClose:()=>{s||(p(!1),m(null),b(""),y(!1))},title:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d9\u05d9\u05d1\u05d5\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",size:"md",children:(0,a.jsxs)("div",{style:{padding:"20px"},children:[(0,a.jsx)("div",{style:{marginBottom:"20px"},children:(0,a.jsxs)("div",{style:{padding:"12px 16px",background:"rgba(251, 191, 36, 0.1)",border:"1px solid rgba(251, 191, 36, 0.2)",borderRadius:"8px",color:"#f59e0b",display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle",style:{marginTop:"2px"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"\u05d0\u05d6\u05d4\u05e8\u05d4"}),(0,a.jsxs)("div",{style:{fontSize:"13px"},children:["\u05e4\u05e2\u05d5\u05dc\u05ea \u05d9\u05d9\u05d1\u05d5\u05d0 \u05e2\u05dc\u05d5\u05dc\u05d4 \u05dc\u05e9\u05e0\u05d5\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea.",g&&(0,a.jsxs)("div",{style:{marginTop:"8px"},children:[(0,a.jsx)("strong",{children:"\u05e7\u05d5\u05d1\u05e5:"})," ",g]})]})]})]})}),(0,a.jsx)("div",{style:{marginBottom:"20px"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px"},children:[(0,a.jsx)("input",{type:"checkbox",checked:v,onChange:e=>y(e.target.checked),disabled:s}),(0,a.jsx)("span",{children:"\u05d4\u05d7\u05dc\u05e3 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05e7\u05d9\u05d9\u05de\u05d9\u05dd (\u05d0\u05dd \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9)"})]})}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,a.jsx)("button",{className:"btn btn-secondary",onClick:()=>p(!1),disabled:s,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(f)try{var e;o(!0),c(null),u(null),w(null),k(null),p(!1),u("\u05d9\u05d9\u05d1\u05d5\u05d0 \u05d4\u05d7\u05dc - \u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df, \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5 \u05e2\u05dc\u05d5\u05dc\u05d4 \u05dc\u05e7\u05d7\u05ea \u05d6\u05de\u05df \u05e8\u05d1...");const r=await oo.startImport(f,v);if(!r.success)return o(!1),c(r.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d7\u05d9\u05dc\u05ea \u05d9\u05d9\u05d1\u05d5\u05d0"),void u(null);const i=null===(e=r.data)||void 0===e?void 0:e.id;if(!i)return o(!1),c("\u05dc\u05d0 \u05d4\u05ea\u05e7\u05d1\u05dc \u05de\u05d6\u05d4\u05d4 \u05ea\u05d4\u05dc\u05d9\u05da \u05d9\u05d9\u05d1\u05d5\u05d0"),void u(null);let s=!1,l=0;for(;!s;){await new Promise((e=>setTimeout(e,2e3)));try{var t,n;const e=await oo.getImportStatus(i);if(!e.success)return o(!1),c(e.error||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d1\u05d3\u05d9\u05e7\u05ea \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d9\u05d9\u05d1\u05d5\u05d0"),void u(null);const r=e.data,a=null!==(t=null===r||void 0===r?void 0:r.progress)&&void 0!==t?t:0,d=null!==(n=null===r||void 0===r?void 0:r.done)&&void 0!==n&&n,h=null===r||void 0===r?void 0:r.message,p=null===r||void 0===r?void 0:r.status,f=null===r||void 0===r?void 0:r.result;if(a!==l||h){const e=a>0?` (${Math.round(a)}%)`:"";u(h||`\u05de\u05d1\u05e6\u05e2 \u05d9\u05d9\u05d1\u05d5\u05d0${e} - \u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df...`),l=a}if(d||"completed"===p)s=!0,k(f||{}),u("\u05d9\u05d9\u05d1\u05d5\u05d0 \u05d4\u05d5\u05e9\u05dc\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),o(!1),await N();else if("failed"===p||"error"===p)return o(!1),c(h||"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05e0\u05db\u05e9\u05dc"),void u(null)}catch(a){console.warn("Status polling error:",a)}}}catch(i){var r;o(!1),"ECONNABORTED"===(null===i||void 0===i?void 0:i.code)||null!==i&&void 0!==i&&null!==(r=i.message)&&void 0!==r&&r.includes("timeout")?c("\u05d4\u05d9\u05d9\u05d1\u05d5\u05d0 \u05e2\u05d3\u05d9\u05d9\u05df \u05e4\u05d5\u05e2\u05dc \u05d1\u05e8\u05e7\u05e2. \u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df \u05de\u05e1\u05e4\u05e8 \u05d3\u05e7\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05d5\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3."):c((null===i||void 0===i?void 0:i.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05d1\u05d5\u05d0"),u(null)}finally{m(null),b(""),y(!1)}else p(!1)},disabled:s,children:s?"\u05de\u05d1\u05e6\u05e2 \u05d9\u05d9\u05d1\u05d5\u05d0...":"\u05d0\u05e9\u05e8 \u05d9\u05d9\u05d1\u05d5\u05d0"})]})]})})]})},Nu=e=>{var n;let{userProfile:r,isAdmin:i}=e;const{updateUserProfile:s,refetch:o,userProfile:l}=nc(),{user:c}=tc(),{loadLocations:d}=lc(),u=l||r,[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[g,b]=(0,t.useState)(null);if((0,t.useEffect)((()=>{d()}),[d]),(0,t.useEffect)((()=>{if(g){const e=setTimeout((()=>{b(null)}),3e3);return()=>clearTimeout(e)}}),[g]),!u)return(0,a.jsxs)("div",{className:"settings-loading",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("p",{children:"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d8\u05d9 \u05de\u05e9\u05ea\u05de\u05e9..."})]});const v=()=>{p(null)},y=async()=>{if(!h)return;const{field:e,value:t}=h,n=((e,t)=>{if("name"===e)return 0===t.trim().length?"\u05e9\u05dd \u05d7\u05d5\u05d1\u05d4":"";if("personalNumber"===e){const e=parseInt(t);return isNaN(e)?"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8":7!==t.length?"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 7 \u05e1\u05e4\u05e8\u05d5\u05ea":""}if("phoneNumber"===e){const e=/^[0-9]{10}$/,n=t.replace(/\D/g,"");return e.test(n)?"":"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 10 \u05e1\u05e4\u05e8\u05d5\u05ea"}return""})(e,t);if(n)b({type:"error",text:n});else{m(!0),b(null);try{let n={};n="personalNumber"===e?{personalNumber:parseInt(t)}:"emailSubscribed"===e?{emailSubscribed:"true"===t}:{[e]:vo(t)};await s(n)?(b({type:"success",text:"\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e2\u05d5\u05d3\u05db\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"}),p(null),await o()):b({type:"error",text:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd"})}catch(n){b({type:"error",text:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd"})}finally{m(!1)}}},x=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",i=arguments.length>4?arguments[4]:void 0;const s=(null===h||void 0===h?void 0:h.field)===t;return(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:e}),s?(0,a.jsxs)("div",{className:"field-edit-container",children:["select"===r?(0,a.jsx)("select",{className:"field-input",value:h.value,onChange:e=>p({...h,value:e.target.value}),disabled:f,children:null===i||void 0===i?void 0:i.map((e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)))}):(0,a.jsx)("input",{type:r,className:"field-input",value:h.value,onChange:e=>p({...h,value:e.target.value}),disabled:f,autoFocus:!0}),(0,a.jsxs)("div",{className:"field-actions",children:[(0,a.jsx)("button",{className:"btn btn-sm btn-primary",onClick:y,disabled:f,children:f?"\u05e9\u05d5\u05de\u05e8...":"\u05e9\u05de\u05d5\u05e8"}),(0,a.jsx)("button",{className:"btn btn-sm btn-ghost",onClick:v,disabled:f,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]}):(0,a.jsxs)("div",{className:"field-display",children:[(0,a.jsx)("span",{className:"field-value",children:n}),(0,a.jsx)("button",{className:"btn btn-sm btn-ghost field-edit-btn",onClick:()=>((e,t)=>{p({field:e,value:t})})(t,n),title:`\u05e2\u05e8\u05d9\u05db\u05ea ${e}`,children:"\u05e2\u05e8\u05d9\u05db\u05d4"})]})]})};return(0,a.jsxs)("div",{className:"settings-tab",children:[(0,a.jsx)("div",{className:"settings-header",children:(0,a.jsx)("h1",{className:"settings-title",children:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d7\u05e9\u05d1\u05d5\u05df"})}),g&&(0,a.jsx)("div",{className:"settings-alert "+("success"===g.type?"alert-success":"alert-error"),children:g.text}),(0,a.jsxs)("div",{className:"settings-section",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05de\u05d9\u05d3\u05e2 \u05d0\u05d9\u05e9\u05d9"}),(0,a.jsxs)("div",{className:"settings-form",children:[x("\u05e9\u05dd \u05de\u05dc\u05d0","name",u.name),x("\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9","personalNumber",u.personalNumber.toString())]})]}),(0,a.jsxs)("div",{className:"settings-section",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05e7\u05e9\u05e8\u05d5\u05ea"}),(0,a.jsxs)("div",{className:"settings-form",children:[(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,a.jsx)("div",{className:"field-display",children:(0,a.jsx)("span",{className:"field-value",children:(null===c||void 0===c?void 0:c.email)||"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df"})})]}),x("\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","phoneNumber",u.phoneNumber)]})]}),(0,a.jsxs)("div",{className:"settings-section",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05e4\u05e8\u05d8\u05d9 \u05ea\u05e4\u05e7\u05d9\u05d3"}),(0,a.jsxs)("div",{className:"settings-form",children:[x("\u05d3\u05e8\u05d2\u05d4","rank",u.rank,"select",du.map((e=>({value:e,label:e})))),(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:"\u05d9\u05d7\u05d9\u05d3\u05d4"}),(0,a.jsx)("div",{className:"field-display",children:(0,a.jsx)("span",{className:"field-value",children:u.unit})})]}),(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:"\u05de\u05d9\u05e7\u05d5\u05dd"}),(0,a.jsx)("div",{className:"field-display",children:(0,a.jsx)("span",{className:"field-value",children:u.location})})]}),(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:"\u05e1\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9"}),(0,a.jsx)("div",{className:"field-display",children:(0,a.jsx)("span",{className:"field-value role-badge","data-role":u.isAdmin?"admin":"user",children:u.isAdmin?"\u05de\u05e0\u05d4\u05dc \u05de\u05e2\u05e8\u05db\u05ea":"\u05de\u05e9\u05ea\u05de\u05e9 \u05e8\u05d2\u05d9\u05dc"})})]})]})]}),(0,a.jsxs)("div",{className:"settings-section",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}),(0,a.jsx)("div",{className:"settings-form",children:(0,a.jsxs)("div",{className:"settings-field",children:[(0,a.jsx)("label",{className:"field-label",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),"emailSubscribed"===(null===h||void 0===h?void 0:h.field)?(0,a.jsxs)("div",{className:"field-edit-container",children:[(0,a.jsxs)("div",{className:"field-display notification-toggle-field",children:[(0,a.jsx)("span",{className:"notification-toggle-label",children:"true"===h.value?"\u05de\u05d5\u05e4\u05e2\u05dc":"\u05de\u05d1\u05d5\u05d8\u05dc"}),(0,a.jsxs)("label",{className:"notification-toggle-wrapper",children:[(0,a.jsx)("input",{type:"checkbox",checked:"true"===h.value,onChange:e=>{var t;const n=e.target.checked,r=null!==(t=u.emailSubscribed)&&void 0!==t&&t;p(n===r?null:{...h,value:n.toString()})},disabled:f,className:"notification-toggle-input"}),(0,a.jsx)("span",{className:"notification-toggle-slider"})]})]}),(0,a.jsxs)("div",{className:"field-actions",children:[(0,a.jsx)("button",{className:"btn btn-sm btn-primary",onClick:y,disabled:f,children:f?"\u05e9\u05d5\u05de\u05e8...":"\u05e9\u05de\u05d5\u05e8"}),(0,a.jsx)("button",{className:"btn btn-sm btn-ghost",onClick:v,disabled:f,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]}):(0,a.jsxs)("div",{className:"field-display notification-toggle-field",children:[(0,a.jsx)("span",{className:"notification-toggle-label",children:u.emailSubscribed?"\u05de\u05d5\u05e4\u05e2\u05dc":"\u05de\u05d1\u05d5\u05d8\u05dc"}),(0,a.jsxs)("label",{className:"notification-toggle-wrapper",children:[(0,a.jsx)("input",{type:"checkbox",checked:null!==(n=u.emailSubscribed)&&void 0!==n&&n,onChange:e=>(e=>{var t;if(!u||f)return;e!==(null!==(t=u.emailSubscribed)&&void 0!==t&&t)?p({field:"emailSubscribed",value:e.toString()}):p(null)})(e.target.checked),disabled:f,className:"notification-toggle-input"}),(0,a.jsx)("span",{className:"notification-toggle-slider"})]})]})]})})]}),(0,a.jsxs)("div",{className:"settings-section",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05d4\u05e2\u05d3\u05e4\u05d5\u05ea \u05ea\u05e6\u05d5\u05d2\u05d4"}),(0,a.jsx)("div",{className:"settings-form",children:(0,a.jsx)("div",{className:"settings-field",children:(0,a.jsx)(wc,{showLabel:!0,variant:"default",size:"md",className:"theme-toggle-settings"})})})]})]})},Su=e=>{let{onGetStartedClick:n,isLoading:r}=e;const[i,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const o=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return(0,a.jsx)("nav",{className:"top-navigation "+(i?"scrolled":""),children:(0,a.jsxs)("div",{className:"nav-container",children:[(0,a.jsx)("div",{className:"nav-brand",children:(0,a.jsxs)("div",{className:"brand-logo",children:[(0,a.jsx)("span",{className:"logo-icon",children:"\ud83d\udccb"}),(0,a.jsxs)("div",{className:"brand-text",children:[(0,a.jsx)("h1",{className:"brand-name",children:"\u05d0\u05d7\u05dc\u05f4\u05df"}),(0,a.jsx)("p",{className:"brand-subtitle",children:"\u05d0\u05de\u05e6\u05e2\u05d9 \u05d7\u05ea\u05d9\u05de\u05d5\u05ea \u05dc\u05dc\u05d0 \u05e0\u05d9\u05d9\u05e8\u05ea"})]})]})}),(0,a.jsxs)("div",{className:"nav-links",children:[(0,a.jsx)("button",{className:"nav-link",onClick:()=>o("features"),children:"\u05d9\u05db\u05d5\u05dc\u05d5\u05ea"}),(0,a.jsx)("button",{className:"nav-link",onClick:()=>o("contact"),children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8"})]})]})})},Cu=e=>{let{onGetStartedClick:t,isLoading:n}=e;return(0,a.jsx)("section",{className:"hero-section",children:(0,a.jsxs)("div",{className:"hero-content",children:[(0,a.jsx)("h1",{className:"hero-title",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05dc\u05d0\u05d9 \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9"}),(0,a.jsx)("p",{className:"hero-description",children:"\u05e4\u05ea\u05e8\u05d5\u05df \u05e4\u05e9\u05d5\u05d8 \u05d5\u05d7\u05db\u05dd \u05dc\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05dc\u05d0\u05d9 \u05e2\u05dd \u05d7\u05ea\u05d9\u05de\u05d5\u05ea \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05d5\u05ea"}),(0,a.jsx)("button",{className:"cta-button",onClick:t,disabled:n,children:n?"\u05de\u05ea\u05d7\u05d1\u05e8...":"\u05d4\u05ea\u05d7\u05d9\u05dc\u05d5 \u05e2\u05db\u05e9\u05d9\u05d5"})]})})},Eu=()=>(0,a.jsx)("section",{id:"features",className:"features-section",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05d4\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsxs)("div",{className:"features-grid",children:[(0,a.jsxs)("div",{className:"feature-card",children:[(0,a.jsx)("h3",{children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"}),(0,a.jsx)("p",{children:"\u05de\u05e2\u05e7\u05d1 \u05e4\u05e9\u05d5\u05d8 \u05d0\u05d7\u05e8 \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05de\u05dc\u05d0\u05d9"})]}),(0,a.jsxs)("div",{className:"feature-card",children:[(0,a.jsx)("h3",{children:"\u05d3\u05d5\u05d7\u05d5\u05ea"}),(0,a.jsx)("p",{children:"\u05d3\u05d5\u05d7\u05d5\u05ea \u05d1\u05e8\u05d5\u05e8\u05d9\u05dd \u05d5\u05de\u05e4\u05d5\u05e8\u05d8\u05d9\u05dd"})]}),(0,a.jsxs)("div",{className:"feature-card",children:[(0,a.jsx)("h3",{children:"\u05d7\u05ea\u05d9\u05de\u05d5\u05ea \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05d5\u05ea"}),(0,a.jsx)("p",{children:"\u05d7\u05ea\u05d9\u05de\u05d5\u05ea \u05de\u05d0\u05d5\u05d1\u05d8\u05d7\u05d5\u05ea \u05dc\u05de\u05e1\u05de\u05db\u05d9\u05dd"})]})]})]})}),Iu=e=>{let{onSubmit:n,isSubmitting:r}=e;const[i,s]=(0,t.useState)({name:"",email:"",subject:"",message:"",type:"contact"});return(0,a.jsx)("section",{id:"contact",className:"contact-section",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h2",{className:"section-title",children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8"}),(0,a.jsx)("div",{className:"contact-form-card",children:(0,a.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await n(i),s({name:"",email:"",subject:"",message:"",type:"contact"})},className:"contact-form",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"type",children:"\u05e1\u05d5\u05d2 \u05d4\u05e4\u05e0\u05d9\u05d9\u05d4"}),(0,a.jsxs)("select",{id:"type",value:i.type,onChange:e=>s({...i,type:e.target.value}),required:!0,children:[(0,a.jsx)("option",{value:"contact",children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8 \u05db\u05dc\u05dc\u05d9"}),(0,a.jsx)("option",{value:"support",children:"\u05ea\u05de\u05d9\u05db\u05d4 \u05d8\u05db\u05e0\u05d9\u05ea"})]})]}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"name",children:"\u05e9\u05dd \u05de\u05dc\u05d0"}),(0,a.jsx)("input",{type:"text",id:"name",value:i.name,onChange:e=>s({...i,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"email",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,a.jsx)("input",{type:"email",id:"email",value:i.email,onChange:e=>s({...i,email:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"subject",children:"\u05e0\u05d5\u05e9\u05d0"}),(0,a.jsx)("input",{type:"text",id:"subject",value:i.subject,onChange:e=>s({...i,subject:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"message",children:"\u05d4\u05d5\u05d3\u05e2\u05d4"}),(0,a.jsx)("textarea",{id:"message",rows:5,value:i.message,onChange:e=>s({...i,message:e.target.value}),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"submit-btn",disabled:r,children:r?"\u05e9\u05d5\u05dc\u05d7...":"\u05e9\u05dc\u05d7 \u05d4\u05d5\u05d3\u05e2\u05d4"})]})})]})})},_u=()=>(0,a.jsx)("footer",{className:"site-footer",children:(0,a.jsx)("div",{className:"footer-container",children:(0,a.jsx)("div",{className:"footer-bottom",children:(0,a.jsxs)("div",{className:"footer-copyright",children:[(0,a.jsx)("p",{children:"\xa9 2025 \u05d0\u05d7\u05dc\u05f4\u05df. \u05db\u05dc \u05d4\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea."}),(0,a.jsx)("p",{className:"footer-developer",children:'\u05e4\u05d5\u05ea\u05d7 \u05e2"\u05d9 \u05e1\u05e7"\u05e9'})]})})})}),Tu=e=>{let{onAuthSuccess:n,onAuthError:r,onSignInClick:i,isAuthLoading:s}=e;const[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({isOpen:!1,type:"info",message:""}),u=(e,t,n)=>{d({isOpen:!0,type:e,message:t,title:n})};return(0,a.jsxs)("div",{className:"landing-container",children:[(0,a.jsx)(Su,{onGetStartedClick:i,isLoading:s}),(0,a.jsx)(Cu,{onGetStartedClick:i,isLoading:s}),(0,a.jsx)(Eu,{}),(0,a.jsx)(Iu,{onSubmit:async e=>{l(!0);try{const t=await no.post("email/support",e);t.success?u("success",`${t.message||"\u05d4\u05d5\u05d3\u05e2\u05ea\u05da \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4. \u05e0\u05d7\u05d6\u05d5\u05e8 \u05d0\u05dc\u05d9\u05da \u05d1\u05d4\u05e7\u05d3\u05dd."}\n\n\u05ea\u05d5\u05d3\u05d4 \u05e9\u05e4\u05e0\u05d9\u05ea \u05d0\u05dc\u05d9\u05e0\u05d5!`,"\u05d4\u05e6\u05dc\u05d7\u05d4!"):u("error",t.message||"\u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea.")}catch(a){var t,n,r;console.error("Error sending contact form:",a);let e="";if(null!==(t=a.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message)e=a.response.data.message;else if(null!==(r=a.response)&&void 0!==r&&r.status)switch(a.response.status){case 400:e="\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd. \u05d0\u05e0\u05d0 \u05d1\u05d3\u05e7\u05d5 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d5\u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea.";break;case 500:e="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05e4\u05e0\u05d9\u05de\u05d9\u05ea \u05d1\u05e9\u05e8\u05ea. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8.";break;case 503:e="\u05d4\u05e9\u05d9\u05e8\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05d6\u05de\u05d9\u05df \u05db\u05e8\u05d2\u05e2. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8.";break;default:e="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea \u05d0\u05d5 \u05e6\u05e8\u05d5 \u05e7\u05e9\u05e8 \u05d1\u05d0\u05de\u05e6\u05e2\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9\u05dd."}else e="NETWORK_ERROR"===a.code?"\u05d1\u05e2\u05d9\u05d9\u05ea \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8. \u05d0\u05e0\u05d0 \u05d1\u05d3\u05e7\u05d5 \u05d0\u05ea \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05d5\u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea.":"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05e6\u05e4\u05d5\u05d9\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8.";u("error",e,"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d7\u05d9\u05d1\u05d5\u05e8")}finally{l(!1)}},isSubmitting:o}),(0,a.jsx)(_u,{}),(0,a.jsx)(bc,{isOpen:c.isOpen,onClose:()=>{d((e=>({...e,isOpen:!1})))},type:c.type,message:c.message,title:c.title})]})},Ru=e=>{let{onAuthSuccess:n,onAuthError:r}=e;const[i,s]=(0,t.useState)(!1);return(0,a.jsx)(Tu,{onSignInClick:async()=>{s(!0);try{const e=new yi,t=await async function(e,t,n){if(pr(e.app))return Promise.reject(zr(e,"operation-not-supported-in-this-environment"));const r=Ha(e);Fr(e,t,gi);const a=is(r,n);return new hs(r,"signInViaPopup",t,a).executeNotNull()}(Zl,e);console.log("\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05db\u05e0\u05e1 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4:",t.user),null===n||void 0===n||n(t.user)}catch(e){console.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05db\u05e0\u05d9\u05e1\u05d4:",e),null===r||void 0===r||r(e instanceof Error?e.message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2\u05d4")}finally{s(!1)}},isAuthLoading:i,onAuthSuccess:n,onAuthError:r})},Au=e=>{let{onComplete:n,userEmail:r,userDisplayName:i,userPhoneNumber:s,isLoading:o=!1,error:l=null}=e;const[c,d]=(0,t.useState)({name:i||"",personalNumber:0,phoneNumber:s||"",rank:""}),[u,h]=(0,t.useState)({}),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(new Set);(0,t.useEffect)((()=>(document.body.classList.add("profile-setup-active"),g((e=>{const t=new Set(e);return i&&""!==i.trim()&&t.add("name"),s&&""!==s.trim()&&t.add("phoneNumber"),t})),()=>{document.body.classList.remove("profile-setup-active")})),[i,s]);const b=[c.name,c.personalNumber,c.phoneNumber,c.rank].filter((e=>e&&""!==e.toString().trim())).length,v=b/4*100,y=(e,t)=>{d((n=>({...n,[e]:"name"===e?t:"personalNumber"===e?""===t?0:parseInt(t,10)||0:vo(t)}))),u[e]&&h((t=>({...t,[e]:void 0}))),t&&""!==t.toString().trim()?g((t=>{const n=new Set(t);return n.add(e),n})):g((t=>{const n=new Set(t);return n.delete(e),n}))},x=e=>{f(e)},w=()=>{f(null)},j=e=>m.has(e)?(0,a.jsx)("span",{className:"success-checkmark"}):null;return(0,a.jsx)("div",{className:"profile-setup-container","data-testid":"profile-setup-modal",children:(0,a.jsxs)("div",{className:"profile-setup-card",children:[(0,a.jsxs)("div",{className:"profile-setup-header",children:[(0,a.jsx)("h1",{className:"profile-setup-title",children:"\u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc\u05de\u05e2\u05e8\u05db\u05ea"}),(0,a.jsxs)("p",{className:"profile-setup-subtitle",children:["\u05e9\u05dc\u05d5\u05dd ",i||r]}),(0,a.jsx)("p",{className:"profile-setup-email",children:"\u05e0\u05d3\u05e8\u05e9 \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d4\u05d0\u05d9\u05e9\u05d9\u05d9\u05dd \u05dc\u05d4\u05de\u05e9\u05da \u05d4\u05e9\u05d9\u05de\u05d5\u05e9"})]}),(0,a.jsxs)("div",{className:"profile-setup-body",children:[(0,a.jsx)("div",{className:"progress-indicator",children:[...Array(4)].map(((e,t)=>(0,a.jsx)("div",{className:"progress-dot "+(t<b?"active":"")},t)))}),(e=>{if(!e)return!1;return!["Failed to load user profile","No authenticated user found","User not found","Authentication required","Unauthorized","Token expired","Invalid token","Please log in","Session expired"].some((t=>e.toLowerCase().includes(t.toLowerCase())))})(l)&&(0,a.jsxs)("div",{className:"error-message",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),l]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return bo(c.name)||(e.name="\u05e9\u05dd \u05d7\u05d5\u05d1\u05d4"),go(c.personalNumber)||(e.personalNumber="\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d1\u05d3\u05d9\u05d5\u05e7 7 \u05e1\u05e4\u05e8\u05d5\u05ea"),mo(c.phoneNumber)||(e.phoneNumber="\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df"),bo(c.rank)||(e.rank="\u05d3\u05e8\u05d2\u05d4 \u05d7\u05d5\u05d1\u05d4"),h(e),0===Object.keys(e).length})()&&n(c)},children:[(0,a.jsxs)("div",{className:"form-group "+("name"===p?"focused":""),children:[(0,a.jsx)("label",{className:"form-label required",children:"\u05e9\u05dd \u05de\u05dc\u05d0"}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{className:"form-input "+(u.name?"error":""),name:"name",value:c.name,onChange:e=>y("name",e.target.value),onFocus:()=>x("name"),onBlur:w,required:!0,placeholder:i?"\u05e9\u05dd \u05de\u05dc\u05d0 (\u05de\u05ea\u05d5\u05da \u05d4\u05d7\u05e9\u05d1\u05d5\u05df)":"\u05d4\u05d6\u05df \u05d0\u05ea \u05e9\u05de\u05da \u05d4\u05de\u05dc\u05d0"}),j("name")]}),u.name&&(0,a.jsxs)("div",{className:"form-error",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),u.name]})]}),(0,a.jsxs)("div",{className:"form-group "+("phoneNumber"===p?"focused":""),children:[(0,a.jsx)("label",{className:"form-label required",children:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{className:"form-input "+(u.phoneNumber?"error":""),name:"phoneNumber",value:c.phoneNumber,onChange:e=>y("phoneNumber",e.target.value),onFocus:()=>x("phoneNumber"),onBlur:w,required:!0,placeholder:s?"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df (\u05de\u05ea\u05d5\u05da \u05d4\u05d7\u05e9\u05d1\u05d5\u05df)":"05xxxxxxxx"}),j("phoneNumber")]}),u.phoneNumber&&(0,a.jsxs)("div",{className:"form-error",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),u.phoneNumber]})]}),(0,a.jsxs)("div",{className:"form-group "+("personalNumber"===p?"focused":""),children:[(0,a.jsx)("label",{className:"form-label required",children:"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9"}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"number",className:"form-input "+(u.personalNumber?"error":""),name:"personalNumber",value:c.personalNumber||"",onChange:e=>{const t=e.target.value;(""===t||/^[0-9]{1,7}$/.test(t)&&t.length<=7)&&y("personalNumber",t)},onInput:e=>{const t=e.target;t.value.length>7&&(t.value=t.value.slice(0,7))},onFocus:()=>x("personalNumber"),onBlur:w,placeholder:"\u05d4\u05d6\u05df 7 \u05e1\u05e4\u05e8\u05d5\u05ea",min:"1000000",max:"9999999",required:!0}),j("personalNumber")]}),u.personalNumber&&(0,a.jsxs)("div",{className:"form-error",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),u.personalNumber]})]}),(0,a.jsxs)("div",{className:"form-group "+("rank"===p?"focused":""),children:[(0,a.jsx)("label",{className:"form-label required",children:"\u05d3\u05e8\u05d2\u05d4"}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsxs)("select",{className:"form-select "+(u.rank?"error":""),name:"rank",value:c.rank,onChange:e=>y("rank",e.target.value),onFocus:()=>x("rank"),onBlur:w,required:!0,children:[(0,a.jsx)("option",{value:"",children:"\u05d1\u05d7\u05e8 \u05d3\u05e8\u05d2\u05d4"}),du.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]}),j("rank")]}),u.rank&&(0,a.jsxs)("div",{className:"form-error",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),u.rank]})]}),(0,a.jsxs)("div",{className:"info-message",children:[(0,a.jsx)("i",{className:"fas fa-info-circle info-icon"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\u05d4\u05e2\u05e8\u05d4 \u05d7\u05e9\u05d5\u05d1\u05d4:"})," \u05de\u05d9\u05e7\u05d5\u05dd \u05d9\u05d5\u05e7\u05e6\u05d4 \u05dc\u05da \u05e2\u05dc \u05d9\u05d3\u05d9 \u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05dc\u05d0\u05d7\u05e8 \u05d4\u05e9\u05dc\u05de\u05ea \u05d4\u05e8\u05d9\u05e9\u05d5\u05dd.",(0,a.jsx)("br",{}),"\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d9\u05ea\u05e0\u05d9\u05dd \u05dc\u05e2\u05d3\u05db\u05d5\u05df \u05d1\u05e2\u05ea\u05d9\u05d3 \u05d3\u05e8\u05da \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9."]})]}),(0,a.jsx)("button",{type:"submit",className:"submit-button",disabled:o||v<100,children:o?(0,a.jsxs)("div",{className:"loading-spinner",children:[(0,a.jsx)("div",{className:"spinner"}),"\u05e9\u05d5\u05de\u05e8 \u05e4\u05e8\u05d8\u05d9\u05dd..."]}):(0,a.jsxs)(a.Fragment,{children:["\u05d4\u05e9\u05dc\u05dd \u05e8\u05d9\u05e9\u05d5\u05dd",(0,a.jsx)("i",{className:"fas fa-arrow-left",style:{marginRight:"8px"}})]})})]})]})]})})},Pu=()=>{const[e,n]=(0,t.useState)("dashboard"),[r,o]=(0,t.useState)(null),l=(0,t.useRef)(null),{user:c,isLoading:d,logout:u}=tc(),{userProfile:h,isLoading:p,needsProfile:f,error:m,isAdmin:g,createUserProfile:b}=nc();(0,t.useEffect)((()=>{const e=e=>{if(/iPad|iPhone|iPod/.test(navigator.userAgent)){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"SELECT"!==t.tagName||(t.style.fontSize="16px")}};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}}),[]);const v=e=>{o(null)},y=e=>{o(e)},x=async()=>{try{await u()}catch(e){}},w=async e=>{try{await b(e)}catch(t){}};if(d||p)return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem"},children:"\u05d8\u05d5\u05e2\u05df..."});if(!c)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ru,{onAuthSuccess:v,onAuthError:y}),r&&(0,a.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",background:"#f8d7da",color:"#721c24",padding:"12px 16px",borderRadius:"4px",border:"1px solid #f5c6cb",zIndex:1e3},children:[r,(0,a.jsx)("button",{onClick:()=>o(null),style:{marginLeft:"10px",background:"none",border:"none",color:"#721c24",cursor:"pointer",fontSize:"16px"},children:"\u2715"})]})]});if(f)return(0,a.jsx)(oc,{children:(0,a.jsx)(Au,{onComplete:w,userEmail:c.email||"",userDisplayName:c.displayName||void 0,userPhoneNumber:c.phoneNumber||void 0,isLoading:p,error:m})});if(!h)return(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontSize:"1.2rem"},children:[(0,a.jsx)("div",{className:"alert alert-danger",children:m||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"})]});const j=g?["dashboard","dailyReport","receipts","users","items","management"]:["dashboard","dailyReport","receipts"];j.includes(e)||"settings"===e||n(j[0]);return(0,a.jsx)(Ec,{children:(0,a.jsx)(ac,{children:(0,a.jsx)(dc,{children:(0,a.jsx)(oc,{children:(0,a.jsx)(i,{topHeader:(0,a.jsx)(_c,{user:c,userProfile:h,isAdmin:g,onLogout:x,onSettingsClick:()=>n("settings"),onPendingReceiptsClick:()=>{n("receipts"),setTimeout((()=>{var e;null===(e=l.current)||void 0===e||e.switchToPendingTab()}),0)}}),sidebar:(0,a.jsx)(s,{activeTab:e,availableTabs:[...j,"settings"],onTabChange:e=>n(e),user:c,userProfile:h,isAdmin:g,onLogout:x}),children:(()=>{switch(e){case"dashboard":return(0,a.jsx)(Dc,{});case"dailyReport":return(0,a.jsx)(Fc,{userProfile:h,isAdmin:g});case"receipts":return(0,a.jsx)(cu,{ref:l,userProfile:h,isAdmin:g});case"users":return g?(0,a.jsx)(hu,{isAdmin:g}):null;case"items":return g?(0,a.jsx)(fu,{userProfile:h,isAdmin:g}):null;case"management":return g?(0,a.jsx)(mu,{}):null;case"settings":return(0,a.jsx)(Nu,{userProfile:h,isAdmin:g});default:return null}})()})})})})})};r.createRoot(document.getElementById("root")).render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(Pu,{})}))})()})();
//# sourceMappingURL=main.e37546fa.js.map